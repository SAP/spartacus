<h3>
  {{ 'opfCheckout.paymentOption' | cxTranslate }}
</h3>
<ng-container
  *ngIf="activeConfigurations$ | async as activeConfigurationsState"
>
  <div
    class="cx-payment-options-list"
    *ngIf="!activeConfigurationsState?.loading; else loading"
  >
    <cx-opf-checkout-terms-and-conditions-alert
      [isVisible]="disabled"
    ></cx-opf-checkout-terms-and-conditions-alert>
    <div
      class="form-check"
      *ngFor="let configuration of activeConfigurationsState?.data"
    >
      <input
        id="paymentId-{{ configuration.id }}"
        class="form-check-input"
        role="radio"
        type="radio"
        aria-checked="true"
        (change)="changePayment(configuration)"
        [value]="configuration.id"
        [checked]="configuration.id === selectedPaymentId"
        formControlName="paymentId"
        [disabled]="disabled"
      />
      <label
        class="cx-payment-type-label form-check-label form-radio-label"
        for="paymentId-{{ configuration.id }}"
      >
        <div class="cx-payment-type">
          {{ configuration.displayName }}
        </div>
      </label>
      <cx-opf-checkout-payment-wrapper
        *ngIf="selectedPaymentId && configuration.id === selectedPaymentId"
        [selectedPaymentId]="selectedPaymentId"
      ></cx-opf-checkout-payment-wrapper>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <cx-spinner></cx-spinner>
</ng-template>
