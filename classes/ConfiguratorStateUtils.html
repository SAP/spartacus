<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefrontapp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefrontapp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li >ConfiguratorStateUtils</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts</code>
        </p>






            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#getAttributeName" >getAttributeName</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#getKey" >getKey</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#isTargetGroup" >isTargetGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#mergeGroupsWithSupplements" >mergeGroupsWithSupplements</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#mergeGroupWithSupplements" >mergeGroupWithSupplements</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#mergeTargetGroupWithSupplements" >mergeTargetGroupWithSupplements</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#mergeValuesWithSupplement" >mergeValuesWithSupplement</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                    <span class="modifier">Static</span>
                                <a href="#updateArrayElement" >updateArrayElement</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>



            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAttributeName"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>getAttributeName</b></span>
                        <a href="#getAttributeName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAttributeName(attributeUiKey: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="132"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:132</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attributeUiKey</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getKey"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>getKey</b></span>
                        <a href="#getKey"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getKey(key: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="137"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:137</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>key</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isTargetGroup"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>isTargetGroup</b></span>
                        <a href="#isTargetGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isTargetGroup(group: <a href="../injectables/Config.html" target="_self">Configurator.Group</a>, attributeSupplements: <a href="../injectables/Config.html" target="_self">Configurator.AttributeSupplement[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="87"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:87</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>group</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeSupplements</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.AttributeSupplement[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mergeGroupsWithSupplements"></a>
                    <span class="name">
                        <span class="modifier">Static</span>
                        <span ><b>mergeGroupsWithSupplements</b></span>
                        <a href="#mergeGroupsWithSupplements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>mergeGroupsWithSupplements(groups: <a href="../injectables/Config.html" target="_self">Configurator.Group[]</a>, attributeSupplements: <a href="../injectables/Config.html" target="_self">Configurator.AttributeSupplement[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:4</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>groups</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeSupplements</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.AttributeSupplement[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.Group[]</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mergeGroupWithSupplements"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>mergeGroupWithSupplements</b></span>
                        <a href="#mergeGroupWithSupplements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>mergeGroupWithSupplements(group: <a href="../injectables/Config.html" target="_self">Configurator.Group</a>, attributeSupplements: <a href="../injectables/Config.html" target="_self">Configurator.AttributeSupplement[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="17"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:17</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>group</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeSupplements</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.AttributeSupplement[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mergeTargetGroupWithSupplements"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>mergeTargetGroupWithSupplements</b></span>
                        <a href="#mergeTargetGroupWithSupplements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>mergeTargetGroupWithSupplements(group: <a href="../injectables/Config.html" target="_self">Configurator.Group</a>, attributeSupplements: <a href="../injectables/Config.html" target="_self">Configurator.AttributeSupplement[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="34"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:34</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>group</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeSupplements</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.AttributeSupplement[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../injectables/Config.html" target="_self" >Configurator.Group</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mergeValuesWithSupplement"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>mergeValuesWithSupplement</b></span>
                        <a href="#mergeValuesWithSupplement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>mergeValuesWithSupplement(attributeValues: <a href="../injectables/Config.html" target="_self">Configurator.Value[] | undefined</a>, attributeSupplement: <a href="../injectables/Config.html" target="_self">Configurator.AttributeSupplement</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="65"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:65</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attributeValues</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.Value[] | undefined</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>attributeSupplement</td>
                                    <td>
                                                <code><a href="../injectables/Config.html" target="_self" >Configurator.AttributeSupplement</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#undefined" target="_self" >[] | undefined</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateArrayElement"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span class="modifier">Static</span>
                        <span ><b>updateArrayElement</b></span>
                        <a href="#updateArrayElement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateArrayElement(array: <a href="../s/undefined.html" target="_self">T[] | undefined</a>, predicate: (value: T,index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>,obj: T[]) => void, projection: (value: T,index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>) => void)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="114"
                            class="link-to-prism">feature-libs/product-configurator/rulebased/core/state/configurator-state-utils.ts:114</a></div>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Type parameters :</b>
                    <ul class="type-parameters">
                        <li>T</li>
                    </ul>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>It searches in the given <code>array</code> for the first element satisfying the <code>predicate</code> function.
Then it returns a fresh array, where this element is replaced with the result of the <code>projection</code> function.</p>
<p>If no element of the <code>array</code> satisfied the <code>predicate</code>, it returns the original <code>array</code>.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>array</td>
                                    <td>
                                                <code><a href="../miscellaneous/variables.html#undefined" target="_self" >T[] | undefined</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>predicate</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>projection</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/variables.html#undefined" target="_self" >[] | undefined</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Configurator } from &#x27;../model/configurator.model&#x27;;

export class ConfiguratorStateUtils {
  static mergeGroupsWithSupplements(
    groups: Configurator.Group[],
    attributeSupplements: Configurator.AttributeSupplement[]
  ): Configurator.Group[] {
    const mergedGroups: Configurator.Group[] &#x3D; [];
    groups.forEach((group) &#x3D;&gt;
      mergedGroups.push(
        this.mergeGroupWithSupplements(group, attributeSupplements)
      )
    );
    return mergedGroups;
  }

  protected static mergeGroupWithSupplements(
    group: Configurator.Group,
    attributeSupplements: Configurator.AttributeSupplement[]
  ): Configurator.Group {
    if (this.isTargetGroup(group, attributeSupplements)) {
      return this.mergeTargetGroupWithSupplements(group, attributeSupplements);
    } else {
      return {
        ...group,
        subGroups: this.mergeGroupsWithSupplements(
          group.subGroups,
          attributeSupplements
        ),
      };
    }
  }

  protected static mergeTargetGroupWithSupplements(
    group: Configurator.Group,
    attributeSupplements: Configurator.AttributeSupplement[]
  ): Configurator.Group {
    let mergedAttributes &#x3D; group.attributes;

    attributeSupplements.forEach((attributeSupplement) &#x3D;&gt; {
      const attributeName &#x3D; ConfiguratorStateUtils.getAttributeName(
        attributeSupplement.attributeUiKey
      );
      mergedAttributes &#x3D; this.updateArrayElement(
        mergedAttributes,
        (attribute) &#x3D;&gt; attribute.name &#x3D;&#x3D;&#x3D; attributeName,
        (attribute) &#x3D;&gt; {
          return {
            ...attribute,
            values: this.mergeValuesWithSupplement(
              attribute.values,
              attributeSupplement
            ),
          };
        }
      );
    });

    return {
      ...group,
      attributes: mergedAttributes,
    };
  }

  protected static mergeValuesWithSupplement(
    attributeValues: Configurator.Value[] | undefined,
    attributeSupplement: Configurator.AttributeSupplement
  ): Configurator.Value[] | undefined {
    let mergedValues &#x3D; attributeValues;

    attributeSupplement.valueSupplements.forEach((valueSupplement) &#x3D;&gt; {
      mergedValues &#x3D; this.updateArrayElement(
        mergedValues,
        (value) &#x3D;&gt; value.valueCode &#x3D;&#x3D;&#x3D; valueSupplement.attributeValueKey,
        (value) &#x3D;&gt; {
          return {
            ...value,
            valuePrice: valueSupplement.priceValue,
          };
        }
      );
    });

    return mergedValues;
  }

  protected static isTargetGroup(
    group: Configurator.Group,
    attributeSupplements: Configurator.AttributeSupplement[]
  ): boolean {
    const firstSupplement &#x3D; attributeSupplements[0];
    if (firstSupplement) {
      const attributeName &#x3D; ConfiguratorStateUtils.getAttributeName(
        firstSupplement.attributeUiKey
      );
      const attributeUiKey &#x3D; ConfiguratorStateUtils.getKey(
        firstSupplement.attributeUiKey,
        attributeName
      );
      return group.id.indexOf(attributeUiKey) &gt;&#x3D; 0;
    } else {
      // that should never happen, as we merge existing groups
      // with supplements only if supplements are available
      throw new Error(&#x27;We expect at least one attribute supplement&#x27;);
    }
  }

  /**
   * It searches in the given &#x60;array&#x60; for the first element satisfying the &#x60;predicate&#x60; function.
   * Then it returns a fresh array, where this element is replaced with the result of the &#x60;projection&#x60; function.
   *
   * If no element of the &#x60;array&#x60; satisfied the &#x60;predicate&#x60;, it returns the original &#x60;array&#x60;.
   */
  protected static updateArrayElement&lt;T&gt;(
    array: T[] | undefined,
    predicate: (value: T, index: number, obj: T[]) &#x3D;&gt; unknown,
    projection: (value: T, index: number) &#x3D;&gt; T
  ): T[] | undefined {
    if (array) {
      const index &#x3D; array.findIndex(predicate);
      if (index &#x3D;&#x3D;&#x3D; -1) {
        return array;
      }
      const value &#x3D; array[index];
      const newValue &#x3D; projection(value, index);
      const newArray &#x3D; [...array];
      newArray[index] &#x3D; newValue;
      return newArray;
    }
  }

  protected static getAttributeName(attributeUiKey: string): string {
    const lastIndexOf &#x3D; attributeUiKey.lastIndexOf(&#x27;@&#x27;);
    return attributeUiKey.slice(lastIndexOf + 1);
  }

  protected static getKey(key: string, name: string): string {
    return key.replace(&#x27;@&#x27; + name, &#x27;&#x27;);
  }
}
</code></pre>
    </div>
</div>



                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'ConfiguratorStateUtils.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       
       <script type="module" src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
