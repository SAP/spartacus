<div
  id="{{ createAttributeIdForConfigurator(attribute) }}"
  *ngIf="attribute?.values?.length"
>
  <div *ngIf="withQuantity" class="cx-attribute-level-quantity-price">
    <cx-configurator-attribute-quantity
      *ngIf="withQuantity"
      (changeQuantity)="onChangeQuantity($event)"
      [initialQuantity]="attribute.selectedSingleValue ? attribute.quantity : 0"
      [allowZero]="!attribute.required"
      [disableQuantityActions]="disableQuantityActions || (loading$ | async)"
    ></cx-configurator-attribute-quantity>

    <cx-configurator-price
      *ngIf="getProductPrice(attribute) && withQuantity"
      [formula]="
        setFormula(
          attribute?.quantity,
          getSelectedValuePrice(attribute),
          getSelectedValuePriceTotal(attribute)
        )
      "
    ></cx-configurator-price>
  </div>

  <cx-configurator-attribute-product-card
    [id]="createAttributeValueIdForConfigurator(attribute, value?.valueCode)"
    (handleDeselect)="onDeselect()"
    (handleSelect)="onSelect($event)"
    *ngFor="let value of attribute?.values"
    [preventAction]="attribute.required"
    [product]="value"
  >
  </cx-configurator-attribute-product-card>
</div>
