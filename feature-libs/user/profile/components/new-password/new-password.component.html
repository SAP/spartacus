<cx-spinner class="overlay" *ngIf="isUpdating$ | async"> </cx-spinner>
<div>
  <label class="myaccount-password-header">{{
    'newPasswordForm.newPasswordTitle' | cxTranslate
  }}</label>
</div>

<form (ngSubmit)="onSubmit()" [formGroup]="form">
  <label class="myaccount-label-padding">
    <span class="label-content myaccount-password-label">{{
      'newPasswordForm.oldPassword.label' | cxTranslate
    }}</span>
    <input
      required="true"
      class="form-control"
      type="password"
      name="oldPassword"
      placeholder="{{
        'newPasswordForm.oldPassword.placeholder' | cxTranslate
      }}"
      formControlName="oldPassword"
      [attr.aria-label]="
        'newPasswordForm.oldPassword.placeholder' | cxTranslate
      "
      cxPasswordVisibilitySwitch
    />
    <cx-form-errors [control]="form.get('oldPassword')"></cx-form-errors>
  </label>

  <label class="myaccount-label-padding">
    <span class="label-content myaccount-password-label">{{
      'newPasswordForm.newPassword.label' | cxTranslate
    }}</span>
    <input
      required="true"
      class="form-control"
      type="password"
      name="newPassword"
      placeholder="{{
        'newPasswordForm.newPassword.placeholder' | cxTranslate
      }}"
      formControlName="newPassword"
      [attr.aria-label]="
        'newPasswordForm.newPassword.placeholder' | cxTranslate
      "
      cxPasswordVisibilitySwitch
    />
    <cx-form-errors [control]="form.get('newPassword')"></cx-form-errors>
  </label>

  <label class="myaccount-label-padding">
    <span class="label-content myaccount-password-label">{{
      'newPasswordForm.confirmPassword.label' | cxTranslate
    }}</span>
    <input
      required="true"
      class="form-control"
      type="password"
      name="newPasswordConfirm"
      placeholder="{{
        'newPasswordForm.confirmPassword.placeholder' | cxTranslate
      }}"
      formControlName="newPasswordConfirm"
      [attr.aria-label]="
        'newPasswordForm.confirmPassword.placeholder' | cxTranslate
      "
      cxPasswordVisibilitySwitch
    />
    <cx-form-errors [control]="form.get('newPasswordConfirm')"></cx-form-errors>
  </label>

  <div class="password-btn-group-row">
    <div class="password-btn-group">
      <button
        class="btn myaccount-password-button myaccount-password-button-cancel"
        (click)="onCancel()"
      >
        {{ 'common.cancel' | cxTranslate }}
      </button>
      <button
        class="btn btn-primary myaccount-password-button"
        [disabled]="form.disabled"
      >
        {{ 'common.save' | cxTranslate }}
      </button>
    </div>
  </div>
</form>
