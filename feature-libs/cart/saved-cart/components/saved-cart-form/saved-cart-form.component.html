<ng-continer *ngIf="cart$ | async as cart">
  <form [formGroup]="form" class="cx-saved-cart-form-container">
    <!-- Modal Header -->
    <div class="cx-saved-cart-form-header">
      <h3 class="cx-saved-cart-form-title">
        {{ 'savedCartDialog.saveForLater' | cxTranslate }}
      </h3>

      <p class="cx-saved-cart-form-subtitle">
        {{ 'savedCartDialog.itemsSavedForLater' | cxTranslate }}
      </p>

      <button
        (click)="dismissModal()"
        [disabled]="isLoading$ | async"
        aria-label="Close"
        class="cx-saved-cart-form-close close"
        type="button"
      >
        <span aria-hidden="true">
          <cx-icon [type]="iconTypes.CLOSE"></cx-icon>
        </span>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="cx-saved-cart-form-body">
      <div class="cx-saved-cart-form-row">
        <ng-container>
          <label>
            <span class="cx-saved-carts-label label-content">{{
              'savedCartDialog.savedCartName' | cxTranslate
            }}</span>
            <input
              [maxLength]="nameMaxLength"
              class="form-control"
              formControlName="name"
              required
              type="text"
            />
            <cx-form-errors [control]="form.get('name')"></cx-form-errors>
          </label>
        </ng-container>
      </div>

      <div class="cx-saved-cart-form-row">
        <ng-container>
          <label>
            <span class="cx-saved-carts-label label-content"
              >{{ 'savedCartDialog.savedCartDescription' | cxTranslate }}
              <span class="cx-saved-carts-label-optional">
                ({{ 'savedCartDialog.optional' | cxTranslate }})
              </span></span
            >
            <textarea
              [maxLength]="descriptionMaxLength"
              class="form-control"
              formControlName="description"
              rows="5"
            ></textarea>
            <cx-form-errors
              [control]="form.get('description')"
            ></cx-form-errors>
            <p class="cx-saved-carts-input-hint">
              {{
                'savedCartDialog.charactersLeft'
                  | cxTranslate: { count: descriptionsCharacterLeft }
              }}
            </p>
          </label>
        </ng-container>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="cx-saved-cart-form-footer">
      <button
        (click)="dismissModal()"
        [disabled]="isLoading$ | async"
        aria-label="Close"
        class="mr-2 btn btn-outline-primary"
        type="button"
      >
        {{ 'savedCartDialog.cancel' | cxTranslate }}
      </button>
      <button
        (click)="saveCart(cart.code)"
        [disabled]="isLoading$ | async"
        aria-label="Save"
        class="ml-2 btn btn-primary"
        type="button"
      >
        {{ 'savedCartDialog.save' | cxTranslate }}
      </button>
    </div>
  </form>
</ng-continer>
