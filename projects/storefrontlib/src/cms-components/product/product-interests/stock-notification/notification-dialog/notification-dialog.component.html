<div class="cx-dialog-header modal-header">
  <div class="cx-dialog-title modal-title">
    {{ 'stockNotification.subscriptionDialog.header' | cxTranslate }}
  </div>
  <button
    type="button"
    class="close"
    aria-label="Close"
    (click)="activeModal.dismiss('Cross click')"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<ng-container *ngIf="(subscribeSuccess$ | async); else loading">
  <div class="cx-dialog-body modal-body">
    <div class="container">
      <p>
        {{
          'stockNotification.subscriptionDialog.notifiedPrefix' | cxTranslate
        }}
      </p>
      <p *ngFor="let ch of selectedChannels">{{ ch }}</p>
      <p>
        {{
          'stockNotification.subscriptionDialog.notifiedSuffix' | cxTranslate
        }}
      </p>
      <p>
        {{
          'stockNotification.subscriptionDialog.manageChannelsPrefix'
            | cxTranslate
        }}
        <a
          (click)="activeModal.dismiss('Cross click')"
          [routerLink]="{ route: 'notificationPreference' } | cxUrl"
        >
          {{
            'stockNotification.subscriptionDialog.manageChannelsLink'
              | cxTranslate
          }}</a
        >
        {{
          'stockNotification.subscriptionDialog.manageChannelsSuffix'
            | cxTranslate
        }}
      </p>

      <p>
        {{
          'stockNotification.subscriptionDialog.manageSubscriptionsPrefix'
            | cxTranslate
        }}
        <a
          (click)="activeModal.dismiss('Cross click')"
          [routerLink]="{ route: 'myInterests' } | cxUrl"
        >
          {{
            'stockNotification.subscriptionDialog.manageSubscriptionsLink'
              | cxTranslate
          }}
        </a>
        {{
          'stockNotification.subscriptionDialog.manageSubscriptionsSuffix'
            | cxTranslate
        }}
      </p>
      <div class="row">
        <div class="cx-dialog-actions col-sm-12 col-md-6 offset-md-6">
          <button
            class="btn btn-primary btn-block subscription-btn"
            type="button"
            (click)="activeModal.dismiss('Cross click')"
          >
            {{ 'stockNotification.subscriptionDialog.okBtn' | cxTranslate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <div class="cx-dialog-body modal-body">
    <p>
      {{ 'stockNotification.subscriptionDialog.subscribing' | cxTranslate }}
    </p>
    <div class="cx-dialog-row">
      <div class="col-sm-12">
        <cx-spinner></cx-spinner>
      </div>
    </div>
  </div>
</ng-template>
