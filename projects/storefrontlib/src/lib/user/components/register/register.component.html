<div class="cx-page">
  <header class="cx-page__header">
    <h1 class="cx-page__title">Register</h1>
  </header>
  <section class="cx-page__section container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="cx-section">
          <h1 class="cx-section__title">Create an account</h1>
          <form [formGroup]="userRegistrationForm">

            <div class="form-group">
              <label for="titleCode">Title</label>
              <select formControlName="titleCode" class="form-control" id="titleCode">
                <option selected disabled>Select Title</option>
                <option *ngFor="let title of (titles$ | async)" [value]="title.code">{{ title.name }}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="firstName">First name</label>
              <input class="form-control" type="text" id="firstName" name="firstname" placeholder="First Name"
                formControlName="firstName">
            </div>

            <div class="form-group">
              <label for="lastName">Last name</label>
              <input class="form-control" type="text" id="lastName" name="lastname" placeholder="Last Name"
                formControlName="lastName">
            </div>

            <div class="form-group">
              <label for="email">Email address</label>
              <input class="form-control" [class.is-invalid]="(userRegistrationForm.get('email').errors?.email || userRegistrationForm.get('email').errors?.InvalidEmail) && userRegistrationForm.get('email').dirty"
                type="email" id="email" name="email" placeholder="Email Address" formControlName="email">
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <input class="form-control" [class.is-invalid]="userRegistrationForm.get('password').invalid && userRegistrationForm.get('password').dirty"
                type="password" id="password" name="password" placeholder="Password" formControlName="password">
              <div class="invalid-feedback" *ngIf="userRegistrationForm.get('password').invalid && userRegistrationForm.get('password').dirty">
                <span>Password must be six characters minimum, with one uppercase letter, one number, one symbol</span>
              </div>
            </div>

            <div class="form-group">
              <label for="confirmpassword">Confirm password</label>
              <input class="form-control" [class.is-invalid]="userRegistrationForm.get('password').value !== userRegistrationForm.get('passwordconf').value"
                type="password" id="confirmpassword" name="confirmpassword" placeholder="Confirm Password"
                formControlName="passwordconf">
              <div class="invalid-feedback" *ngIf="userRegistrationForm.get('password').value !== userRegistrationForm.get('passwordconf').value && userRegistrationForm.get('passwordconf').value">
                <span>Both password must match</span>
              </div>
            </div>

            <div class="form-group">
              <div class="form-check">
                <input type="checkbox" id="newsletter" name="newsletter" class="form-check-input" formControlName="newsletter">
                <label class="form-check-label" for="newsletter">Use my personal data to receive e-mail newsletters for
                  marketing
                  campaigns. To change your settings, go to Consent Management in My Account.</label>
              </div>
            </div>

            <div class="form-group">
              <div class="form-check">
                <input type="checkbox" name="termsandconditions" id="termsandconditions" formControlName="termsandconditions">
                <label class="form-check-label" for="termsandconditions">I am confirming that I have read and agreed
                  with the
                  <a class="cx_sectoin-registration-link" href="/terms-and-conditions" target="_blank">Terms &
                    Conditions</a>
                </label>
              </div>
            </div>
            <button type="submit" (click)="submit()" [disabled]="userRegistrationForm.invalid" class="btn btn-block btn-primary">Register</button>
            <a class="cx-section__login-link btn-link" routerLink="/login">I already have an account. Sign In</a>
          </form>
        </div>
      </div>
    </div>
  </section>
</div>