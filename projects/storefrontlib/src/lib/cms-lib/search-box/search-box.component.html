<div class="y-search-box">
    <form class="y-search-box__form">
        <div class="y-search-box__group form-group">
            <input class="y-search-box__input form-control" type="text" placeholder="Search here..." aria-label="search" type="text"
                matInput [formControl]="searchBoxControl" [matAutocomplete]="searchresult" [placeholder]="component?.name" (keyup)="onKey($event)"
                (focus)="onFocus()">
            <button class="y-search-box__button btn-submit" type="submit" aria-label="Submit">
                <svg class="y-search-box__icon" xmlns="http://www.w3.org/2000/svg" viewBox="-4472 4760 26 26">
                    <path id="Tracé_982" data-name="Tracé 982" d="M9.75,19.5a9.241,9.241,0,0,0,6.067-2.167l8.342,8.342a1.072,1.072,0,0,0,1.517-1.517l-8.342-8.342A9.854,9.854,0,0,0,19.5,9.75,9.75,9.75,0,1,0,9.75,19.5Zm0-17.333A7.583,7.583,0,1,1,2.167,9.75,7.537,7.537,0,0,1,9.75,2.167Z"
                        transform="translate(-4472 4760)" />
                </svg>
            </button>
        </div>
    </form>
</div>

<mat-autocomplete #searchresult="matAutocomplete" class="autocomplete-response">
    <mat-option *ngIf="(suggestionResults$ | async)?.length>0">
        <mat-chip-list>
            <mat-chip *ngFor="let suggestion of suggestionResults$ | async" class="suggestion" color="primary" selected="true" (click)="launchSearchPage(suggestion.value)">{{ suggestion.value }}
            </mat-chip>
        </mat-chip-list>
    </mat-option>

    <mat-option *ngFor="let product of (searchResults$ | async)?.products" [value]="product.name" class="option" fxLayout="row"
        fxFlexAlign="start center" [routerLink]="['/product/', product.code]">
        <div class="picture">
            <y-picture fxFlex [imageContainer]="product.images?.PRIMARY" imageFormat="thumbnail"></y-picture>
        </div>
        <div fxFlex [innerHTML]="product.name">{{ product.name }}</div>
        <div class="productPrice" fxFlex>{{product.price.formattedValue}}</div>
    </mat-option>
</mat-autocomplete>