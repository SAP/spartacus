/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { StoreFinderOutlets } from '@spartacus/storefinder/root';
import { AbstractStoreItemComponent } from '../abstract-store-item/abstract-store-item.component';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/storefinder/core";
import * as i2 from "@angular/common";
import * as i3 from "@angular/router";
import * as i4 from "@spartacus/storefront";
import * as i5 from "@spartacus/core";
export class StoreFinderListItemComponent extends AbstractStoreItemComponent {
    constructor(storeFinderService) {
        super(storeFinderService);
        this.storeFinderService = storeFinderService;
        this.locationIndex = null;
        this.storeItemClick = new EventEmitter();
        this.StoreFinderOutlets = StoreFinderOutlets;
    }
    handleStoreItemClick() {
        if (this.locationIndex !== null) {
            this.storeItemClick.emit(this.locationIndex);
        }
    }
    onKey(event) {
        if (event.key === 'Enter') {
            this.handleStoreItemClick();
        }
    }
}
StoreFinderListItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: StoreFinderListItemComponent, deps: [{ token: i1.StoreFinderService }], target: i0.ɵɵFactoryTarget.Component });
StoreFinderListItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: StoreFinderListItemComponent, selector: "cx-store-finder-list-item", inputs: { locationIndex: "locationIndex", listOrderLabel: "listOrderLabel", displayDistance: "displayDistance", useClickEvent: "useClickEvent" }, outputs: { storeItemClick: "storeItemClick" }, usesInheritance: true, ngImport: i0, template: "<ng-container>\n  <div aria-relevant=\"all\">\n    <div class=\"cx-store-list-order\">\n      {{ listOrderLabel }}\n    </div>\n    <a\n      *ngIf=\"useClickEvent\"\n      (click)=\"handleStoreItemClick()\"\n      (keyup)=\"onKey($event)\"\n      class=\"cx-store-name\"\n      tabindex=\"0\"\n    >\n      {{ location.displayName || location.name }}\n    </a>\n    <a\n      *ngIf=\"!useClickEvent\"\n      [routerLink]=\"[location.name]\"\n      class=\"cx-store-name\"\n      tabindex=\"0\"\n    >\n      {{ location.displayName || location.name }}\n    </a>\n    <div class=\"cx-store-address\" *ngIf=\"location.address\" aria-hidden=\"true\">\n      <div class=\"cx-store-address-street\">\n        {{ location.address.line1 }} {{ location.address.line2 }}\n      </div>\n      {{\n        getFormattedStoreAddress([\n          location.address.town,\n          location.address.postalCode,\n          location.address.country.isocode\n        ])\n      }}\n      <div\n        class=\"cx-store-distance\"\n        *ngIf=\"location.formattedDistance && displayDistance\"\n      >\n        {{ location.formattedDistance }}\n      </div>\n    </div>\n    <ng-template\n      [cxOutlet]=\"StoreFinderOutlets.PREFERRED_STORE\"\n      [cxOutletContext]=\"{\n        displayName: location.displayName,\n        name: location.name\n      }\"\n    ></ng-template>\n\n    <a\n      href=\"{{ getDirections(location) }}\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      class=\"btn btn-sm btn-secondary btn-block cx-button\"\n      (click)=\"$event.stopPropagation()\"\n      [attr.aria-label]=\"'storeFinder.ariaLabelGetDirections' | cxTranslate\"\n      >{{ 'storeFinder.getDirections' | cxTranslate }}</a\n    >\n  </div>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i4.OutletDirective, selector: "[cxOutlet]", inputs: ["cxOutlet", "cxOutletContext", "cxOutletDefer", "cxComponentRef"], outputs: ["loaded", "cxComponentRefChange"] }, { kind: "pipe", type: i5.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: StoreFinderListItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-store-finder-list-item', template: "<ng-container>\n  <div aria-relevant=\"all\">\n    <div class=\"cx-store-list-order\">\n      {{ listOrderLabel }}\n    </div>\n    <a\n      *ngIf=\"useClickEvent\"\n      (click)=\"handleStoreItemClick()\"\n      (keyup)=\"onKey($event)\"\n      class=\"cx-store-name\"\n      tabindex=\"0\"\n    >\n      {{ location.displayName || location.name }}\n    </a>\n    <a\n      *ngIf=\"!useClickEvent\"\n      [routerLink]=\"[location.name]\"\n      class=\"cx-store-name\"\n      tabindex=\"0\"\n    >\n      {{ location.displayName || location.name }}\n    </a>\n    <div class=\"cx-store-address\" *ngIf=\"location.address\" aria-hidden=\"true\">\n      <div class=\"cx-store-address-street\">\n        {{ location.address.line1 }} {{ location.address.line2 }}\n      </div>\n      {{\n        getFormattedStoreAddress([\n          location.address.town,\n          location.address.postalCode,\n          location.address.country.isocode\n        ])\n      }}\n      <div\n        class=\"cx-store-distance\"\n        *ngIf=\"location.formattedDistance && displayDistance\"\n      >\n        {{ location.formattedDistance }}\n      </div>\n    </div>\n    <ng-template\n      [cxOutlet]=\"StoreFinderOutlets.PREFERRED_STORE\"\n      [cxOutletContext]=\"{\n        displayName: location.displayName,\n        name: location.name\n      }\"\n    ></ng-template>\n\n    <a\n      href=\"{{ getDirections(location) }}\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      class=\"btn btn-sm btn-secondary btn-block cx-button\"\n      (click)=\"$event.stopPropagation()\"\n      [attr.aria-label]=\"'storeFinder.ariaLabelGetDirections' | cxTranslate\"\n      >{{ 'storeFinder.getDirections' | cxTranslate }}</a\n    >\n  </div>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.StoreFinderService }]; }, propDecorators: { locationIndex: [{
                type: Input
            }], listOrderLabel: [{
                type: Input
            }], displayDistance: [{
                type: Input
            }], useClickEvent: [{
                type: Input
            }], storeItemClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUtZmluZGVyLWxpc3QtaXRlbS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvc3RvcmVmaW5kZXIvY29tcG9uZW50cy9zdG9yZS1maW5kZXItbGlzdC1pdGVtL3N0b3JlLWZpbmRlci1saXN0LWl0ZW0uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3N0b3JlZmluZGVyL2NvbXBvbmVudHMvc3RvcmUtZmluZGVyLWxpc3QtaXRlbS9zdG9yZS1maW5kZXItbGlzdC1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ2pFLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLHNEQUFzRCxDQUFDOzs7Ozs7O0FBTWxHLE1BQU0sT0FBTyw0QkFBNkIsU0FBUSwwQkFBMEI7SUFjMUUsWUFBc0Isa0JBQXNDO1FBQzFELEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBRE4sdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtRQVo1RCxrQkFBYSxHQUFrQixJQUFJLENBQUM7UUFRcEMsbUJBQWMsR0FBeUIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVqRCx1QkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztJQUlqRCxDQUFDO0lBRUQsb0JBQW9CO1FBQ2xCLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQzlDO0lBQ0gsQ0FBQztJQUVELEtBQUssQ0FBQyxLQUFvQjtRQUN4QixJQUFJLEtBQUssQ0FBQyxHQUFHLEtBQUssT0FBTyxFQUFFO1lBQ3pCLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1NBQzdCO0lBQ0gsQ0FBQzs7eUhBNUJVLDRCQUE0Qjs2R0FBNUIsNEJBQTRCLHlSQ2Z6QyxpdURBMkRBOzJGRDVDYSw0QkFBNEI7a0JBSnhDLFNBQVM7K0JBQ0UsMkJBQTJCO3lHQUtyQyxhQUFhO3NCQURaLEtBQUs7Z0JBR04sY0FBYztzQkFEYixLQUFLO2dCQUdOLGVBQWU7c0JBRGQsS0FBSztnQkFHTixhQUFhO3NCQURaLEtBQUs7Z0JBR04sY0FBYztzQkFEYixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjMgU0FQIFNwYXJ0YWN1cyB0ZWFtIDxzcGFydGFjdXMtdGVhbUBzYXAuY29tPlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFN0b3JlRmluZGVyU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvc3RvcmVmaW5kZXIvY29yZSc7XG5pbXBvcnQgeyBTdG9yZUZpbmRlck91dGxldHMgfSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZmluZGVyL3Jvb3QnO1xuaW1wb3J0IHsgQWJzdHJhY3RTdG9yZUl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9hYnN0cmFjdC1zdG9yZS1pdGVtL2Fic3RyYWN0LXN0b3JlLWl0ZW0uY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtc3RvcmUtZmluZGVyLWxpc3QtaXRlbScsXG4gIHRlbXBsYXRlVXJsOiAnLi9zdG9yZS1maW5kZXItbGlzdC1pdGVtLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgU3RvcmVGaW5kZXJMaXN0SXRlbUNvbXBvbmVudCBleHRlbmRzIEFic3RyYWN0U3RvcmVJdGVtQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgbG9jYXRpb25JbmRleDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIEBJbnB1dCgpXG4gIGxpc3RPcmRlckxhYmVsOiBhbnk7XG4gIEBJbnB1dCgpXG4gIGRpc3BsYXlEaXN0YW5jZTogYm9vbGVhbjtcbiAgQElucHV0KClcbiAgdXNlQ2xpY2tFdmVudDogYm9vbGVhbjtcbiAgQE91dHB1dCgpXG4gIHN0b3JlSXRlbUNsaWNrOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICByZWFkb25seSBTdG9yZUZpbmRlck91dGxldHMgPSBTdG9yZUZpbmRlck91dGxldHM7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHN0b3JlRmluZGVyU2VydmljZTogU3RvcmVGaW5kZXJTZXJ2aWNlKSB7XG4gICAgc3VwZXIoc3RvcmVGaW5kZXJTZXJ2aWNlKTtcbiAgfVxuXG4gIGhhbmRsZVN0b3JlSXRlbUNsaWNrKCkge1xuICAgIGlmICh0aGlzLmxvY2F0aW9uSW5kZXggIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RvcmVJdGVtQ2xpY2suZW1pdCh0aGlzLmxvY2F0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIG9uS2V5KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgdGhpcy5oYW5kbGVTdG9yZUl0ZW1DbGljaygpO1xuICAgIH1cbiAgfVxufVxuIiwiPG5nLWNvbnRhaW5lcj5cbiAgPGRpdiBhcmlhLXJlbGV2YW50PVwiYWxsXCI+XG4gICAgPGRpdiBjbGFzcz1cImN4LXN0b3JlLWxpc3Qtb3JkZXJcIj5cbiAgICAgIHt7IGxpc3RPcmRlckxhYmVsIH19XG4gICAgPC9kaXY+XG4gICAgPGFcbiAgICAgICpuZ0lmPVwidXNlQ2xpY2tFdmVudFwiXG4gICAgICAoY2xpY2spPVwiaGFuZGxlU3RvcmVJdGVtQ2xpY2soKVwiXG4gICAgICAoa2V5dXApPVwib25LZXkoJGV2ZW50KVwiXG4gICAgICBjbGFzcz1cImN4LXN0b3JlLW5hbWVcIlxuICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICA+XG4gICAgICB7eyBsb2NhdGlvbi5kaXNwbGF5TmFtZSB8fCBsb2NhdGlvbi5uYW1lIH19XG4gICAgPC9hPlxuICAgIDxhXG4gICAgICAqbmdJZj1cIiF1c2VDbGlja0V2ZW50XCJcbiAgICAgIFtyb3V0ZXJMaW5rXT1cIltsb2NhdGlvbi5uYW1lXVwiXG4gICAgICBjbGFzcz1cImN4LXN0b3JlLW5hbWVcIlxuICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICA+XG4gICAgICB7eyBsb2NhdGlvbi5kaXNwbGF5TmFtZSB8fCBsb2NhdGlvbi5uYW1lIH19XG4gICAgPC9hPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1zdG9yZS1hZGRyZXNzXCIgKm5nSWY9XCJsb2NhdGlvbi5hZGRyZXNzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3gtc3RvcmUtYWRkcmVzcy1zdHJlZXRcIj5cbiAgICAgICAge3sgbG9jYXRpb24uYWRkcmVzcy5saW5lMSB9fSB7eyBsb2NhdGlvbi5hZGRyZXNzLmxpbmUyIH19XG4gICAgICA8L2Rpdj5cbiAgICAgIHt7XG4gICAgICAgIGdldEZvcm1hdHRlZFN0b3JlQWRkcmVzcyhbXG4gICAgICAgICAgbG9jYXRpb24uYWRkcmVzcy50b3duLFxuICAgICAgICAgIGxvY2F0aW9uLmFkZHJlc3MucG9zdGFsQ29kZSxcbiAgICAgICAgICBsb2NhdGlvbi5hZGRyZXNzLmNvdW50cnkuaXNvY29kZVxuICAgICAgICBdKVxuICAgICAgfX1cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJjeC1zdG9yZS1kaXN0YW5jZVwiXG4gICAgICAgICpuZ0lmPVwibG9jYXRpb24uZm9ybWF0dGVkRGlzdGFuY2UgJiYgZGlzcGxheURpc3RhbmNlXCJcbiAgICAgID5cbiAgICAgICAge3sgbG9jYXRpb24uZm9ybWF0dGVkRGlzdGFuY2UgfX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxuZy10ZW1wbGF0ZVxuICAgICAgW2N4T3V0bGV0XT1cIlN0b3JlRmluZGVyT3V0bGV0cy5QUkVGRVJSRURfU1RPUkVcIlxuICAgICAgW2N4T3V0bGV0Q29udGV4dF09XCJ7XG4gICAgICAgIGRpc3BsYXlOYW1lOiBsb2NhdGlvbi5kaXNwbGF5TmFtZSxcbiAgICAgICAgbmFtZTogbG9jYXRpb24ubmFtZVxuICAgICAgfVwiXG4gICAgPjwvbmctdGVtcGxhdGU+XG5cbiAgICA8YVxuICAgICAgaHJlZj1cInt7IGdldERpcmVjdGlvbnMobG9jYXRpb24pIH19XCJcbiAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5IGJ0bi1ibG9jayBjeC1idXR0b25cIlxuICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidzdG9yZUZpbmRlci5hcmlhTGFiZWxHZXREaXJlY3Rpb25zJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgID57eyAnc3RvcmVGaW5kZXIuZ2V0RGlyZWN0aW9ucycgfCBjeFRyYW5zbGF0ZSB9fTwvYVxuICAgID5cbiAgPC9kaXY+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==