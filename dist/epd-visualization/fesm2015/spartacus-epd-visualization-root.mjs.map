{"version":3,"file":"spartacus-epd-visualization-root.mjs","sources":["../../../integration-libs/epd-visualization/root/config/epd-visualization-config.ts","../../../integration-libs/epd-visualization/root/util/url-utils.ts","../../../integration-libs/epd-visualization/root/config/epd-visualization-config-validator.ts","../../../integration-libs/epd-visualization/root/config/epd-visualization-default-config.ts","../../../integration-libs/epd-visualization/root/config/index.ts","../../../integration-libs/epd-visualization/root/feature-name.ts","../../../integration-libs/epd-visualization/root/epd-visualization-root.module.ts","../../../integration-libs/epd-visualization/root/models/usage-ids/index.ts","../../../integration-libs/epd-visualization/root/models/visualizations/content-type.ts","../../../integration-libs/epd-visualization/root/models/visualizations/index.ts","../../../integration-libs/epd-visualization/root/models/index.ts","../../../integration-libs/epd-visualization/root/util/event-listener-utils.ts","../../../integration-libs/epd-visualization/root/util/index.ts","../../../integration-libs/epd-visualization/root/public_api.ts","../../../integration-libs/epd-visualization/root/spartacus-epd-visualization-root.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport { Config } from '@spartacus/core';\nimport { UsageId } from '../models/usage-ids/usage-id';\nimport { UsageIdDefinition } from '../models/usage-ids/usage-id-definition';\n\n@Injectable({\n  providedIn: 'root',\n  useExisting: Config,\n})\nexport abstract class EpdVisualizationConfig implements Config {\n  /**\n   * This field introduces a namespace for EPD Visualization to avoid collisions when configuration merging occurs.\n   */\n  public epdVisualization?: EpdVisualizationInnerConfig;\n}\n\nexport interface EpdVisualizationInnerConfig {\n  /**\n   * UI5 configuration\n   */\n  ui5?: Ui5Config;\n  /**\n   * SAP Enterprise Product Development Visualization API endpoint configuration.\n   */\n  apis?: VisualizationApiConfig;\n  /**\n   * SAP Enterprise Product Development Visualization Usage ID configuration.\n   */\n  usageIds?: UsageIdConfig;\n  /**\n   * Configuration for the visual picking scenario.\n   */\n  visualPicking?: VisualPickingConfig;\n}\n\nexport interface Ui5Config {\n  /**\n   * This is the URL that SAPUI5 is bootstrapped from.\n   * The value that is configured by default in a given Spartacus release is the SAPUI5 version supported for that Spartacus release.\n   *\n   * Important: Please check the *End of Cloud Provisioning* column in https://sapui5.hana.ondemand.com/versionoverview.html\n   * When the Cloud Provisioning period ends for a particular SAPUI5 version, that version will no longer be available on https://sapui5.hana.ondemand.com\n   */\n  bootstrapUrl: string;\n}\n\nexport interface VisualizationApiConfig {\n  /**\n   * This is the base URL that is used to access the EPD Visualization APIs.\n   * Use the origin portion of the URL for your EPD Visualization Fiori Launchpad.\n   * i.e. https://mytenant.visualization.eu20.epd.cloud.sap\n   */\n  baseUrl: string;\n}\n\nexport interface UsageIdConfig {\n  /**\n   * Folders in the configured SAP EPD Visualization tenant that have anonymous access enabled and have this Usage ID\n   * value applied will be searched for visualizations.\n   * This configuration option allows for a separation between staging visualization data and production visualization data.\n   */\n  folderUsageId: UsageId;\n\n  /**\n   * Defines the EPD Visualization usage ID to use to refer to a product in SAP Commerce Cloud.\n   * This Usage ID is used on:\n   * - Visualizations to allow a visualization to be linked with a product.\n   *   This allows a visualization to be found and loaded for the current product in a product details page.\n   * - Scene nodes to allow a scene node to be linked with a product.\n   *   This allows two way linking between scene nodes and products (which typically represent spare parts).\n   */\n  productUsageId: UsageIdDefinition;\n}\n\nexport interface VisualPickingConfig {\n  /**\n   * This is the type of product reference to list for the active product (typically SPAREPART)\n   */\n  productReferenceType: string;\n}\n\ndeclare module '@spartacus/core' {\n  interface Config extends EpdVisualizationConfig {}\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport function getUrl(urlString: string): URL | null {\n  try {\n    return new URL(urlString);\n  } catch {\n    return null;\n  }\n}\n\nexport function isHttpOrHttps(url: URL) {\n  return url.protocol === 'http:' || url.protocol === 'https:';\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { getUrl, isHttpOrHttps } from '../util/url-utils';\nimport {\n  EpdVisualizationConfig,\n  EpdVisualizationInnerConfig,\n} from './epd-visualization-config';\n\nexport function epdVisualizationConfigValidator(\n  epdVisualizationConfig: EpdVisualizationConfig\n): string | void {\n  const epdVisualization = epdVisualizationConfig.epdVisualization;\n  if (!epdVisualization) {\n    return unconfiguredPropertyMessage('epdVisualization');\n  }\n\n  if (invalidApis(epdVisualization)) {\n    return invalidApis(epdVisualization);\n  }\n\n  if (invalidUi5(epdVisualization)) {\n    return invalidUi5(epdVisualization);\n  }\n\n  if (invalidUsageIds(epdVisualization)) {\n    return invalidUsageIds(epdVisualization);\n  }\n\n  if (invalidVisualPicking(epdVisualization)) {\n    return invalidVisualPicking(epdVisualization);\n  }\n}\n\nfunction unconfiguredPropertyMessage(propertyName: string) {\n  return `No value configured for ${propertyName} in the EPD Visualization library configuration.`;\n}\n\nfunction invalidUrlMessage(propertyName: string, url: string) {\n  return `URL value '${url}' configured for ${propertyName} in the EPD Visualization library configuration is not valid.`;\n}\n\nfunction invalidUrlProtocolMessage(propertyName: string) {\n  return `URL for ${propertyName} must use HTTPS or HTTP protocol.`;\n}\n\nfunction invalidApis(\n  epdVisualization: EpdVisualizationInnerConfig\n): string | undefined {\n  if (!epdVisualization.apis) {\n    return unconfiguredPropertyMessage('epdVisualization.apis');\n  }\n\n  const configApisBaseUrlProperty = 'epdVisualization.apis.baseUrl';\n  if (!epdVisualization.apis.baseUrl) {\n    return unconfiguredPropertyMessage(configApisBaseUrlProperty);\n  }\n\n  const apiBaseUrl = getUrl(epdVisualization.apis.baseUrl);\n  if (!apiBaseUrl) {\n    return invalidUrlMessage(\n      configApisBaseUrlProperty,\n      epdVisualization.apis.baseUrl\n    );\n  }\n  if (!isHttpOrHttps(apiBaseUrl)) {\n    return invalidUrlProtocolMessage(configApisBaseUrlProperty);\n  }\n\n  return undefined;\n}\n\nfunction invalidUi5(\n  epdVisualization: EpdVisualizationInnerConfig\n): string | undefined {\n  if (!epdVisualization.ui5) {\n    return unconfiguredPropertyMessage('epdVisualization.ui5');\n  }\n\n  const configUi5BootstrapUrlProperty = 'epdVisualization.ui5.bootstrapUrl';\n  if (!epdVisualization.ui5.bootstrapUrl) {\n    return unconfiguredPropertyMessage(configUi5BootstrapUrlProperty);\n  }\n\n  const ui5BootStrapUrl = getUrl(epdVisualization.ui5.bootstrapUrl);\n  if (!ui5BootStrapUrl) {\n    return invalidUrlMessage(\n      configUi5BootstrapUrlProperty,\n      epdVisualization.ui5.bootstrapUrl\n    );\n  }\n\n  if (!isHttpOrHttps(ui5BootStrapUrl)) {\n    return invalidUrlProtocolMessage(configUi5BootstrapUrlProperty);\n  }\n\n  return undefined;\n}\n\nfunction invalidUsageIds(\n  epdVisualization: EpdVisualizationInnerConfig\n): string | undefined {\n  if (!epdVisualization.usageIds) {\n    return unconfiguredPropertyMessage('epdVisualization.usageIds');\n  }\n  if (!epdVisualization.usageIds.folderUsageId.name) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.usageIds.folderUsageId.name'\n    );\n  }\n  if (!epdVisualization.usageIds.folderUsageId.keys?.length) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.usageIds.folderUsageId.keys'\n    );\n  }\n  for (\n    let i = 0;\n    i < epdVisualization.usageIds.folderUsageId.keys.length;\n    i++\n  ) {\n    if (!epdVisualization.usageIds.folderUsageId.keys[i].name) {\n      return unconfiguredPropertyMessage(\n        `epdVisualization.usageIds.folderUsageId.keys[${i}].name`\n      );\n    }\n    if (!epdVisualization.usageIds.folderUsageId.keys[i].value) {\n      return unconfiguredPropertyMessage(\n        `epdVisualization.usageIds.folderUsageId.keys[${i}].value`\n      );\n    }\n  }\n\n  if (!epdVisualization.usageIds.productUsageId.source) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.usageIds.productUsageId.source'\n    );\n  }\n  if (!epdVisualization.usageIds.productUsageId.category) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.usageIds.productUsageId.category'\n    );\n  }\n  if (!epdVisualization.usageIds.productUsageId.keyName) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.usageIds.productUsageId.keyName'\n    );\n  }\n\n  return undefined;\n}\n\nfunction invalidVisualPicking(\n  epdVisualization: EpdVisualizationInnerConfig\n): string | undefined {\n  if (!epdVisualization.visualPicking) {\n    return unconfiguredPropertyMessage('epdVisualization.visualPicking');\n  }\n\n  if (!epdVisualization.visualPicking.productReferenceType) {\n    return unconfiguredPropertyMessage(\n      'epdVisualization.visualPicking.productReferenceType'\n    );\n  }\n\n  return undefined;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { EpdVisualizationConfig } from '../config/epd-visualization-config';\n\nexport function getEpdVisualizationDefaultConfig(): EpdVisualizationConfig {\n  return {\n    epdVisualization: {\n      usageIds: {\n        folderUsageId: {\n          name: 'CommerceCloud-Folder',\n          keys: [\n            {\n              name: 'Function',\n              value: 'Online',\n            },\n          ],\n        },\n        productUsageId: {\n          name: 'CommerceCloud-SparePart',\n          source: 'CommerceCloud',\n          category: 'SpareParts',\n          keyName: 'ProductCode',\n        },\n      },\n      visualPicking: {\n        productReferenceType: 'SPAREPART',\n      },\n    },\n  };\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './epd-visualization-config';\nexport * from './epd-visualization-config-validator';\nexport * from './epd-visualization-default-config';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const EPD_VISUALIZATION_FEATURE = 'epd-visualization';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport {\n  CmsConfig,\n  provideConfigValidator,\n  provideDefaultConfigFactory,\n} from '@spartacus/core';\nimport { epdVisualizationConfigValidator } from './config';\nimport { getEpdVisualizationDefaultConfig } from './config/epd-visualization-default-config';\nimport { EPD_VISUALIZATION_FEATURE } from './feature-name';\n\nexport function defaultEpdVisualizationComponentsConfig(): CmsConfig {\n  const config: CmsConfig = {\n    featureModules: {\n      [EPD_VISUALIZATION_FEATURE]: {\n        cmsComponents: ['VisualPickingTabComponent'],\n      },\n    },\n  };\n  return config;\n}\n\n@NgModule({\n  providers: [\n    provideDefaultConfigFactory(defaultEpdVisualizationComponentsConfig),\n    provideDefaultConfigFactory(getEpdVisualizationDefaultConfig),\n    provideConfigValidator(epdVisualizationConfigValidator),\n  ],\n})\nexport class EpdVisualizationRootModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './usage-id';\nexport * from './usage-id-definition';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * A subset of the content types that may be returned by the EPD Visualization service.\n * We use filtering to ensure that we only get visualizations of the types below returned.\n * Some values start with numbers, so the identifiers do not match the values\n */\nexport enum ContentType {\n  /**\n   * 3D content (rendered using WebGL)\n   */\n  Model3D = '3DModel',\n  /**\n   * 2D vector content (rendered using SVG)\n   */\n  Drawing2D = '2DDrawing',\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './content-type';\nexport * from './visualization-info';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './usage-ids/index';\nexport * from './visualizations/index';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Renderer2 } from '@angular/core';\n\nexport interface Listener {\n  nativeElement: any;\n  eventName: string;\n  endListener: () => void;\n}\n\nexport class EventListenerUtils {\n  initialize(renderer: Renderer2) {\n    this.renderer = renderer;\n  }\n\n  private renderer: Renderer2;\n  private listeners: Listener[] = [];\n\n  attachEventListener(\n    nativeElement: any,\n    eventName: string,\n    callback: (event: any) => void\n  ): void {\n    const listener: Listener = {\n      nativeElement,\n      eventName,\n      endListener: this.renderer.listen(nativeElement, eventName, callback),\n    };\n    this.listeners.push(listener);\n  }\n\n  detachEventListeners(nativeElement: any, eventName: string): void {\n    this._detachEventListeners(\n      this.listeners.filter(\n        (listener) =>\n          listener.nativeElement === nativeElement &&\n          listener.eventName === eventName\n      )\n    );\n  }\n\n  detachAllEventListeners(nativeElement: any): void {\n    this._detachEventListeners(\n      this.listeners.filter(\n        (listener) => listener.nativeElement === nativeElement\n      )\n    );\n  }\n\n  _detachEventListeners(eventListeners: Listener[]): void {\n    const listenersSet = new Set(eventListeners);\n    eventListeners.forEach((listener) => {\n      listener.endListener();\n    });\n    this.listeners = this.listeners.filter(\n      (listener) => !listenersSet.has(listener)\n    );\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './event-listener-utils';\nexport * from './url-utils';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './config/index';\nexport * from './epd-visualization-root.module';\nexport * from './feature-name';\nexport * from './models/index';\nexport * from './util/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}