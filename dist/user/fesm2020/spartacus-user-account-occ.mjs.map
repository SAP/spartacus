{"version":3,"file":"spartacus-user-account-occ.mjs","sources":["../../../feature-libs/user/account/occ/adapters/config/default-occ-user-account-endpoint.config.ts","../../../feature-libs/user/account/occ/adapters/config/occ-user-account-endpoint.model.ts","../../../feature-libs/user/account/occ/adapters/config/index.ts","../../../feature-libs/user/account/occ/adapters/occ-user-account.adapter.ts","../../../feature-libs/user/account/occ/adapters/index.ts","../../../feature-libs/user/account/occ/user-account-occ.module.ts","../../../feature-libs/user/account/occ/public_api.ts","../../../feature-libs/user/account/occ/spartacus-user-account-occ.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OccConfig } from '@spartacus/core';\n\nexport const defaultOccUserAccountConfig: OccConfig = {\n  backend: {\n    occ: { endpoints: { user: 'users/${userId}' } },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OccEndpoint } from '@spartacus/core';\n\nexport interface UserAccountOccEndpoints {\n  /**\n   * Get user account details\n   */\n  user?: string | OccEndpoint;\n}\ndeclare module '@spartacus/core' {\n  interface OccEndpoints extends UserAccountOccEndpoints {}\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './default-occ-user-account-endpoint.config';\nexport * from './occ-user-account-endpoint.model';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient } from '@angular/common/http';\nimport { inject, Injectable } from '@angular/core';\nimport {\n  ConverterService,\n  LoggerService,\n  normalizeHttpError,\n  Occ,\n  OccEndpointsService,\n} from '@spartacus/core';\nimport {\n  USER_ACCOUNT_NORMALIZER,\n  UserAccountAdapter,\n} from '@spartacus/user/account/core';\nimport { User } from '@spartacus/user/account/root';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccUserAccountAdapter implements UserAccountAdapter {\n  protected logger = inject(LoggerService);\n\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  load(userId: string): Observable<User> {\n    const url = this.occEndpoints.buildUrl('user', { urlParams: { userId } });\n    return this.http.get<Occ.User>(url).pipe(\n      catchError((error) => throwError(normalizeHttpError(error, this.logger))),\n      this.converter.pipeable(USER_ACCOUNT_NORMALIZER)\n    );\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './config/index';\nexport * from './occ-user-account.adapter';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { UserAccountAdapter } from '@spartacus/user/account/core';\nimport { defaultOccUserAccountConfig } from './adapters/config/default-occ-user-account-endpoint.config';\nimport { OccUserAccountAdapter } from './adapters/occ-user-account.adapter';\n\n@NgModule({\n  providers: [\n    provideDefaultConfig(defaultOccUserAccountConfig),\n    { provide: UserAccountAdapter, useClass: OccUserAccountAdapter },\n  ],\n})\nexport class UserAccountOccModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './adapters/index';\nexport * from './user-account-occ.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AAIG;AAIU,MAAA,2BAA2B,GAAc;AACpD,IAAA,OAAO,EAAE;QACP,GAAG,EAAE,EAAE,SAAS,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,EAAE;AAChD,KAAA;;;ACXH;;;;AAIG;;ACJH;;;;AAIG;;MCoBU,qBAAqB,CAAA;AAGhC,IAAA,WAAA,CACY,IAAgB,EAChB,YAAiC,EACjC,SAA2B,EAAA;QAF3B,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAY;QAChB,IAAY,CAAA,YAAA,GAAZ,YAAY,CAAqB;QACjC,IAAS,CAAA,SAAA,GAAT,SAAS,CAAkB;AAL7B,QAAA,IAAA,CAAA,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC;KAMrC;AAEJ,IAAA,IAAI,CAAC,MAAc,EAAA;AACjB,QAAA,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;AAC1E,QAAA,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,GAAG,CAAC,CAAC,IAAI,CACtC,UAAU,CAAC,CAAC,KAAK,KAAK,UAAU,CAAC,kBAAkB,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EACzE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CACjD,CAAC;KACH;;kHAfU,qBAAqB,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,UAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,mBAAA,EAAA,EAAA,EAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;sHAArB,qBAAqB,EAAA,CAAA,CAAA;2FAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBADjC,UAAU;;;ACvBX;;;;AAIG;;ACJH;;;;AAIG;MAcU,oBAAoB,CAAA;;iHAApB,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;kHAApB,oBAAoB,EAAA,CAAA,CAAA;AAApB,oBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,EALpB,SAAA,EAAA;QACT,oBAAoB,CAAC,2BAA2B,CAAC;AACjD,QAAA,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;AACjE,KAAA,EAAA,CAAA,CAAA;2FAEU,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBANhC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,SAAS,EAAE;wBACT,oBAAoB,CAAC,2BAA2B,CAAC;AACjD,wBAAA,EAAE,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,qBAAqB,EAAE;AACjE,qBAAA;AACF,iBAAA,CAAA;;;ACjBD;;;;AAIG;;ACJH;;AAEG;;;;"}