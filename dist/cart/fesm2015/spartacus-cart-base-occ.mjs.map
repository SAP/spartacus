{"version":3,"file":"spartacus-cart-base-occ.mjs","sources":["../../../feature-libs/cart/base/occ/adapters/converters/occ-cart-normalizer.ts","../../../feature-libs/cart/base/occ/adapters/converters/order-entry-promotions-normalizer.ts","../../../feature-libs/cart/base/occ/adapters/converters/index.ts","../../../feature-libs/cart/base/occ/adapters/occ-cart-entry.adapter.ts","../../../feature-libs/cart/base/occ/adapters/occ-cart-voucher.adapter.ts","../../../feature-libs/cart/base/occ/adapters/occ-cart.adapter.ts","../../../feature-libs/cart/base/occ/adapters/occ-cart-validation.adapter.ts","../../../feature-libs/cart/base/occ/adapters/index.ts","../../../feature-libs/cart/base/occ/adapters/default-occ-cart-config.ts","../../../feature-libs/cart/base/occ/cart-base-occ.module.ts","../../../feature-libs/cart/base/occ/model/index.ts","../../../feature-libs/cart/base/occ/public_api.ts","../../../feature-libs/cart/base/occ/spartacus-cart-base-occ.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n  Cart,\n  ORDER_ENTRY_PROMOTIONS_NORMALIZER,\n} from '@spartacus/cart/base/root';\nimport {\n  Converter,\n  ConverterService,\n  Occ,\n  PRODUCT_NORMALIZER,\n} from '@spartacus/core';\n\n@Injectable({ providedIn: 'root' })\nexport class OccCartNormalizer implements Converter<Occ.Cart, Cart> {\n  constructor(private converter: ConverterService) {}\n\n  convert(source: Occ.Cart, target?: Cart): Cart {\n    if (target === undefined) {\n      target = { ...(source as any) } as Cart;\n    }\n\n    this.removeDuplicatePromotions(source, target);\n\n    if (source.entries) {\n      target.entries = source.entries.map((entry) => ({\n        ...entry,\n        product: this.converter.convert(entry.product, PRODUCT_NORMALIZER),\n        promotions: this.converter.convert(\n          { item: entry, promotions: target?.appliedProductPromotions },\n          ORDER_ENTRY_PROMOTIONS_NORMALIZER\n        ),\n      }));\n    }\n\n    return target;\n  }\n\n  /**\n   * Remove all duplicate promotions\n   */\n  private removeDuplicatePromotions(source: any, target: Cart): void {\n    if (source && source.potentialOrderPromotions) {\n      target.potentialOrderPromotions = this.removeDuplicateItems(\n        source.potentialOrderPromotions\n      );\n    }\n\n    if (source && source.potentialProductPromotions) {\n      target.potentialProductPromotions = this.removeDuplicateItems(\n        source.potentialProductPromotions\n      );\n    }\n\n    if (source && source.appliedOrderPromotions) {\n      target.appliedOrderPromotions = this.removeDuplicateItems(\n        source.appliedOrderPromotions\n      );\n    }\n\n    if (source && source.appliedProductPromotions) {\n      target.appliedProductPromotions = this.removeDuplicateItems(\n        source.appliedProductPromotions\n      );\n    }\n  }\n\n  private removeDuplicateItems(itemList: any[]): any[] {\n    return itemList.filter((p, i, a) => {\n      const b = a.map((el) => JSON.stringify(el));\n      return i === b.indexOf(JSON.stringify(p));\n    });\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport {\n  PromotionOrderEntryConsumed,\n  PromotionResult,\n} from '@spartacus/cart/base/root';\nimport { Converter, Occ } from '@spartacus/core';\n\n@Injectable({ providedIn: 'root' })\nexport class OrderEntryPromotionsNormalizer\n  implements\n    Converter<\n      { item?: Occ.OrderEntry; promotions?: PromotionResult[] },\n      PromotionResult[]\n    >\n{\n  convert(\n    source: { item?: Occ.OrderEntry; promotions?: PromotionResult[] },\n    target?: PromotionResult[]\n  ) {\n    target = this.getProductPromotion(source.item, source.promotions);\n    return target;\n  }\n\n  /**\n   * Get consumed promotions for the given order entry\n   *\n   * @param item\n   * @param promotions\n   * @returns consumed promotions for this entry\n   */\n  getProductPromotion(\n    item?: Occ.OrderEntry,\n    promotions?: PromotionResult[]\n  ): PromotionResult[] {\n    const entryPromotions: PromotionResult[] = [];\n    promotions?.forEach((promotion) => {\n      if (promotion.description && promotion.consumedEntries) {\n        for (const consumedEntry of promotion.consumedEntries) {\n          if (this.isConsumedByEntry(consumedEntry, item)) {\n            entryPromotions.push(promotion);\n          }\n        }\n      }\n    });\n\n    return entryPromotions;\n  }\n\n  protected isConsumedByEntry(\n    consumedEntry: PromotionOrderEntryConsumed,\n    entry: any\n  ): boolean {\n    const consumedEntryNumber = consumedEntry.orderEntryNumber;\n    if (entry && entry.entries && entry.entries.length > 0) {\n      for (const subEntry of entry.entries) {\n        if (subEntry.entryNumber === consumedEntryNumber) {\n          return true;\n        }\n      }\n      return false;\n    } else {\n      return consumedEntryNumber === entry?.entryNumber;\n    }\n  }\n}\n\n// CHECK SONAR\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './occ-cart-normalizer';\nexport * from './order-entry-promotions-normalizer';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { CartEntryAdapter } from '@spartacus/cart/base/core';\nimport {\n  CartModification,\n  CART_MODIFICATION_NORMALIZER,\n} from '@spartacus/cart/base/root';\nimport { ConverterService, OccEndpointsService } from '@spartacus/core';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class OccCartEntryAdapter implements CartEntryAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpointsService: OccEndpointsService,\n    protected converterService: ConverterService\n  ) {}\n\n  public add(\n    userId: string,\n    cartId: string,\n    productCode: string,\n    quantity: number = 1,\n    pickupStore?: string\n  ): Observable<CartModification> {\n    const url = this.occEndpointsService.buildUrl('addEntries', {\n      urlParams: { userId, cartId, quantity },\n    });\n\n    // Handle b2b case where the x-www-form-urlencoded is still used\n    if (url.includes(`quantity=${quantity}`)) {\n      const httpHeaders = new HttpHeaders({\n        'Content-Type': 'application/x-www-form-urlencoded',\n      });\n\n      return this.http\n        .post<CartModification>(\n          url,\n          {},\n          { headers: httpHeaders, params: { code: productCode } }\n        )\n        .pipe(this.converterService.pipeable(CART_MODIFICATION_NORMALIZER));\n    }\n\n    const toAdd = {\n      quantity,\n      product: { code: productCode },\n      ...(pickupStore && { deliveryPointOfService: { name: pickupStore } }),\n    };\n\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n    });\n\n    return this.http\n      .post<CartModification>(url, toAdd, { headers })\n      .pipe(this.converterService.pipeable(CART_MODIFICATION_NORMALIZER));\n  }\n\n  public update(\n    userId: string,\n    cartId: string,\n    entryNumber: string,\n    qty?: number,\n    pickupStore?: string,\n    pickupToDelivery: boolean = false\n  ): Observable<CartModification> {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n    });\n\n    const url = this.occEndpointsService.buildUrl('updateEntries', {\n      urlParams: {\n        userId,\n        cartId,\n        entryNumber,\n      },\n    });\n\n    // switch from pickup to delivery mode\n    if (pickupStore === undefined && pickupToDelivery) {\n      return this.http\n        .put<CartModification>(url, { quantity: qty }, { headers })\n        .pipe(this.converterService.pipeable(CART_MODIFICATION_NORMALIZER));\n    }\n\n    let params = {};\n    if (pickupStore) {\n      params = {\n        deliveryPointOfService: {\n          name: pickupStore,\n        },\n      };\n    }\n\n    return this.http\n      .patch<CartModification>(url, { quantity: qty, ...params }, { headers })\n      .pipe(this.converterService.pipeable(CART_MODIFICATION_NORMALIZER));\n  }\n\n  public remove(\n    userId: string,\n    cartId: string,\n    entryNumber: string\n  ): Observable<any> {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/x-www-form-urlencoded',\n    });\n\n    const url = this.occEndpointsService.buildUrl('removeEntries', {\n      urlParams: {\n        userId,\n        cartId,\n        entryNumber,\n      },\n    });\n\n    return this.http.delete(url, { headers });\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { CartVoucherAdapter } from '@spartacus/cart/base/core';\nimport { CART_VOUCHER_NORMALIZER } from '@spartacus/cart/base/root';\nimport {\n  ConverterService,\n  InterceptorUtil,\n  OccEndpointsService,\n  OCC_USER_ID_ANONYMOUS,\n  USE_CLIENT_TOKEN,\n} from '@spartacus/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccCartVoucherAdapter implements CartVoucherAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  protected getCartVoucherEndpoint(userId: string, cartId: string): string {\n    return this.occEndpoints.buildUrl('cartVoucher', {\n      urlParams: { userId, cartId },\n    });\n  }\n\n  protected getHeaders(userId: string): HttpHeaders {\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n    });\n\n    if (userId === OCC_USER_ID_ANONYMOUS) {\n      headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n    }\n\n    return headers;\n  }\n\n  add(userId: string, cartId: string, voucherId: string): Observable<{}> {\n    const url = this.getCartVoucherEndpoint(userId, cartId);\n\n    const toAdd = JSON.stringify({});\n\n    const params: HttpParams = new HttpParams().set('voucherId', voucherId);\n\n    const headers = this.getHeaders(userId);\n\n    return this.http.post(url, toAdd, { headers, params }).pipe(\n      catchError((error: any) => throwError(error)),\n      this.converter.pipeable(CART_VOUCHER_NORMALIZER)\n    );\n  }\n\n  remove(userId: string, cartId: string, voucherId: string): Observable<{}> {\n    const url =\n      this.getCartVoucherEndpoint(userId, cartId) +\n      '/' +\n      encodeURIComponent(voucherId);\n\n    const headers = this.getHeaders(userId);\n\n    return this.http\n      .delete(url, { headers })\n      .pipe(catchError((error: any) => throwError(error)));\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { CartAdapter } from '@spartacus/cart/base/core';\nimport {\n  CART_NORMALIZER,\n  Cart,\n  SaveCartResult,\n} from '@spartacus/cart/base/root';\nimport {\n  ConverterService,\n  InterceptorUtil,\n  OCC_CART_ID_CURRENT,\n  OCC_USER_ID_ANONYMOUS,\n  Occ,\n  OccEndpointsService,\n  USE_CLIENT_TOKEN,\n} from '@spartacus/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class OccCartAdapter implements CartAdapter {\n  constructor(\n    protected http: HttpClient,\n    protected occEndpointsService: OccEndpointsService,\n    protected converterService: ConverterService\n  ) {}\n\n  public loadAll(userId: string): Observable<Cart[]> {\n    return this.http\n      .get<Occ.CartList>(\n        this.occEndpointsService.buildUrl('carts', { urlParams: { userId } })\n      )\n      .pipe(\n        map((cartList) => cartList.carts ?? []),\n        this.converterService.pipeableMany(CART_NORMALIZER)\n      );\n  }\n\n  public load(userId: string, cartId: string): Observable<Cart | undefined> {\n    if (cartId === OCC_CART_ID_CURRENT) {\n      return this.loadAll(userId).pipe(\n        map((carts) => carts.find((cart) => cart['saveTime'] === undefined))\n      );\n    } else {\n      return this.http\n        .get<Occ.Cart>(\n          this.occEndpointsService.buildUrl('cart', {\n            urlParams: { userId, cartId },\n          })\n        )\n        .pipe(this.converterService.pipeable(CART_NORMALIZER));\n    }\n  }\n\n  create(\n    userId: string,\n    oldCartId?: string,\n    toMergeCartGuid?: string\n  ): Observable<Cart> {\n    const toAdd = JSON.stringify({});\n\n    const params = <any>{};\n\n    if (oldCartId) {\n      params['oldCartId'] = oldCartId;\n    }\n    if (toMergeCartGuid) {\n      params['toMergeCartGuid'] = toMergeCartGuid;\n    }\n\n    return this.http\n      .post<Occ.Cart>(\n        this.occEndpointsService.buildUrl('createCart', {\n          urlParams: { userId },\n          queryParams: params,\n        }),\n        toAdd\n      )\n      .pipe(this.converterService.pipeable(CART_NORMALIZER));\n  }\n\n  delete(userId: string, cartId: string): Observable<{}> {\n    let headers = new HttpHeaders();\n    if (userId === OCC_USER_ID_ANONYMOUS) {\n      headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n    }\n    return this.http.delete<{}>(\n      this.occEndpointsService.buildUrl('deleteCart', {\n        urlParams: { userId, cartId },\n      }),\n      { headers }\n    );\n  }\n\n  save(\n    userId: string,\n    cartId: string,\n    saveCartName: string,\n    saveCartDescription: string\n  ): Observable<Cart> {\n    const endpoint = this.occEndpointsService.buildUrl('saveCart', {\n      urlParams: {\n        userId,\n        cartId,\n        saveCartName,\n        saveCartDescription,\n      },\n    });\n    return this.http.patch<Occ.Cart>(endpoint, cartId).pipe(\n      map((cartResponse) => (cartResponse as SaveCartResult).savedCartData),\n      this.converterService.pipeable(CART_NORMALIZER)\n    );\n  }\n\n  addEmail(userId: string, cartId: string, email: string): Observable<{}> {\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/x-www-form-urlencoded',\n    });\n    headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n\n    const httpParams: HttpParams = new HttpParams().set('email', email);\n\n    const url = this.occEndpointsService.buildUrl('addEmail', {\n      urlParams: {\n        userId,\n        cartId,\n      },\n    });\n\n    return this.http.put(url, httpParams, { headers });\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\nimport {\n  CART_VALIDATION_NORMALIZER,\n  CartValidationAdapter,\n} from '@spartacus/cart/base/core';\nimport { CartModificationList } from '@spartacus/cart/base/root';\nimport {\n  ConverterService,\n  LoggerService,\n  OccEndpointsService,\n  normalizeHttpError,\n} from '@spartacus/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class OccCartValidationAdapter implements CartValidationAdapter {\n  protected logger = inject(LoggerService);\n\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  validate(cartId: string, userId: string): Observable<CartModificationList> {\n    const url = this.occEndpoints.buildUrl('validate', {\n      urlParams: { cartId, userId },\n    });\n\n    return this.http.post<any>(url, null).pipe(\n      catchError((error) => throwError(normalizeHttpError(error, this.logger))),\n      this.converter.pipeable(CART_VALIDATION_NORMALIZER)\n    );\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './converters/index';\nexport * from './occ-cart-entry.adapter';\nexport * from './occ-cart-voucher.adapter';\nexport * from './occ-cart.adapter';\nexport * from './occ-cart-validation.adapter';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OccConfig } from '@spartacus/core';\n\nexport const defaultOccCartConfig: OccConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        /* eslint-disable max-len */\n        carts:\n          'users/${userId}/carts?fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),totalUnitCount,deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description)',\n        cart: 'users/${userId}/carts/${cartId}?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),totalUnitCount,deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user,saveTime,name,description',\n        createCart:\n          'users/${userId}/carts?fields=DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),totalUnitCount,deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),user',\n        addEntries: 'users/${userId}/carts/${cartId}/entries',\n        updateEntries: 'users/${userId}/carts/${cartId}/entries/${entryNumber}',\n        removeEntries: 'users/${userId}/carts/${cartId}/entries/${entryNumber}',\n        addEmail: 'users/${userId}/carts/${cartId}/email',\n        deleteCart: 'users/${userId}/carts/${cartId}',\n        cartVoucher: 'users/${userId}/carts/${cartId}/vouchers',\n        saveCart:\n          '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n        validate: 'users/${userId}/carts/${cartId}/validate?fields=DEFAULT',\n        /* eslint-enable */\n      },\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport {\n  CartAdapter,\n  CartEntryAdapter,\n  CartValidationAdapter,\n  CartVoucherAdapter,\n} from '@spartacus/cart/base/core';\nimport {\n  CART_NORMALIZER,\n  ORDER_ENTRY_PROMOTIONS_NORMALIZER,\n} from '@spartacus/cart/base/root';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { OccCartNormalizer } from './adapters/converters/occ-cart-normalizer';\nimport { OrderEntryPromotionsNormalizer } from './adapters/converters/order-entry-promotions-normalizer';\nimport { defaultOccCartConfig } from './adapters/default-occ-cart-config';\nimport { OccCartEntryAdapter } from './adapters/occ-cart-entry.adapter';\nimport { OccCartValidationAdapter } from './adapters/occ-cart-validation.adapter';\nimport { OccCartVoucherAdapter } from './adapters/occ-cart-voucher.adapter';\nimport { OccCartAdapter } from './adapters/occ-cart.adapter';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    provideDefaultConfig(defaultOccCartConfig),\n    {\n      provide: CartAdapter,\n      useClass: OccCartAdapter,\n    },\n    {\n      provide: CART_NORMALIZER,\n      useExisting: OccCartNormalizer,\n      multi: true,\n    },\n    {\n      provide: ORDER_ENTRY_PROMOTIONS_NORMALIZER,\n      useExisting: OrderEntryPromotionsNormalizer,\n      multi: true,\n    },\n    {\n      provide: CartEntryAdapter,\n      useClass: OccCartEntryAdapter,\n    },\n    {\n      provide: CartVoucherAdapter,\n      useClass: OccCartVoucherAdapter,\n    },\n    {\n      provide: CartValidationAdapter,\n      useClass: OccCartValidationAdapter,\n    },\n  ],\n})\nexport class CartBaseOccModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './occ-cart-endpoints.model';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './adapters/index';\nexport * from './cart-base-occ.module';\nexport * from './model/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1"],"mappings":"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"}