/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, Input, } from '@angular/core';
import { ProductListOutlets } from '../../product-outlets.model';
import { ProductListItemContextSource } from '../model/product-list-item-context-source.model';
import { ProductListItemContext } from '../model/product-list-item-context.model';
import * as i0 from "@angular/core";
import * as i1 from "../model/product-list-item-context-source.model";
import * as i2 from "@angular/common";
import * as i3 from "../../../../shared/components/media/media.component";
import * as i4 from "../../../../cms-structure/outlet/outlet.directive";
import * as i5 from "../../../../cms-structure/page/component/inner-components-host.directive";
import * as i6 from "@angular/router";
import * as i7 from "../../../../shared/components/star-rating/star-rating.component";
import * as i8 from "@spartacus/core";
export class ProductGridItemComponent {
    constructor(productListItemContextSource) {
        this.productListItemContextSource = productListItemContextSource;
        this.ProductListOutlets = ProductListOutlets;
    }
    ngOnChanges(changes) {
        if (changes?.product) {
            this.productListItemContextSource.product$.next(this.product);
        }
    }
}
ProductGridItemComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ProductGridItemComponent, deps: [{ token: i1.ProductListItemContextSource }], target: i0.ɵɵFactoryTarget.Component });
ProductGridItemComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: ProductGridItemComponent, selector: "cx-product-grid-item", inputs: { product: "product" }, providers: [
        ProductListItemContextSource,
        {
            provide: ProductListItemContext,
            useExisting: ProductListItemContextSource,
        },
    ], usesOnChanges: true, ngImport: i0, template: "<a\n  [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n  class=\"cx-product-image-container\"\n  tabindex=\"-1\"\n>\n  <cx-media\n    class=\"cx-product-image\"\n    [container]=\"product.images?.PRIMARY\"\n    format=\"product\"\n    [alt]=\"product.summary\"\n  ></cx-media>\n</a>\n<a\n  [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n  class=\"cx-product-name\"\n  [innerHTML]=\"product.nameHtml\"\n></a>\n\n<ng-template [cxOutlet]=\"ProductListOutlets.ITEM_DETAILS\">\n  <div class=\"cx-product-rating\">\n    <cx-star-rating\n      *ngIf=\"product.averageRating\"\n      [rating]=\"product?.averageRating\"\n    ></cx-star-rating>\n    <div *ngIf=\"!product.averageRating\">\n      {{ 'productDetails.noReviews' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-product-price-container\">\n    <div\n      class=\"cx-product-price\"\n      [attr.aria-label]=\"'productDetails.productPrice' | cxTranslate\"\n    >\n      {{ product.price?.formattedValue }}\n    </div>\n  </div>\n</ng-template>\n\n<ng-template [cxOutlet]=\"ProductListOutlets.ITEM_ACTIONS\">\n  <ng-container cxInnerComponentsHost></ng-container>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.MediaComponent, selector: "cx-media", inputs: ["container", "format", "alt", "role", "loading"], outputs: ["loaded"] }, { kind: "directive", type: i4.OutletDirective, selector: "[cxOutlet]", inputs: ["cxOutlet", "cxOutletContext", "cxOutletDefer", "cxComponentRef"], outputs: ["loaded", "cxComponentRefChange"] }, { kind: "directive", type: i5.InnerComponentsHostDirective, selector: "[cxInnerComponentsHost]" }, { kind: "directive", type: i6.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i7.StarRatingComponent, selector: "cx-star-rating", inputs: ["disabled", "rating"], outputs: ["change"] }, { kind: "pipe", type: i8.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i8.UrlPipe, name: "cxUrl" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ProductGridItemComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-product-grid-item', changeDetection: ChangeDetectionStrategy.OnPush, providers: [
                        ProductListItemContextSource,
                        {
                            provide: ProductListItemContext,
                            useExisting: ProductListItemContextSource,
                        },
                    ], template: "<a\n  [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n  class=\"cx-product-image-container\"\n  tabindex=\"-1\"\n>\n  <cx-media\n    class=\"cx-product-image\"\n    [container]=\"product.images?.PRIMARY\"\n    format=\"product\"\n    [alt]=\"product.summary\"\n  ></cx-media>\n</a>\n<a\n  [routerLink]=\"{ cxRoute: 'product', params: product } | cxUrl\"\n  class=\"cx-product-name\"\n  [innerHTML]=\"product.nameHtml\"\n></a>\n\n<ng-template [cxOutlet]=\"ProductListOutlets.ITEM_DETAILS\">\n  <div class=\"cx-product-rating\">\n    <cx-star-rating\n      *ngIf=\"product.averageRating\"\n      [rating]=\"product?.averageRating\"\n    ></cx-star-rating>\n    <div *ngIf=\"!product.averageRating\">\n      {{ 'productDetails.noReviews' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-product-price-container\">\n    <div\n      class=\"cx-product-price\"\n      [attr.aria-label]=\"'productDetails.productPrice' | cxTranslate\"\n    >\n      {{ product.price?.formattedValue }}\n    </div>\n  </div>\n</ng-template>\n\n<ng-template [cxOutlet]=\"ProductListOutlets.ITEM_ACTIONS\">\n  <ng-container cxInnerComponentsHost></ng-container>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ProductListItemContextSource }]; }, propDecorators: { product: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvZHVjdC1ncmlkLWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc3RvcmVmcm9udGxpYi9jbXMtY29tcG9uZW50cy9wcm9kdWN0L3Byb2R1Y3QtbGlzdC9wcm9kdWN0LWdyaWQtaXRlbS9wcm9kdWN0LWdyaWQtaXRlbS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdG9yZWZyb250bGliL2Ntcy1jb21wb25lbnRzL3Byb2R1Y3QvcHJvZHVjdC1saXN0L3Byb2R1Y3QtZ3JpZC1pdGVtL3Byb2R1Y3QtZ3JpZC1pdGVtLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxLQUFLLEdBR04sTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDakUsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0saURBQWlELENBQUM7QUFDL0YsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMENBQTBDLENBQUM7Ozs7Ozs7Ozs7QUFjbEYsTUFBTSxPQUFPLHdCQUF3QjtJQUluQyxZQUNZLDRCQUEwRDtRQUExRCxpQ0FBNEIsR0FBNUIsNEJBQTRCLENBQThCO1FBSjdELHVCQUFrQixHQUFHLGtCQUFrQixDQUFDO0lBSzlDLENBQUM7SUFFSixXQUFXLENBQUMsT0FBdUI7UUFDakMsSUFBSSxPQUFPLEVBQUUsT0FBTyxFQUFFO1lBQ3BCLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUMvRDtJQUNILENBQUM7O3FIQVpVLHdCQUF3Qjt5R0FBeEIsd0JBQXdCLCtFQVJ4QjtRQUNULDRCQUE0QjtRQUM1QjtZQUNFLE9BQU8sRUFBRSxzQkFBc0I7WUFDL0IsV0FBVyxFQUFFLDRCQUE0QjtTQUMxQztLQUNGLCtDQzNCSCw2cENBeUNBOzJGRFphLHdCQUF3QjtrQkFacEMsU0FBUzsrQkFDRSxzQkFBc0IsbUJBRWYsdUJBQXVCLENBQUMsTUFBTSxhQUNwQzt3QkFDVCw0QkFBNEI7d0JBQzVCOzRCQUNFLE9BQU8sRUFBRSxzQkFBc0I7NEJBQy9CLFdBQVcsRUFBRSw0QkFBNEI7eUJBQzFDO3FCQUNGO21IQUlRLE9BQU87c0JBQWYsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIFNpbXBsZUNoYW5nZXMsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJvZHVjdExpc3RPdXRsZXRzIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC1vdXRsZXRzLm1vZGVsJztcbmltcG9ydCB7IFByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2UgfSBmcm9tICcuLi9tb2RlbC9wcm9kdWN0LWxpc3QtaXRlbS1jb250ZXh0LXNvdXJjZS5tb2RlbCc7XG5pbXBvcnQgeyBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0IH0gZnJvbSAnLi4vbW9kZWwvcHJvZHVjdC1saXN0LWl0ZW0tY29udGV4dC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXByb2R1Y3QtZ3JpZC1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3Byb2R1Y3QtZ3JpZC1pdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1xuICAgIFByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogUHJvZHVjdExpc3RJdGVtQ29udGV4dCxcbiAgICAgIHVzZUV4aXN0aW5nOiBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlLFxuICAgIH0sXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RHcmlkSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gIHJlYWRvbmx5IFByb2R1Y3RMaXN0T3V0bGV0cyA9IFByb2R1Y3RMaXN0T3V0bGV0cztcbiAgQElucHV0KCkgcHJvZHVjdDogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBwcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlOiBQcm9kdWN0TGlzdEl0ZW1Db250ZXh0U291cmNlXG4gICkge31cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzPzogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzPy5wcm9kdWN0KSB7XG4gICAgICB0aGlzLnByb2R1Y3RMaXN0SXRlbUNvbnRleHRTb3VyY2UucHJvZHVjdCQubmV4dCh0aGlzLnByb2R1Y3QpO1xuICAgIH1cbiAgfVxufVxuIiwiPGFcbiAgW3JvdXRlckxpbmtdPVwieyBjeFJvdXRlOiAncHJvZHVjdCcsIHBhcmFtczogcHJvZHVjdCB9IHwgY3hVcmxcIlxuICBjbGFzcz1cImN4LXByb2R1Y3QtaW1hZ2UtY29udGFpbmVyXCJcbiAgdGFiaW5kZXg9XCItMVwiXG4+XG4gIDxjeC1tZWRpYVxuICAgIGNsYXNzPVwiY3gtcHJvZHVjdC1pbWFnZVwiXG4gICAgW2NvbnRhaW5lcl09XCJwcm9kdWN0LmltYWdlcz8uUFJJTUFSWVwiXG4gICAgZm9ybWF0PVwicHJvZHVjdFwiXG4gICAgW2FsdF09XCJwcm9kdWN0LnN1bW1hcnlcIlxuICA+PC9jeC1tZWRpYT5cbjwvYT5cbjxhXG4gIFtyb3V0ZXJMaW5rXT1cInsgY3hSb3V0ZTogJ3Byb2R1Y3QnLCBwYXJhbXM6IHByb2R1Y3QgfSB8IGN4VXJsXCJcbiAgY2xhc3M9XCJjeC1wcm9kdWN0LW5hbWVcIlxuICBbaW5uZXJIVE1MXT1cInByb2R1Y3QubmFtZUh0bWxcIlxuPjwvYT5cblxuPG5nLXRlbXBsYXRlIFtjeE91dGxldF09XCJQcm9kdWN0TGlzdE91dGxldHMuSVRFTV9ERVRBSUxTXCI+XG4gIDxkaXYgY2xhc3M9XCJjeC1wcm9kdWN0LXJhdGluZ1wiPlxuICAgIDxjeC1zdGFyLXJhdGluZ1xuICAgICAgKm5nSWY9XCJwcm9kdWN0LmF2ZXJhZ2VSYXRpbmdcIlxuICAgICAgW3JhdGluZ109XCJwcm9kdWN0Py5hdmVyYWdlUmF0aW5nXCJcbiAgICA+PC9jeC1zdGFyLXJhdGluZz5cbiAgICA8ZGl2ICpuZ0lmPVwiIXByb2R1Y3QuYXZlcmFnZVJhdGluZ1wiPlxuICAgICAge3sgJ3Byb2R1Y3REZXRhaWxzLm5vUmV2aWV3cycgfCBjeFRyYW5zbGF0ZSB9fVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImN4LXByb2R1Y3QtcHJpY2UtY29udGFpbmVyXCI+XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJjeC1wcm9kdWN0LXByaWNlXCJcbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiJ3Byb2R1Y3REZXRhaWxzLnByb2R1Y3RQcmljZScgfCBjeFRyYW5zbGF0ZVwiXG4gICAgPlxuICAgICAge3sgcHJvZHVjdC5wcmljZT8uZm9ybWF0dGVkVmFsdWUgfX1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgW2N4T3V0bGV0XT1cIlByb2R1Y3RMaXN0T3V0bGV0cy5JVEVNX0FDVElPTlNcIj5cbiAgPG5nLWNvbnRhaW5lciBjeElubmVyQ29tcG9uZW50c0hvc3Q+PC9uZy1jb250YWluZXI+XG48L25nLXRlbXBsYXRlPlxuIl19