"use strict";(self.webpackChunkstorefrontapp=self.webpackChunkstorefrontapp||[]).push([[7685],{3914:(sa,ir,b)=>{b.d(ir,{B$c:()=>Kn,B9N:()=>zc,F04:()=>Hn,N8K:()=>$c,XNV:()=>Z,a8M:()=>T,enT:()=>G,nsn:()=>Pe,pVY:()=>Se,tVB:()=>sr,ueQ:()=>Fe,wD_:()=>Wn,zMr:()=>Ht});var e=b(4650),i=b(5955),_=b(6895),g=b(4006),A=b(5391),k=b(4850),pe=b(5778),R=b(7545),E=b(2198),P=b(2994),V=b(7224),N=b(2986),Le=b(1059),cr=b(7168),ar=b(5154),C=b(6916),Ee=b(1086),z=b(591),ce=b(8896),q=b(839),F=b(8929),Oe=b(2654),Y=b(82),h=b(8105),x=b(7039),tt=b(2274);function pt(r,o){if(1&r&&e._UZ(0,"cx-icon",3),2&r){const t=e.oxw();e.Q6J("type",t.messageIcon)}}const gt=function(){return{autofocus:!0,focusOnEscape:!0}},mt=["vcr"],rt=function(){return{placement:"auto",class:"hint-popover",appendToBody:!0,displayCloseButton:!0}};function _t(r,o){if(1&r&&(e.TgZ(0,"button",9),e.ALo(1,"cxTranslate"),e._UZ(2,"cx-icon",10),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(22);e.Q6J("cxPopover",n)("cxPopoverOptions",e.DdM(6,rt)),e.uIk("aria-label",e.lcZ(1,4,"organization.information")),e.xp6(2),e.Q6J("type",t.iconTypes.INFO)}}function U(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"cx-icon",14),e.NdJ("click",function(d){e.CHM(t);const v=e.oxw(2);return e.KtG(v.closeView(d))}),e.qZA()}}function M(r,o){if(1&r&&(e._uU(0),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw(2);e.Oqu(e.lcZ(1,1,t.previousLabel))}}function p(r,o){if(1&r&&(e.TgZ(0,"button",11),e.ALo(1,"cxTranslate"),e.YNc(2,U,1,0,"cx-icon",12),e.YNc(3,M,2,3,"ng-template",null,13,e.W1O),e.qZA()),2&r){const t=e.MAs(4),n=e.oxw();e.uIk("aria-label",e.lcZ(1,3,"common.close")),e.xp6(2),e.Q6J("ngIf",!0===n.previous)("ngIfElse",t)}}function m(r,o){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".hint")," ")}}const S=[[["","actions",""]],[["","info",""]],[["","main",""]]],$=function(r){return{item:r}},os=["[actions]","[info]","[main]"],ft=function(r){return{autofocus:"input",refreshFocus:r}};function is(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const v=e.CHM(t).ngIf,D=e.oxw();return e.KtG(D.save(v))}),e.TgZ(1,"cx-org-card",2,3)(3,"button",4),e.ALo(4,"async"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA(),e.TgZ(7,"button",5)(8,"span",6),e.NdJ("click",function(d){e.CHM(t);const v=e.MAs(2),D=e.oxw();return e.KtG(D.back(d,v))}),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA()(),e.TgZ(11,"section",7),e.Hsn(12,0,["ngProjectAs","[main]",5,["","main",""]]),e.qZA()()()}if(2&r){const t=o.ngIf,n=e.oxw();e.xp6(1),e.Q6J("previous",!1)("i18nRoot",n.i18n)("subtitle",n.subtitle)("cxFocus",e.VKq(13,ft,t)),e.xp6(2),e.Q6J("disabled",t.disabled||e.lcZ(4,7,n.disabled$)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"organization.save")," "),e.xp6(4),e.Oqu(e.lcZ(10,11,"organization.cancel"))}}const cs=[[["","main",""]]],X=["[main]"];function Ut(r,o){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2).ngIf;e.xp6(1),e.Oqu(e.lcZ(2,1,t.type+".sortBy"))}}function as(r,o){if(1&r&&(e.TgZ(0,"ng-option",19),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=o.$implicit,n=e.oxw(3).ngIf;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",e.lcZ(2,2,n.type+".sort."+t.code)," ")}}function he(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"ng-select",17),e.NdJ("change",function(){e.CHM(t);const d=e.oxw().ngIf,v=e.oxw(2);return e.KtG(v.sort(d.pagination))})("ngModelChange",function(d){e.CHM(t);const v=e.oxw(3);return e.KtG(v.sortCode=d)}),e.ALo(1,"cxTranslate"),e.YNc(2,as,3,4,"ng-option",18),e.qZA()}if(2&r){const t=e.oxw().ngIf,n=e.oxw().ngIf,d=e.oxw();e.Q6J("searchable",!1)("clearable",!1)("tabIndex",0)("ngModel",d.sortCode),e.uIk("aria-label",e.lcZ(1,6,d.sortCode?n.type+".sort."+d.sortCode:n.type+".sortBy")),e.xp6(2),e.Q6J("ngForOf",t.sorts)}}const ht=function(r){return{cxRoute:r}};function vt(r,o){if(1&r&&(e.TgZ(0,"a",21),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3).ngIf,n=e.oxw();e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,ht,t.type+"Create"))),e.xp6(2),e.hij(" ",e.lcZ(3,4,n.getCreateButtonLabel())," ")}}function us(r,o){if(1&r&&(e.ynx(0),e.YNc(1,vt,4,8,"a",20),e.BQk()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.hideAddButton)}}const J=function(r,o){return{property:r,value:o}},St=function(r){return{trap:r}};function At(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"cx-table",22),e.NdJ("launch",function(d){e.CHM(t);const v=e.oxw(3);return e.KtG(v.launchItem(d))}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=e.oxw().ngIf,n=e.oxw().ngIf,d=e.oxw();e.Q6J("structure",n)("data",t.values)("i18nRoot",d.domainType)("currentItem",e.WLB(7,J,d.key,e.lcZ(1,5,d.currentKey$)))("cxFocus",e.VKq(10,St,d.trapFocus.both))}}const Ct=function(r){return{count:r}};function ls(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"cx-view",6)(1,"div",7)(2,"div",8)(3,"h3"),e._uU(4),e.ALo(5,"cxTranslate"),e.TgZ(6,"button",9),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-icon",10),e.qZA()()(),e.TgZ(9,"div",11)(10,"label"),e.YNc(11,Ut,3,3,"span",1),e.YNc(12,he,3,8,"ng-select",12),e.qZA(),e.Hsn(13),e.YNc(14,us,2,1,"ng-container",13),e.qZA()(),e.YNc(15,At,2,12,"cx-table",14),e.TgZ(16,"div",15)(17,"cx-pagination",16),e.NdJ("viewPageEvent",function(d){const D=e.CHM(t).ngIf,H=e.oxw(2);return e.KtG(H.browse(D.pagination,d))}),e.qZA()()()}if(2&r){const t=o.ngIf,n=e.oxw(2),d=e.MAs(6),v=e.MAs(8),D=e.MAs(4);e.xp6(4),e.hij(" ",e.xi3(5,12,n.viewType+".header",e.VKq(17,Ct,n.getListCount(t)))," "),e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(19,rt)),e.uIk("aria-label",e.lcZ(7,15,"organization.information")),e.xp6(2),e.Q6J("type",n.iconTypes.INFO),e.xp6(3),e.Q6J("ngIf",null==t.pagination?null:t.pagination.sort),e.xp6(1),e.Q6J("ngIf",null==t.pagination?null:t.pagination.sort),e.xp6(2),e.Q6J("ngIf",n.createButtonType===n.createButtonAllTypes.LINK)("ngIfElse",v),e.xp6(1),e.Q6J("ngIf",t.values&&t.values.length>0)("ngIfElse",D),e.xp6(2),e.Q6J("pagination",t.pagination)}}function oa(r,o){if(1&r&&(e.ynx(0),e.YNc(1,ls,18,20,"cx-view",5),e.ALo(2,"async"),e._UZ(3,"router-outlet"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.listData$))}}function xt(r,o){1&r&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"organization.messages.emptyList")," "))}function ve(r,o){if(1&r&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.viewType+".hint")," ")}}function Lt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onCreateButtonClick())}),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.getCreateButtonLabel())," ")}}function Et(r,o){if(1&r&&e.YNc(0,Lt,3,3,"button",24),2&r){const t=e.oxw();e.Q6J("ngIf",!t.hideAddButton)}}const nt=[[["","actions",""]]],It=["[actions]"];function yt(r,o){1&r&&e.GkF(0)}const ae=function(r,o){return{cxRoute:r,params:o}};function ds(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,yt,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function w(r,o){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Pt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.toggleAssign())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij(" ",t.isAssigned?"unassign":"assign"," ")}}function Dt(r,o){if(1&r&&(e._UZ(0,"cx-table",7),e.ALo(1,"async")),2&r){const t=e.oxw().ngIf,n=e.oxw().ngIf,d=e.oxw();e.Q6J("structure",n)("data",t.values)("i18nRoot",d.domainType)("currentItem",e.WLB(6,J,d.key,e.lcZ(1,4,d.subKey$)))}}function Tt(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"cx-pagination",9),e.NdJ("viewPageEvent",function(d){e.CHM(t);const v=e.oxw().ngIf,D=e.oxw(2);return e.KtG(D.browse(v.pagination,d))}),e.qZA()()}if(2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("pagination",t.pagination)}}function bt(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"section"),e.YNc(2,Dt,2,9,"cx-table",5),e.qZA(),e.YNc(3,Tt,2,1,"div",6),e.BQk()),2&r){const t=o.ngIf;e.oxw(2);const n=e.MAs(7);e.xp6(2),e.Q6J("ngIf",t.values&&t.values.length>0)("ngIfElse",n),e.xp6(1),e.Q6J("ngIf",t.pagination&&void 0!==t.pagination.totalPages&&t.pagination.totalPages>1)}}function ur(r,o){if(1&r&&(e.ynx(0,3),e.YNc(1,bt,4,3,"ng-container",4),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.listData$))}}function j(r,o){1&r&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"organization.messages.emptyList")))}const Bt=[[["","actions",""]],[["","main",""]],[["","info",""]]],Gt=function(){return{autofocus:!0}},Mt=["[actions]","[main]","[info]"];function _e(r,o){if(1&r&&(e.TgZ(0,"p",7),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageTitle)," ")}}function Rt(r,o){if(1&r&&e._UZ(0,"cx-icon",8),2&r){const t=e.oxw();e.Q6J("type",t.messageIcon)}}const lr=function(){return{focusOnEscape:!0}},ps=function(){return{autofocus:"button.primary"}};function dr(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){const v=e.CHM(t).ngIf,D=e.oxw();return e.KtG(D.toggle(v))}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&r){const t=o.ngIf,n=e.oxw();e.Q6J("disabled",n.isDisabled(t)||e.lcZ(1,2,n.isInEditMode$)&&t.active&&!0!==n.disabled),e.xp6(2),e.hij(" ",e.lcZ(3,4,"organization."+(t.active?"disable":"enable")),"\n")}}function pr(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"button",1),e.NdJ("click",function(){const v=e.CHM(t).ngIf,D=e.oxw();return e.KtG(D.delete(v))}),e.ALo(1,"async"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",e.lcZ(1,2,t.isInEditMode$)),e.xp6(2),e.hij(" ",e.lcZ(3,4,"organization.delete"),"\n")}}function gs(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledEnable")," ")}}function gr(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledCreate")," ")}}function mr(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledEdit")," ")}}function ms(r,o){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.i18nRoot+".info.disabledDisable")," ")}}function _r(r,o){if(1&r&&(e.TgZ(0,"section"),e._UZ(1,"cx-icon",1),e.TgZ(2,"ul"),e.YNc(3,gs,3,3,"li",0),e.YNc(4,gr,3,3,"li",0),e.YNc(5,mr,3,3,"li",0),e.YNc(6,ms,3,3,"li",0),e.Hsn(7),e.qZA()()),2&r){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Q6J("type",n.iconTypes.INFO),e.xp6(2),e.Q6J("ngIf",n.displayDisabledEnable(t)),e.xp6(1),e.Q6J("ngIf",n.displayDisabledCreate(t)),e.xp6(1),e.Q6J("ngIf",n.displayDisabledEdit(t)),e.xp6(1),e.Q6J("ngIf",n.displayDisabledDisable(t))}}function fr(r,o){if(1&r&&(e.ynx(0),e.YNc(1,_r,8,5,"section",0),e.BQk()),2&r){const t=o.ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.displayDisabledCreate(t)||n.displayDisabledEdit(t)||n.displayDisabledEnable(t)||n.displayDisabledDisable(t)||n.displayCustomInfo)}}const _s=["*"];function Ur(r,o){1&r&&e.GkF(0)}function fs(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Ur,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Us(r,o){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Ot(r,o){1&r&&e.GkF(0)}function hs(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Ot,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function vs(r,o){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function Ss(r,o){1&r&&e.GkF(0)}function As(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Ss,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Cs(r,o){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxDate"),e.ALo(2,"cxDate"),e._uU(3),e.ALo(4,"cxDate"),e.ALo(5,"cxDate"),e.qZA()),2&r){const t=e.oxw(2);e.hYB("title","",e.lcZ(1,4,t.model.startDate)," - ",e.lcZ(2,6,t.model.endDate),""),e.xp6(3),e.AsE(" ",e.lcZ(4,8,t.model.startDate)," - ",e.lcZ(5,10,t.model.endDate)," ")}}function xs(r,o){if(1&r&&e.YNc(0,Cs,6,12,"span",4),2&r){const t=e.oxw();e.Q6J("ngIf",t.hasRange)}}function Ls(r,o){1&r&&e.GkF(0)}function Es(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Ls,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Is(r,o){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2);e.cQ8("title","",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ",e.lcZ(1,6,"orgPurchaseLimit.per."+t.model.periodRange),""),e.xp6(2),e.lnq(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ",e.lcZ(3,8,"orgPurchaseLimit.per."+t.model.periodRange)," ")}}function ia(r,o){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.hYB("title","",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol,""),e.xp6(1),e.AsE(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ")}}function hr(r,o){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.s9C("title",t.model.orderApprovalPermissionType.name),e.xp6(1),e.hij(" ",t.model.orderApprovalPermissionType.name," ")}}function ys(r,o){if(1&r&&(e.YNc(0,Is,4,10,"span",4),e.YNc(1,ia,2,4,"span",4),e.YNc(2,hr,2,2,"span",4)),2&r){const t=e.oxw();e.Q6J("ngIf",t.isTimeSpanThreshold),e.xp6(1),e.Q6J("ngIf",t.isOrderThreshold),e.xp6(1),e.Q6J("ngIf",t.isExceedPermission)}}function vr(r,o){1&r&&e.GkF(0)}function Pc(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,vr,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Dc(r,o){1&r&&(e._UZ(0,"li",7),e.ALo(1,"cxTranslate")),2&r&&e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+o.$implicit))}function Tc(r,o){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Sr(r,o){if(1&r&&(e.TgZ(0,"ul",4),e.YNc(1,Dc,2,3,"li",5),e.YNc(2,Tc,2,0,"li",6),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.model.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.model.roles?null:t.model.roles.length))}}function Ps(r,o){1&r&&e.GkF(0)}function Ds(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Ps,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabindex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Ar(r,o){if(1&r&&(e.TgZ(0,"span",5),e.ALo(1,"cxTranslate"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2);e.ekj("is-active",t.isActive),e.s9C("title",e.lcZ(1,4,t.label)),e.xp6(2),e.hij(" ",e.lcZ(3,6,t.label),"")}}function Ts(r,o){if(1&r&&e.YNc(0,Ar,4,8,"span",4),2&r){const t=e.oxw();e.Q6J("ngIf",t.label)}}function Cr(r,o){1&r&&e.GkF(0)}function xr(r,o){if(1&r&&(e.TgZ(0,"a",2),e.ALo(1,"cxUrl"),e.YNc(2,Cr,1,0,"ng-container",3),e.qZA()),2&r){const t=e.oxw(),n=e.MAs(2);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function bs(r,o){if(1&r&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}const te=function(r){return{cxRoute:"orgUnitDetails",params:r}};function Lr(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"a",4),e.ALo(5,"cxUrl"),e._uU(6),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgCostCenter.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(5,5,e.VKq(7,te,t.model.unit))),e.xp6(2),e.hij(" ",null==t.model.unit?null:t.model.unit.name," ")}}const Bs=function(r){return{cxRoute:"orgCostCenterDetails",params:r}};function Gs(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()(),e.TgZ(21,"div",3)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",5),e._uU(26),e.qZA()(),e.YNc(27,Lr,7,9,"div",6),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,14,"orgCostCenter.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,16,e.VKq(26,Bs,t.model))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,18,"orgCostCenter.code")),e.xp6(3),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(17,20,"orgCostCenter.active")),e.xp6(2),e.ekj("is-active",t.model.active)("is-inactive",!t.model.active),e.xp6(1),e.hij(" ",e.lcZ(20,22,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(24,24,"orgCostCenter.currency")),e.xp6(3),e.hij(" ",null==t.model.currency?null:t.model.currency.isocode," "),e.xp6(1),e.Q6J("ngIf",t.model.unit)}}const Be=function(){return{placement:"auto",class:"my-company-popover",appendToBody:!0,displayCloseButton:!0}},Ms=function(r){return{cxRoute:"orgBudgetCostCenters",params:r}};function Rs(r,o){if(1&r&&(e.TgZ(0,"a",11),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,Ms,t))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgBudget.links.costCenters")," ")}}const Ie=function(r){return{refreshFocus:r}},Er=function(r){return{cxRoute:"orgBudgetEdit",params:r}};function Os(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",6)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",7),e._uU(33),e.ALo(34,"cxDate"),e.qZA()(),e.TgZ(35,"div",6)(36,"label"),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.TgZ(39,"span",7),e._uU(40),e.ALo(41,"cxTranslate"),e.qZA()(),e.TgZ(42,"div",6)(43,"label"),e._uU(44),e.ALo(45,"cxTranslate"),e.qZA(),e.TgZ(46,"span",7),e._uU(47),e.qZA()(),e.TgZ(48,"div",6)(49,"label"),e._uU(50),e.ALo(51,"cxTranslate"),e.qZA(),e.TgZ(52,"a",8),e.ALo(53,"cxUrl"),e._uU(54),e.qZA()()(),e.TgZ(55,"section",9),e.YNc(56,Rs,4,8,"a",10),e.qZA()()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("cxFocus",e.VKq(52,Ie,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,24,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,26,e.VKq(54,Er,t))),e.xp6(3),e.hij(" ",e.lcZ(5,28,"organization.edit")," "),e.xp6(7),e.Oqu(e.lcZ(12,30,"orgBudget.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,32,"orgBudget.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(24,34,"orgBudget.startDate")),e.xp6(3),e.hij(" ",e.lcZ(27,36,t.startDate)," "),e.xp6(4),e.Oqu(e.lcZ(31,38,"orgBudget.endDate")),e.xp6(3),e.hij(" ",e.lcZ(34,40,t.endDate)," "),e.xp6(4),e.Oqu(e.lcZ(38,42,"orgBudget.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(41,44,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(45,46,"orgBudget.amount")),e.xp6(3),e.AsE(" ",t.budget," ",null==t.currency?null:t.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(51,48,"orgBudget.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(53,50,e.VKq(56,te,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," "),e.xp6(2),e.Q6J("ngIf",t.code)}}const ee=function(){return{required:"true"}};function Ir(r,o){if(1&r&&(e.TgZ(0,"label",10)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",14),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=o.ngIf,n=e.oxw(2);let d;e.Q6J("formGroup",n.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(3,9,"orgBudget.businessUnits")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(13,ee))("searchable",!0)("clearable",!1)("items",t)("readonly",null!==(d=null==(d=n.form.get("orgUnit.uid"))?null:d.disabled)&&void 0!==d&&d)("placeholder",e.lcZ(5,11,"orgBudget.businessUnits")),e.xp6(2),e.Q6J("control",n.form.get("orgUnit.uid"))}}function Zs(r,o){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.createCodeWithName(d.form.get("name"),d.form.get("code")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label")(16,"span",7),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"cx-date-picker",8),e.NdJ("update",function(){e.CHM(t);const d=e.oxw();let v;return e.KtG(null==(v=d.form.get("endDate"))?null:v.updateValueAndValidity())}),e.qZA()(),e.TgZ(20,"label")(21,"span",7),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"cx-date-picker",9),e.NdJ("update",function(){e.CHM(t);const d=e.oxw();let v;return e.KtG(null==(v=d.form.get("startDate"))?null:v.updateValueAndValidity())}),e.qZA()(),e.TgZ(25,"label",10)(26,"span",3),e._uU(27),e.ALo(28,"cxTranslate"),e.qZA(),e._UZ(29,"ng-select",11),e.ALo(30,"async"),e.ALo(31,"cxTranslate"),e._UZ(32,"cx-form-errors",5),e.qZA(),e.TgZ(33,"label")(34,"span",7),e._uU(35),e.ALo(36,"cxTranslate"),e.qZA(),e._UZ(37,"input",12),e.ALo(38,"cxTranslate"),e._UZ(39,"cx-form-errors",5),e.qZA(),e.YNc(40,Ir,7,14,"label",13),e.ALo(41,"async"),e.BQk()}if(2&r){const t=e.oxw();let n,d,v;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,29,"orgBudget.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,31,"orgBudget.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,33,"orgBudget.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,35,"orgBudget.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(3),e.Oqu(e.lcZ(18,37,"orgBudget.startDate")),e.xp6(2),e.Q6J("control",t.form.get("startDate"))("max",null==(n=t.form.get("endDate"))?null:n.value)("required",!0),e.xp6(3),e.Oqu(e.lcZ(23,39,"orgBudget.endDate")),e.xp6(2),e.Q6J("control",t.form.get("endDate"))("min",null==(d=t.form.get("startDate"))?null:d.value)("required",!0),e.xp6(1),e.Q6J("formGroup",t.form.get("currency")),e.xp6(2),e.Oqu(e.lcZ(28,41,"orgBudget.currency")),e.xp6(2),e.ekj("invalid",null!==(v=null==(v=t.form.get("currency.isocode"))?null:v.invalid)&&void 0!==v&&v),e.Q6J("inputAttrs",e.DdM(53,ee))("searchable",!1)("clearable",!1)("items",e.lcZ(30,43,t.currencies$))("placeholder",e.lcZ(31,45,"orgBudget.currency")),e.xp6(3),e.Q6J("control",t.form.get("currency.isocode")),e.xp6(3),e.Oqu(e.lcZ(36,47,"orgBudget.amount")),e.xp6(2),e.s9C("placeholder",e.lcZ(38,49,"orgBudget.amount")),e.xp6(2),e.Q6J("control",t.form.get("budget")),e.xp6(1),e.Q6J("ngIf",e.lcZ(41,51,t.units$))}}const yr=function(r){return{cxRoute:"orgBudgetDetails",params:r}};function Pr(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxDate"),e.qZA()(),e.TgZ(21,"div",3)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",5),e._uU(26),e.ALo(27,"cxDate"),e.qZA()(),e.TgZ(28,"div",3)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",5),e._uU(33),e.ALo(34,"cxTranslate"),e.qZA()(),e.TgZ(35,"div",3)(36,"label"),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.TgZ(39,"span",5),e._uU(40),e.qZA()(),e.TgZ(41,"div",3)(42,"label"),e._uU(43),e.ALo(44,"cxTranslate"),e.qZA(),e.TgZ(45,"a",4),e.ALo(46,"cxUrl"),e._uU(47),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,19,"orgBudget.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,21,e.VKq(43,yr,t.model))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,23,"orgBudget.code")),e.xp6(3),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(17,25,"orgBudget.startDate")),e.xp6(3),e.hij(" ",e.lcZ(20,27,t.model.startDate)," "),e.xp6(4),e.Oqu(e.lcZ(24,29,"orgBudget.endDate")),e.xp6(3),e.hij(" ",e.lcZ(27,31,t.model.endDate)," "),e.xp6(4),e.Oqu(e.lcZ(31,33,"orgBudget.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(34,35,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(38,37,"orgBudget.amount")),e.xp6(3),e.AsE(" ",t.model.budget," ",null==t.model.currency?null:t.model.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(44,39,"orgBudget.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(46,41,e.VKq(45,te,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}const Fs=function(r){return{cxRoute:"orgCostCenterBudgets",params:r}};function Dr(r,o){if(1&r&&(e.TgZ(0,"a",11),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,Fs,t))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgCostCenter.budget.link")," ")}}const Tr=function(r){return{cxRoute:"orgCostCenterEdit",params:r}};function ws(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",6)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.ALo(27,"cxTranslate"),e.qZA()(),e.TgZ(28,"div",6)(29,"label"),e._uU(30),e.ALo(31,"cxTranslate"),e.qZA(),e.TgZ(32,"span",7),e._uU(33),e.qZA()(),e.TgZ(34,"div",6)(35,"label"),e._uU(36),e.ALo(37,"cxTranslate"),e.qZA(),e.TgZ(38,"a",8),e.ALo(39,"cxUrl"),e._uU(40),e.qZA()()(),e.TgZ(41,"section",9),e.YNc(42,Dr,4,8,"a",10),e.qZA()()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("cxFocus",e.VKq(41,Ie,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,21,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,23,e.VKq(43,Tr,t))),e.xp6(3),e.hij(" ",e.lcZ(5,25,"organization.edit")," "),e.xp6(7),e.Oqu(e.lcZ(12,27,"orgCostCenter.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(18,29,"orgCostCenter.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(24,31,"orgCostCenter.active")),e.xp6(2),e.ekj("is-active",t.active)("is-inactive",!t.active),e.xp6(1),e.hij(" ",e.lcZ(27,33,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(31,35,"orgCostCenter.currency")),e.xp6(3),e.hij(" ",null==t.currency?null:t.currency.isocode," "),e.xp6(3),e.Oqu(e.lcZ(37,37,"orgCostCenter.unit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(39,39,e.VKq(45,te,t.unit))),e.xp6(2),e.hij(" ",null==t.unit?null:t.unit.name," "),e.xp6(2),e.Q6J("ngIf",t.code)}}function br(r,o){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.createCodeWithName(d.form.get("name"),d.form.get("code")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.TgZ(23,"label",9)(24,"span",3),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"ng-select",10),e.ALo(28,"async"),e.ALo(29,"cxTranslate"),e._UZ(30,"cx-form-errors",5),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();let n,d,v;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,25,"orgCostCenter.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,27,"orgCostCenter.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,29,"orgCostCenter.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,31,"orgCostCenter.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(3),e.Oqu(e.lcZ(18,33,"orgCostCenter.currency")),e.xp6(2),e.ekj("invalid",null!==(n=null==(n=t.form.get("currency.isocode"))?null:n.invalid)&&void 0!==n&&n),e.Q6J("inputAttrs",e.DdM(45,ee))("searchable",!1)("clearable",!1)("items",e.lcZ(20,35,t.currencies$))("placeholder",e.lcZ(21,37,"orgCostCenter.currency")),e.xp6(3),e.Q6J("control",t.form.get("currency.isocode")),e.xp6(1),e.Q6J("formGroup",t.form.get("unit")),e.xp6(2),e.Oqu(e.lcZ(26,39,"orgCostCenter.unit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(46,ee))("searchable",!0)("clearable",!1)("items",null!==(d=e.lcZ(28,41,t.units$))&&void 0!==d?d:null)("readonly",null!==(v=null==(v=t.form.get("unit.uid"))?null:v.disabled)&&void 0!==v&&v)("placeholder",e.lcZ(29,43,"orgCostCenter.unit")),e.xp6(3),e.Q6J("control",t.form.get("unit.uid"))}}function Br(r,o){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(3),e.AsE(" ",t.threshold," ",null==t.currency?null:t.currency.symbol," ")}}function ks(r,o){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,2,"orgPurchaseLimit.periodRange")),e.xp6(3),e.hij(" ",t.periodRange," ")}}function Gr(r,o){if(1&r&&(e.TgZ(0,"a",10),e.ALo(1,"cxUrl"),e._uU(2),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(4,te,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," ")}}const Ns=function(r){return{cxRoute:"orgPurchaseLimitEdit",params:r}},qs=function(){return{disabledEnable:!1}};function Mr(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),e.TgZ(8,"section",5)(9,"div",6)(10,"label"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.TgZ(13,"span",7),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",7),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA()(),e.TgZ(22,"div",6)(23,"label"),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.TgZ(26,"span",7),e._uU(27),e.qZA()(),e.YNc(28,Br,6,5,"div",8),e.YNc(29,ks,6,4,"div",8),e.TgZ(30,"div",6)(31,"label"),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e.YNc(34,Gr,3,6,"a",9),e.qZA()()()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("cxFocus",e.VKq(35,Ie,t)),e.xp6(1),e.ekj("disabled",!t.active||e.lcZ(2,19,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,21,e.VKq(37,Ns,t))),e.xp6(3),e.hij(" ",e.lcZ(5,23,"organization.edit")," "),e.xp6(2),e.Q6J("disabled",!1),e.xp6(1),e.Q6J("displayInfoConfig",e.DdM(39,qs)),e.xp6(4),e.Oqu(e.lcZ(12,25,"orgPurchaseLimit.code")),e.xp6(3),e.hij(" ",t.code," "),e.xp6(3),e.Oqu(e.lcZ(18,27,"orgPurchaseLimit.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(21,29,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(25,31,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.hij(" ",null==t.orderApprovalPermissionType?null:t.orderApprovalPermissionType.name," "),e.xp6(1),e.Q6J("ngIf",t.threshold||0===t.threshold),e.xp6(1),e.Q6J("ngIf",t.periodRange),e.xp6(3),e.Oqu(e.lcZ(33,33,"orgPurchaseLimit.unit")),e.xp6(2),e.Q6J("ngIf",t.code)}}function zs(r,o){if(1&r&&(e.TgZ(0,"label",8)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",10),e.ALo(5,"async"),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);let n;e.Q6J("formGroup",t.form.get("orderApprovalPermissionType")),e.xp6(2),e.Oqu(e.lcZ(3,9,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(15,ee))("searchable",!1)("clearable",!1)("items",null!==(n=e.lcZ(5,11,t.types$))&&void 0!==n?n:null)("readonly",t.form.disabled)("placeholder",e.lcZ(6,13,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.Q6J("control",t.form.get("orderApprovalPermissionType.code"))}}function $s(r,o){if(1&r&&(e.TgZ(0,"label")(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",11),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"orgPurchaseLimit.periodRange")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(11,ee))("searchable",!1)("clearable",!1)("items",t.periods)("placeholder",e.lcZ(5,9,"orgPurchaseLimit.periodRange")),e.xp6(2),e.Q6J("control",t.form.get("periodRange"))}}function Rr(r,o){if(1&r&&(e._UZ(0,"ng-select",13),e.ALo(1,"cxTranslate")),2&r){const t=o.ngIf;e.Q6J("inputAttrs",e.DdM(7,ee))("searchable",!1)("clearable",!1)("items",t)("placeholder",e.lcZ(1,5,"orgPurchaseLimit.currency"))}}function Js(r,o){if(1&r&&(e.TgZ(0,"label",8)(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.YNc(4,Rr,2,8,"ng-select",12),e.ALo(5,"async"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("formGroup",t.form.get("currency")),e.xp6(2),e.Oqu(e.lcZ(3,4,"orgPurchaseLimit.currency")),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,6,t.currencies$)),e.xp6(2),e.Q6J("control",t.form.get("currency.isocode"))}}function Qs(r,o){if(1&r&&(e.TgZ(0,"label")(1,"span",3),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"input",14),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",5),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,5,"orgPurchaseLimit.threshold")),e.xp6(2),e.Q6J("control",t.form.get("threshold"))}}function Ys(r,o){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"input",4),e.ALo(6,"cxTranslate"),e._UZ(7,"cx-form-errors",5),e.qZA(),e.YNc(8,zs,8,16,"label",6),e.ALo(9,"async"),e.YNc(10,$s,7,12,"label",7),e.YNc(11,Js,7,8,"label",6),e.YNc(12,Qs,7,7,"label",7),e.TgZ(13,"label",8)(14,"span",3),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e._UZ(17,"ng-select",9),e.ALo(18,"async"),e.ALo(19,"cxTranslate"),e._UZ(20,"cx-form-errors",5),e.qZA(),e.BQk()),2&r){const t=e.oxw();let n,d,v;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,17,"orgPurchaseLimit.code")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,19,"orgPurchaseLimit.code")),e.xp6(2),e.Q6J("control",t.form.get("code")),e.xp6(1),e.Q6J("ngIf",null==(n=e.lcZ(9,21,t.types$))?null:n.length),e.xp6(2),e.Q6J("ngIf",t.form.get("periodRange")),e.xp6(1),e.Q6J("ngIf",t.form.get("currency")),e.xp6(1),e.Q6J("ngIf",t.form.get("threshold")),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(16,23,"orgPurchaseLimit.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(29,ee))("searchable",!0)("clearable",!1)("items",null!==(d=e.lcZ(18,25,t.units$))&&void 0!==d?d:null)("readonly",null!==(v=null==(v=t.form.get("orgUnit"))?null:v.disabled)&&void 0!==v&&v)("placeholder",e.lcZ(19,27,"orgPurchaseLimit.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid"))}}const js=function(r){return{cxRoute:"orgUnitEdit",params:r}};function Or(r,o){if(1&r&&(e.TgZ(0,"a",11),e.ALo(1,"async"),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw();e.ekj("disabled",!t.active||e.lcZ(1,4,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(10,js,t))),e.xp6(3),e.hij(" ",e.lcZ(4,8,"organization.edit")," ")}}function Ks(r,o){1&r&&e._UZ(0,"cx-org-toggle-status",12)}function Vs(r,o){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,2,"orgUnit.approvalProcess")),e.xp6(3),e.hij(" ",null==t.approvalProcess?null:t.approvalProcess.name," ")}}function Zr(r,o){if(1&r&&(e.TgZ(0,"div",6)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"a",13),e.ALo(5,"cxUrl"),e._uU(6),e.qZA()()),2&r){const t=e.oxw().ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgUnit.parentUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(5,5,e.VKq(7,te,t.parentOrgUnit))),e.xp6(2),e.hij(" ",null==t.parentOrgUnit?null:t.parentOrgUnit.name," ")}}const Hs=function(r){return{cxRoute:"orgUnitChildren",params:r}};function Ws(r,o){if(1&r&&(e.TgZ(0,"a",15),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw(2).ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,Hs,t))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgUnit.links.units")," ")}}const Xs=function(r){return{cxRoute:"orgUnitUserList",params:r}},eo=function(r){return{cxRoute:"orgUnitApprovers",params:r}},to=function(r){return{cxRoute:"orgUnitAddressList",params:r}},ro=function(r){return{cxRoute:"orgUnitCostCenters",params:r}};function no(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Ws,4,8,"a",14),e.TgZ(2,"a",15),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e.TgZ(6,"a",15),e.ALo(7,"cxUrl"),e._uU(8),e.ALo(9,"cxTranslate"),e.qZA(),e.TgZ(10,"a",15),e.ALo(11,"cxUrl"),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA(),e.TgZ(14,"a",15),e.ALo(15,"cxUrl"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isUpdatingUnitAllowed),e.xp6(1),e.Q6J("routerLink",e.lcZ(3,9,e.VKq(25,Xs,t))),e.xp6(2),e.hij(" ",e.lcZ(5,11,"orgUnit.links.users")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(7,13,e.VKq(27,eo,t))),e.xp6(2),e.hij(" ",e.lcZ(9,15,"orgUnit.links.approvers")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(11,17,e.VKq(29,to,t))),e.xp6(2),e.hij(" ",e.lcZ(13,19,"orgUnit.links.shippingAddresses")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(15,21,e.VKq(31,ro,t))),e.xp6(2),e.hij(" ",e.lcZ(17,23,"orgUnit.links.costCenters")," ")}}const so=function(){return{disabledDisable:!0}};function oo(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1),e.YNc(1,Or,5,12,"a",2),e.YNc(2,Ks,1,0,"cx-org-toggle-status",3),e._UZ(3,"cx-org-disable-info",4),e.TgZ(4,"section",5)(5,"div",6)(6,"label"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",6)(12,"label"),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"span",7),e._uU(16),e.qZA()(),e.TgZ(17,"div",6)(18,"label"),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e.TgZ(21,"span",7),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA()(),e.YNc(24,Vs,6,4,"div",8),e.YNc(25,Zr,7,9,"div",8),e.qZA(),e.TgZ(26,"section",9),e.YNc(27,no,18,33,"ng-container",10),e.qZA()()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("cxFocus",e.VKq(24,Ie,t))("showHint",!0),e.xp6(1),e.Q6J("ngIf",n.isUpdatingUnitAllowed),e.xp6(1),e.Q6J("ngIf",n.isUpdatingUnitAllowed),e.xp6(1),e.Q6J("displayInfoConfig",e.DdM(26,so)),e.xp6(4),e.Oqu(e.lcZ(8,16,"orgUnit.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(14,18,"orgUnit.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(20,20,"orgUnit.active")),e.xp6(2),e.ekj("is-active",t.active),e.xp6(1),e.hij(" ",e.lcZ(23,22,t.active?"organization.enabled":"organization.disabled")," "),e.xp6(2),e.Q6J("ngIf",null==t.approvalProcess?null:t.approvalProcess.name),e.xp6(1),e.Q6J("ngIf",t.parentOrgUnit),e.xp6(2),e.Q6J("ngIf",t.uid)}}function io(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"label",11)(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",12),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",5),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);let n;e.xp6(3),e.Oqu(e.lcZ(4,7,"orgUnit.form.parentOrgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(13,ee))("searchable",!0)("clearable",!1)("items",null!==(n=e.lcZ(6,9,t.units$))&&void 0!==n?n:null)("placeholder",e.lcZ(7,11,"orgUnit.form.parentOrgUnit")),e.xp6(3),e.Q6J("control",t.form.get("parentOrgUnit.uid"))}}function co(r,o){1&r&&(e.TgZ(0,"span",13),e._uU(1),e.ALo(2,"cxTranslate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"orgUnit.form.parentOrgUnitNotes")))}function ao(r,o){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.createUidWithName(d.form.get("name"),d.form.get("uid")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.YNc(23,io,9,14,"ng-container",9),e.YNc(24,co,3,3,"ng-template",null,10,e.W1O),e.BQk()}if(2&r){const t=e.MAs(25),n=e.oxw();e.Q6J("formGroup",n.form),e.xp6(3),e.Oqu(e.lcZ(4,15,"orgUnit.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,17,"orgUnit.name")),e.xp6(2),e.Q6J("control",n.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,19,"orgUnit.uid")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,21,"orgUnit.uid")),e.xp6(2),e.Q6J("control",n.form.get("uid")),e.xp6(3),e.Oqu(e.lcZ(18,23,"orgUnit.approvalProcess")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(29,ee))("searchable",!1)("items",e.lcZ(20,25,n.approvalProcess$))("placeholder",e.lcZ(21,27,"orgUnit.approvalProcess")),e.xp6(3),e.Q6J("control",n.form.get("approvalProcess.code")),e.xp6(1),e.Q6J("ngIf",n.form.get("parentOrgUnit"))("ngIfElse",t)}}function uo(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",2),e.ALo(1,"cxTranslate"),e.TgZ(2,"a",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-delete-item",4),e.TgZ(6,"section",5)(7,"div",6)(8,"label"),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA(),e.TgZ(11,"span",7),e._uU(12),e.qZA()(),e.TgZ(13,"div",6)(14,"label"),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.TgZ(17,"span",7)(18,"a",8),e.ALo(19,"cxUrl"),e._uU(20),e.qZA()()(),e.TgZ(21,"div",9)(22,"label"),e._uU(23),e.ALo(24,"cxTranslate"),e.qZA(),e.TgZ(25,"span",7),e._uU(26),e.qZA()(),e.TgZ(27,"div",6)(28,"label"),e._uU(29),e.ALo(30,"cxTranslate"),e.qZA(),e.TgZ(31,"span",7),e._uU(32),e.ALo(33,"async"),e.qZA()()()()),2&r){const t=o.ngIf,n=e.oxw().ngIf,d=e.oxw();let v;e.Q6J("subtitle",e.xi3(1,14,"orgUnitAddress.details.subtitle",e.VKq(31,$,n)))("cxFocus",e.VKq(33,Ie,t)),e.xp6(3),e.hij(" ",e.lcZ(4,17,"organization.edit")," "),e.xp6(2),e.Q6J("additionalParam",n.uid),e.xp6(4),e.Oqu(e.lcZ(10,19,"orgUnit.name")),e.xp6(3),e.AsE(" ",t.firstName," ",t.lastName," "),e.xp6(3),e.Oqu(e.lcZ(16,21,"orgUnit.unit")),e.xp6(3),e.Q6J("routerLink",e.lcZ(19,23,e.VKq(35,te,n))),e.xp6(2),e.hij(" ",n.name," "),e.xp6(3),e.Oqu(e.lcZ(24,25,"orgUnitAddress.formattedAddress")),e.xp6(3),e.hij(" ",t.formattedAddress," "),e.xp6(3),e.Oqu(e.lcZ(30,27,"orgUnitAddress.country")),e.xp6(3),e.hij(" ",null==(v=e.lcZ(33,29,d.getCountry(null==t.country?null:t.country.isocode)))?null:v.name," ")}}function lo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,uo,34,37,"cx-org-card",1),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.model$))}}function po(r,o){1&r&&e.GkF(0)}function go(r,o){if(1&r&&(e.TgZ(0,"a",3),e.ALo(1,"cxUrl"),e.YNc(2,po,1,0,"ng-container",4),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(),d=e.MAs(3);e.Q6J("routerLink",e.lcZ(1,3,e.WLB(5,ae,n.route,n.getRouterModel(t))))("tabIndex",n.tabIndex),e.xp6(2),e.Q6J("ngTemplateOutlet",d)}}function mo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,go,3,8,"a",2),e.BQk()),2&r){const t=e.oxw(),n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.linkable)("ngIfElse",n)}}function _o(r,o){if(1&r&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.s9C("title",t.property),e.xp6(1),e.Oqu(t.property)}}function fo(r,o){if(1&r&&(e.TgZ(0,"label",19)(1,"span",4),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e._UZ(4,"ng-select",20),e.ALo(5,"cxTranslate"),e._UZ(6,"cx-form-errors",6),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"orgUnitAddress.state")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"orgUnitAddress.selectOne")),e.Q6J("inputAttrs",e.DdM(11,ee))("searchable",!0)("clearable",!1)("items",t),e.xp6(2),e.Q6J("control",n.form.get("region.isocode"))}}function Uo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,fo,7,12,"label",18),e.BQk()),2&r){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function ho(r,o){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label",3)(2,"span",4),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",5),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",6),e.qZA(),e.TgZ(9,"label")(10,"span",4),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"ng-select",7),e.ALo(14,"async"),e.ALo(15,"cxTranslate"),e.qZA(),e.TgZ(16,"label")(17,"span",4),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",8),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",6),e.qZA(),e.TgZ(23,"label")(24,"span",4),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"input",9),e.ALo(28,"cxTranslate"),e._UZ(29,"cx-form-errors",6),e.qZA(),e.TgZ(30,"label",10)(31,"span",4),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e._UZ(34,"input",11),e.ALo(35,"cxTranslate"),e._UZ(36,"cx-form-errors",6),e.qZA(),e.TgZ(37,"label",10)(38,"span",12),e._uU(39),e.ALo(40,"cxTranslate"),e.qZA(),e._UZ(41,"input",13),e.ALo(42,"cxTranslate"),e.qZA(),e.TgZ(43,"label",10)(44,"span",12),e._uU(45),e.ALo(46,"cxTranslate"),e.qZA(),e._UZ(47,"input",14),e.ALo(48,"cxTranslate"),e.qZA(),e.TgZ(49,"label")(50,"span",4),e._uU(51),e.ALo(52,"cxTranslate"),e.qZA(),e._UZ(53,"input",15),e.ALo(54,"cxTranslate"),e._UZ(55,"cx-form-errors",6),e.qZA(),e.TgZ(56,"label")(57,"span",4),e._uU(58),e.ALo(59,"cxTranslate"),e.qZA(),e._UZ(60,"input",16),e.ALo(61,"cxTranslate"),e._UZ(62,"cx-form-errors",6),e.qZA(),e._UZ(63,"label"),e.YNc(64,Uo,2,1,"ng-container",17),e.ALo(65,"async"),e.BQk()),2&r){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,33,"orgUnitAddress.country")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,37,"orgUnitAddress.selectOne")),e.Q6J("inputAttrs",e.DdM(75,ee))("searchable",!0)("clearable",!1)("items",e.lcZ(6,35,t.countries$)),e.xp6(3),e.Q6J("control",t.form.get("country.isocode")),e.xp6(3),e.Oqu(e.lcZ(12,39,"orgUnitAddress.titles")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,43,"orgUnitAddress.selectOne")),e.Q6J("searchable",!1)("clearable",!1)("items",e.lcZ(14,41,t.titles$)),e.xp6(5),e.Oqu(e.lcZ(19,45,"orgUnitAddress.firstName")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,47,"orgUnitAddress.firstName")),e.xp6(2),e.Q6J("control",t.form.get("firstName")),e.xp6(3),e.Oqu(e.lcZ(26,49,"orgUnitAddress.lastName")),e.xp6(2),e.s9C("placeholder",e.lcZ(28,51,"orgUnitAddress.lastName")),e.xp6(2),e.Q6J("control",t.form.get("lastName")),e.xp6(3),e.Oqu(e.lcZ(33,53,"orgUnitAddress.address1")),e.xp6(2),e.s9C("placeholder",e.lcZ(35,55,"orgUnitAddress.streetAddress")),e.xp6(2),e.Q6J("control",t.form.get("line1")),e.xp6(3),e.Oqu(e.lcZ(40,57,"orgUnitAddress.address2")),e.xp6(2),e.s9C("placeholder",e.lcZ(42,59,"orgUnitAddress.aptSuite")),e.xp6(4),e.Oqu(e.lcZ(46,61,"orgUnitAddress.phoneNumber")),e.xp6(2),e.s9C("placeholder",e.lcZ(48,63,"orgUnitAddress.phoneNumber")),e.xp6(4),e.Oqu(e.lcZ(52,65,"orgUnitAddress.city")),e.xp6(2),e.s9C("placeholder",e.lcZ(54,67,"orgUnitAddress.city")),e.xp6(2),e.Q6J("control",t.form.get("town")),e.xp6(3),e.Oqu(e.lcZ(59,69,"orgUnitAddress.zipCode")),e.xp6(2),e.s9C("placeholder",e.lcZ(61,71,"orgUnitAddress.zipCode")),e.xp6(2),e.Q6J("control",t.form.get("postalCode")),e.xp6(2),e.Q6J("ngIf",e.lcZ(65,73,t.regions$))}}const Zt=function(){return{disabledCreate:!0,disabledEnable:!1,disabledEdit:!1}},vo=function(r){return{cxRoute:"orgUnitUserRoles",params:r}};function So(r,o){if(1&r&&(e.TgZ(0,"a",1),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("routerLink",e.lcZ(1,2,e.VKq(6,vo,n.getRouterModel(t)))),e.xp6(2),e.hij(" ",e.lcZ(3,4,"orgUser.links.rolesAndRights")," ")}}function Ao(r,o){if(1&r&&(e.TgZ(0,"a",3),e.ALo(1,"async"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw();let n;e.ekj("disabled",!(null!=(n=e.lcZ(1,3,t.unit$))&&n.active)),e.xp6(2),e.hij(" ",e.lcZ(3,5,"organization.create")," ")}}function Co(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",10)(1,"input",11),e.NdJ("change",function(){e.CHM(t);const d=e.oxw().ngIf,v=e.oxw();return e.KtG(v.save(d))}),e.qZA(),e.TgZ(2,"span",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=o.$implicit;e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij(" ",e.lcZ(4,2,"organization.userRoles."+t)," ")}}function xo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",10)(1,"input",11),e.NdJ("change",function(){e.CHM(t);const d=e.oxw().ngIf,v=e.oxw();return e.KtG(v.save(d))}),e.qZA(),e.TgZ(2,"span",12),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=o.$implicit;e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij(" ",e.lcZ(4,2,"organization.userRights."+t)," ")}}function Ft(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const v=e.CHM(t).ngIf,D=e.oxw();return e.KtG(D.save(v))}),e.TgZ(1,"cx-org-card",2,3)(3,"a",4)(4,"span",5),e.NdJ("click",function(d){e.CHM(t);const v=e.MAs(2);return e.KtG(v.closeView(d))}),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"section",6)(8,"fieldset",7)(9,"legend",8),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.YNc(12,Co,5,4,"label",9),e.qZA(),e.TgZ(13,"fieldset",7)(14,"legend",8),e._uU(15),e.ALo(16,"cxTranslate"),e.qZA(),e.YNc(17,xo,5,4,"label",9),e.qZA()()()()}if(2&r){const t=o.ngIf,n=e.oxw();e.xp6(1),e.Q6J("previous",!1)("cxFocus",e.VKq(14,ft,t)),e.xp6(4),e.hij(" ",e.lcZ(6,8,"organization.done")," "),e.xp6(2),e.Q6J("formGroup",t),e.xp6(3),e.hij(" ",e.lcZ(11,10,"orgUser.roles")," "),e.xp6(2),e.Q6J("ngForOf",n.availableRoles),e.xp6(3),e.hij(" ",e.lcZ(16,12,"orgUser.rights")," "),e.xp6(2),e.Q6J("ngForOf",n.availableRights)}}function Lo(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(d){e.CHM(t);const v=e.oxw(2);return e.KtG(v.toggleItem(d))}),e.ALo(1,"cxTranslate"),e.ALo(2,"cxTranslate"),e._UZ(3,"cx-icon",5),e.qZA()}if(2&r){const t=e.oxw(2);e.uIk("aria-label",t.expanded?e.lcZ(1,2,"orgUnit.tree.collapse"):e.lcZ(2,4,"orgUnit.tree.expand")),e.xp6(3),e.Q6J("type",t.expanded?"CARET_DOWN":"CARET_RIGHT")}}function Eo(r,o){if(1&r&&(e.TgZ(0,"a",1),e.ALo(1,"cxUrl"),e.YNc(2,Lo,4,6,"button",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()()),2&r){const t=e.oxw();e.Q6J("routerLink",e.lcZ(1,5,e.WLB(7,ae,t.route,t.routeModel)))("tabIndex",t.tabIndex),e.xp6(2),e.Q6J("ngIf",t.isSwitchable),e.xp6(1),e.s9C("title",t.combinedName),e.xp6(1),e.Oqu(t.combinedName)}}function Io(r,o){if(1&r&&(e._UZ(0,"li",11),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+t))}}function yo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Io,2,3,"li",10),e.BQk()),2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.availableRoles.includes(t))}}function Po(r,o){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Do(r,o){if(1&r&&(e._UZ(0,"li",11),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRights."+t))}}function To(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Do,2,3,"li",10),e.BQk()),2&r){const t=o.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf",n.availableRights.includes(t))}}function Fr(r,o){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function bo(r,o){if(1&r&&(e.TgZ(0,"div",4)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"ul",7),e.YNc(5,To,2,1,"ng-container",8),e.YNc(6,Fr,2,0,"li",0),e.qZA()()),2&r){const t=e.oxw(2).ngIf;e.xp6(2),e.Oqu(e.lcZ(3,3,"orgUser.rights")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length))}}const Bo=function(r){return{cxRoute:"orgUserDetails",params:r}};function Go(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",5),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",6)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",7),e._uU(13),e.qZA()(),e.TgZ(14,"div",4)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"ul",7),e.YNc(19,yo,2,1,"ng-container",8),e.YNc(20,Po,2,0,"li",0),e.qZA()(),e.YNc(21,bo,7,5,"div",9),e.TgZ(22,"div",4)(23,"label"),e._uU(24),e.ALo(25,"cxTranslate"),e.qZA(),e.TgZ(26,"a",5),e.ALo(27,"cxUrl"),e._uU(28),e.qZA()()()),2&r){const t=e.oxw().ngIf,n=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,12,"orgUser.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,14,e.VKq(24,Bo,t))),e.xp6(2),e.Oqu(t.name),e.xp6(3),e.Oqu(e.lcZ(11,16,"orgUser.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(17,18,"orgUser.roles")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length)),e.xp6(1),e.Q6J("ngIf",n.hasRight(t)),e.xp6(3),e.Oqu(e.lcZ(25,20,"orgUser.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(27,22,e.VKq(26,te,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," ")}}function Mo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Go,29,28,"ng-template",null,1,e.W1O),e.TgZ(3,"button",2),e._uU(4),e.qZA(),e.BQk()),2&r){const t=o.ngIf,n=e.MAs(2);e.xp6(3),e.Q6J("cxPopover",n)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Ro(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"orgUnit.approvalProcess")),e.xp6(3),e.hij(" ",null==t.model.approvalProcess?null:t.model.approvalProcess.name," ")}}const Oo=function(r){return{uid:r}};function Zo(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",5),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA()(),e.YNc(21,Ro,6,4,"div",6),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,10,"orgUnit.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,12,e.VKq(22,te,e.VKq(20,Oo,t.model.id)))),e.xp6(2),e.hij(" ",t.model.name," "),e.xp6(3),e.Oqu(e.lcZ(11,14,"orgUnit.uid")),e.xp6(3),e.hij(" ",t.model.id," "),e.xp6(3),e.Oqu(e.lcZ(17,16,"orgUnit.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(20,18,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(2),e.Q6J("ngIf",null==t.model.approvalProcess?null:t.model.approvalProcess.name)}}function bc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",15)(1,"input",16),e.NdJ("change",function(d){e.CHM(t);const v=e.oxw(2);return e.KtG(v.updateRoles(d))}),e.qZA(),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("value",t)("checked",null==n.roles||null==n.roles.value?null:n.roles.value.includes(t))("disabled","DISABLED"===(null==n.form?null:n.form.status)),e.xp6(2),e.hij(" ",e.lcZ(4,4,"organization.userRoles."+t)," ")}}function Bc(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"label",15)(1,"input",16),e.NdJ("change",function(d){e.CHM(t);const v=e.oxw(2);return e.KtG(v.updateRoles(d))}),e.qZA(),e.TgZ(2,"span",17),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()()}if(2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("value",t)("checked",null==n.roles||null==n.roles.value?null:n.roles.value.includes(t))("disabled","DISABLED"===(null==n.form?null:n.form.status)),e.xp6(2),e.hij(" ",e.lcZ(4,4,"organization.userRights."+t)," ")}}function Fo(r,o){1&r&&(e.TgZ(0,"div",18)(1,"label",15),e._UZ(2,"input",19),e.TgZ(3,"span",17),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA()()()),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"orgUser.assignApprover")))}function ca(r,o){if(1&r&&(e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"ng-select",4),e.ALo(6,"async"),e.ALo(7,"cxTranslate"),e._UZ(8,"cx-form-errors",5),e.qZA(),e.TgZ(9,"label")(10,"span",3),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"input",6),e.ALo(14,"cxTranslate"),e._UZ(15,"cx-form-errors",5),e.qZA(),e.TgZ(16,"label")(17,"span",3),e._uU(18),e.ALo(19,"cxTranslate"),e.qZA(),e._UZ(20,"input",7),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.TgZ(23,"label")(24,"span",3),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e._UZ(27,"input",8),e.ALo(28,"cxTranslate"),e._UZ(29,"cx-form-errors",5),e.qZA(),e.TgZ(30,"fieldset",9)(31,"legend",3),e._uU(32),e.ALo(33,"cxTranslate"),e.qZA(),e.YNc(34,bc,5,6,"label",10),e.qZA(),e.TgZ(35,"fieldset",11)(36,"legend",3),e._uU(37),e.ALo(38,"cxTranslate"),e.qZA(),e.YNc(39,Bc,5,6,"label",10),e.qZA(),e.TgZ(40,"label",12)(41,"span",3),e._uU(42),e.ALo(43,"cxTranslate"),e.qZA(),e._UZ(44,"ng-select",13),e.ALo(45,"async"),e.ALo(46,"cxTranslate"),e._UZ(47,"cx-form-errors",5),e.qZA(),e.YNc(48,Fo,6,3,"div",14),e.BQk()),2&r){const t=e.oxw();let n;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,29,"orgUser.title")),e.xp6(2),e.Q6J("searchable",!1)("clearable",!1)("items",e.lcZ(6,31,t.titles$))("placeholder",e.lcZ(7,33,"orgUser.title")),e.xp6(3),e.Q6J("control",t.form.get("titleCode")),e.xp6(3),e.Oqu(e.lcZ(12,35,"orgUser.firstName")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,37,"orgUser.firstName")),e.xp6(2),e.Q6J("control",t.form.get("firstName")),e.xp6(3),e.Oqu(e.lcZ(19,39,"orgUser.lastName")),e.xp6(2),e.s9C("placeholder",e.lcZ(21,41,"orgUser.lastName")),e.xp6(2),e.Q6J("control",t.form.get("lastName")),e.xp6(3),e.Oqu(e.lcZ(26,43,"orgUser.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(28,45,"orgUser.email")),e.xp6(2),e.Q6J("control",t.form.get("email")),e.xp6(3),e.hij(" ",e.lcZ(33,47,"orgUser.roles")," "),e.xp6(2),e.Q6J("ngForOf",t.availableRoles),e.xp6(3),e.hij(" ",e.lcZ(38,49,"orgUser.rights")," "),e.xp6(2),e.Q6J("ngForOf",t.availableRights),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(43,51,"orgUser.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(57,ee))("searchable",!0)("clearable",!1)("items",null!==(n=e.lcZ(45,53,t.units$))&&void 0!==n?n:null)("placeholder",e.lcZ(46,55,"orgUser.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid")),e.xp6(1),e.Q6J("ngIf",t.isAssignedToApprovers)}}const wr=function(r){return{cxRoute:"orgUserGroupUsers",params:r}},wo=function(r){return{cxRoute:"orgUserGroupPermissions",params:r}};function kr(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"a",10),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",10),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,4,e.VKq(12,wr,t))),e.xp6(2),e.hij(" ",e.lcZ(4,6,"orgUserGroup.links.user")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,8,e.VKq(14,wo,t))),e.xp6(2),e.hij(" ",e.lcZ(8,10,"orgUserGroup.links.permission")," ")}}const Nr=function(r){return{cxRoute:"orgUserGroupEdit",params:r}};function ko(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1)(1,"a",2),e.ALo(2,"async"),e.ALo(3,"cxUrl"),e._uU(4),e.ALo(5,"cxTranslate"),e.qZA(),e._UZ(6,"cx-org-delete-item",3),e.TgZ(7,"section",4)(8,"div",5)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",6),e._uU(13),e.qZA()(),e.TgZ(14,"div",5)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"span",6),e._uU(19),e.qZA()(),e.TgZ(20,"div",5)(21,"label"),e._uU(22),e.ALo(23,"cxTranslate"),e.qZA(),e.TgZ(24,"a",7),e.ALo(25,"cxUrl"),e._uU(26),e.qZA()()(),e.TgZ(27,"section",8),e.YNc(28,kr,9,16,"ng-container",9),e.qZA()()),2&r){const t=o.ngIf,n=e.oxw();e.Q6J("cxFocus",e.VKq(27,Ie,t)),e.xp6(1),e.ekj("disabled",e.lcZ(2,13,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(3,15,e.VKq(29,Nr,t))),e.xp6(3),e.hij(" ",e.lcZ(5,17,"organization.edit")," "),e.xp6(6),e.Oqu(e.lcZ(11,19,"orgUserGroup.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(17,21,"orgUserGroup.uid")),e.xp6(3),e.hij(" ",t.uid," "),e.xp6(3),e.Oqu(e.lcZ(23,23,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(25,25,e.VKq(31,te,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," "),e.xp6(2),e.Q6J("ngIf",t.uid)}}function qr(r,o){if(1&r){const t=e.EpF();e.ynx(0,2),e.TgZ(1,"label")(2,"span",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("blur",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.createUidWithName(d.form.get("name"),d.form.get("uid")))}),e.ALo(6,"cxTranslate"),e.qZA(),e._UZ(7,"cx-form-errors",5),e.qZA(),e.TgZ(8,"label")(9,"span",3),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e._UZ(12,"input",6),e.ALo(13,"cxTranslate"),e._UZ(14,"cx-form-errors",5),e.qZA(),e.TgZ(15,"label",7)(16,"span",3),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e._UZ(19,"ng-select",8),e.ALo(20,"async"),e.ALo(21,"cxTranslate"),e._UZ(22,"cx-form-errors",5),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();let n,d;e.Q6J("formGroup",t.form),e.xp6(3),e.Oqu(e.lcZ(4,16,"orgUserGroup.name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,18,"orgUserGroup.name")),e.xp6(2),e.Q6J("control",t.form.get("name")),e.xp6(3),e.Oqu(e.lcZ(11,20,"orgUserGroup.uid")),e.xp6(2),e.s9C("placeholder",e.lcZ(13,22,"orgUserGroup.uid")),e.xp6(2),e.Q6J("control",t.form.get("uid")),e.xp6(1),e.Q6J("formGroup",t.form.get("orgUnit")),e.xp6(2),e.Oqu(e.lcZ(18,24,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("inputAttrs",e.DdM(30,ee))("searchable",!0)("clearable",!1)("items",null!==(n=e.lcZ(20,26,t.units$))&&void 0!==n?n:null)("readonly",null!==(d=null==(d=t.form.get("orgUnit.uid"))?null:d.disabled)&&void 0!==d&&d)("placeholder",e.lcZ(21,28,"orgUserGroup.orgUnit")),e.xp6(3),e.Q6J("control",t.form.get("orgUnit.uid"))}}function zr(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"orgPurchaseLimit.threshold")),e.xp6(3),e.AsE(" ",t.model.threshold," ",null==t.model.currency?null:t.model.currency.symbol," ")}}function No(r,o){if(1&r&&(e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"orgPurchaseLimit.periodRange")),e.xp6(3),e.hij(" ",t.model.periodRange," ")}}function $r(r,o){if(1&r&&(e.TgZ(0,"a",4),e.ALo(1,"cxUrl"),e._uU(2),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("routerLink",e.lcZ(1,2,e.VKq(4,te,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}const Jr=function(r){return{cxRoute:"orgPurchaseLimitDetails",params:r}};function qo(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA()(),e.TgZ(15,"div",3)(16,"label"),e._uU(17),e.ALo(18,"cxTranslate"),e.qZA(),e.TgZ(19,"span",5),e._uU(20),e.qZA()(),e.YNc(21,zr,6,5,"div",6),e.YNc(22,No,6,4,"div",6),e.TgZ(23,"div",3)(24,"label"),e._uU(25),e.ALo(26,"cxTranslate"),e.qZA(),e.YNc(27,$r,3,6,"a",7),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,13,"orgPurchaseLimit.code")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,15,e.VKq(25,Jr,t.model))),e.xp6(2),e.hij(" ",t.model.code," "),e.xp6(3),e.Oqu(e.lcZ(11,17,"orgPurchaseLimit.active")),e.xp6(2),e.ekj("is-active",t.model.active),e.xp6(1),e.hij(" ",e.lcZ(14,19,t.model.active?"organization.enabled":"organization.disabled")," "),e.xp6(4),e.Oqu(e.lcZ(18,21,"orgPurchaseLimit.orderApprovalPermissionType")),e.xp6(3),e.hij(" ",null==t.model.orderApprovalPermissionType?null:t.model.orderApprovalPermissionType.name," "),e.xp6(1),e.Q6J("ngIf",t.model.threshold||0===t.model.threshold),e.xp6(1),e.Q6J("ngIf",t.model.periodRange),e.xp6(3),e.Oqu(e.lcZ(26,23,"orgPurchaseLimit.unit")),e.xp6(2),e.Q6J("ngIf",t.model.code)}}const Qr=["subList"];function Yr(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("submit",function(){const v=e.CHM(t).ngIf,D=e.oxw();return e.KtG(D.save(v))}),e.TgZ(1,"cx-org-card",2)(2,"button",3),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",4),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.TgZ(8,"section",5)(9,"label",6)(10,"span",7),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e._UZ(13,"input",8),e.ALo(14,"cxTranslate"),e.ALo(15,"cxTranslate"),e._UZ(16,"cx-form-errors",9),e.qZA(),e.TgZ(17,"label")(18,"span",7),e._uU(19),e.ALo(20,"cxTranslate"),e.qZA(),e._UZ(21,"input",10),e.ALo(22,"cxTranslate"),e.ALo(23,"cxTranslate"),e._UZ(24,"cx-form-errors",9),e.qZA()()()()}if(2&r){const t=o.ngIf;e.Q6J("formGroup",t),e.xp6(1),e.Q6J("previous",!1)("cxFocus",e.VKq(29,ft,t)),e.xp6(2),e.hij(" ",e.lcZ(4,13,"organization.save")," "),e.xp6(3),e.hij(" ",e.lcZ(7,15,"organization.cancel")," "),e.xp6(5),e.Oqu(e.lcZ(12,17,"orgUser.password.newPassword")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,19,"orgUser.password.newPassword")),e.uIk("aria-label",e.lcZ(15,21,"orgUser.password.newPassword")),e.xp6(3),e.Q6J("control",t.get("password")),e.xp6(3),e.Oqu(e.lcZ(20,23,"orgUser.password.confirmPassword")),e.xp6(2),e.s9C("placeholder",e.lcZ(22,25,"orgUser.password.confirmPassword")),e.uIk("aria-label",e.lcZ(23,27,"orgUser.password.confirmPassword")),e.xp6(3),e.Q6J("control",t.get("confirmPassword"))}}const zo=function(r){return{cxRoute:"orgUserEdit",params:r}};function jr(r,o){if(1&r&&(e.TgZ(0,"a",16),e.ALo(1,"async"),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw();e.ekj("disabled",!t.active||e.lcZ(1,4,n.isInEditMode$)),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(10,zo,t))),e.xp6(3),e.hij(" ",e.lcZ(4,8,"organization.edit")," ")}}function Kr(r,o){1&r&&e._UZ(0,"cx-org-toggle-status",17)}function $o(r,o){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij(" ",t.displayUid," ")}}function Vr(r,o){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij(" ",t.uid," ")}}function Hr(r,o){if(1&r&&(e._UZ(0,"li",19),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRoles."+t))}}function Jo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Hr,2,3,"li",18),e.BQk()),2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.availableRoles.includes(t))}}function Wr(r,o){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function Xr(r,o){if(1&r&&(e._UZ(0,"li",19),e.ALo(1,"cxTranslate")),2&r){const t=e.oxw().$implicit;e.Q6J("innerText",e.lcZ(1,1,"organization.userRights."+t))}}function Qo(r,o){if(1&r&&(e.ynx(0),e.YNc(1,Xr,2,3,"li",18),e.BQk()),2&r){const t=o.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.availableRights.includes(t))}}function en(r,o){1&r&&(e.TgZ(0,"li"),e._uU(1,"-"),e.qZA())}function tn(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"div",6)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"ul",7),e.YNc(6,Qo,2,1,"ng-container",10),e.YNc(7,en,2,0,"li",11),e.qZA()(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(3),e.Oqu(e.lcZ(4,3,"orgUser.rights")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length))}}function Yo(r,o){if(1&r&&(e.TgZ(0,"a",20),e.ALo(1,"cxUrl"),e._uU(2),e.qZA()),2&r){const t=e.oxw().ngIf;e.Q6J("routerLink",e.lcZ(1,2,e.VKq(4,te,t.orgUnit))),e.xp6(2),e.hij(" ",null==t.orgUnit?null:t.orgUnit.name," ")}}function jo(r,o){if(1&r&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Oqu(null==t.orgUnit?null:t.orgUnit.name)}}const rn=function(r){return{cxRoute:"orgUserChangePassword",params:r}};function Ko(r,o){if(1&r&&(e.TgZ(0,"a",22),e.ALo(1,"cxUrl"),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()),2&r){const t=e.oxw().ngIf;e.ekj("disabled",!t.active),e.Q6J("routerLink",e.lcZ(1,4,e.VKq(8,rn,t))),e.xp6(2),e.hij(" ",e.lcZ(3,6,"orgUser.links.password")," ")}}const nn=function(r){return{cxRoute:"orgUserApprovers",params:r}},sn=function(r){return{cxRoute:"orgUserUserGroups",params:r}},Vo=function(r){return{cxRoute:"orgUserPermissions",params:r}};function on(r,o){if(1&r&&(e.ynx(0),e.TgZ(1,"a",23),e.ALo(2,"cxUrl"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",23),e.ALo(6,"cxUrl"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"a",23),e.ALo(10,"cxUrl"),e._uU(11),e.ALo(12,"cxTranslate"),e.qZA(),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("routerLink",e.lcZ(2,6,e.VKq(18,nn,t))),e.xp6(2),e.hij(" ",e.lcZ(4,8,"orgUser.links.approvers")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,10,e.VKq(20,sn,t))),e.xp6(2),e.hij(" ",e.lcZ(8,12,"orgUser.links.userGroup")," "),e.xp6(2),e.Q6J("routerLink",e.lcZ(10,14,e.VKq(22,Vo,t))),e.xp6(2),e.hij(" ",e.lcZ(12,16,"orgUser.links.permission")," ")}}function cn(r,o){if(1&r&&(e.TgZ(0,"cx-org-card",1),e.YNc(1,jr,5,12,"a",2),e.YNc(2,Kr,1,0,"cx-org-toggle-status",3),e._UZ(3,"cx-org-disable-info",4),e.TgZ(4,"section",5)(5,"div",6)(6,"label"),e._uU(7),e.ALo(8,"cxTranslate"),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"label"),e._uU(13),e.ALo(14,"cxTranslate"),e.qZA(),e.TgZ(15,"span",7),e.YNc(16,$o,2,1,"ng-container",9),e.YNc(17,Vr,2,1,"ng-container",9),e.qZA()(),e.TgZ(18,"div",6)(19,"label"),e._uU(20),e.ALo(21,"cxTranslate"),e.qZA(),e.TgZ(22,"ul",7),e.YNc(23,Jo,2,1,"ng-container",10),e.YNc(24,Wr,2,0,"li",11),e.qZA()(),e.YNc(25,tn,8,5,"ng-container",11),e.TgZ(26,"div",6)(27,"label"),e._uU(28),e.ALo(29,"cxTranslate"),e.qZA(),e.YNc(30,Yo,3,6,"a",12),e.YNc(31,jo,2,1,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(33,"div",8),e.YNc(34,Ko,4,10,"a",14),e.qZA()(),e.TgZ(35,"section",15),e.YNc(36,on,13,24,"ng-container",11),e.qZA()()),2&r){const t=o.ngIf,n=e.MAs(32),d=e.oxw();e.Q6J("cxFocus",e.VKq(25,Ie,t)),e.xp6(1),e.Q6J("ngIf",d.isUpdatingUserAllowed),e.xp6(1),e.Q6J("ngIf",d.isUpdatingUserAllowed),e.xp6(5),e.Oqu(e.lcZ(8,17,"orgUser.name")),e.xp6(3),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(14,19,"orgUser.uid")),e.xp6(3),e.Q6J("cxFeatureLevel","6.7"),e.xp6(1),e.Q6J("cxFeatureLevel","!6.7"),e.xp6(3),e.Oqu(e.lcZ(21,21,"orgUser.roles")),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",0===(null==t.roles?null:t.roles.length)),e.xp6(1),e.Q6J("ngIf",d.hasRight(t)),e.xp6(3),e.Oqu(e.lcZ(29,23,"orgUser.orgUnit")),e.xp6(2),e.Q6J("ngIf",d.isUpdatingUserAllowed)("ngIfElse",n),e.xp6(4),e.Q6J("ngIf",t.customerId&&d.isUpdatingUserAllowed),e.xp6(2),e.Q6J("ngIf",t.customerId)}}const Ho=function(r){return{cxRoute:"orgUserGroupDetails",params:r}};function an(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div",3)(2,"label"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",4),e.ALo(6,"cxUrl"),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"label"),e._uU(10),e.ALo(11,"cxTranslate"),e.qZA(),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",3)(15,"label"),e._uU(16),e.ALo(17,"cxTranslate"),e.qZA(),e.TgZ(18,"a",4),e.ALo(19,"cxUrl"),e._uU(20),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"orgUserGroup.name")),e.xp6(2),e.Q6J("routerLink",e.lcZ(6,10,e.VKq(18,Ho,t.model))),e.xp6(2),e.Oqu(t.model.name),e.xp6(3),e.Oqu(e.lcZ(11,12,"orgUserGroup.uid")),e.xp6(3),e.hij(" ",t.model.uid," "),e.xp6(3),e.Oqu(e.lcZ(17,14,"orgUserGroup.orgUnit")),e.xp6(2),e.Q6J("routerLink",e.lcZ(19,16,e.VKq(20,te,t.model.orgUnit))),e.xp6(2),e.hij(" ",null==t.model.orgUnit?null:t.model.orgUnit.name," ")}}let re=(()=>{class r{constructor(t){this.routingService=t,this.key$=this.routingService.getParams().pipe((0,k.U)(n=>n[this.getParamKey()]),(0,pe.x)()),this.item$=this.key$.pipe((0,R.w)(n=>n?this.getItem(n):(0,Ee.of)(void 0))),this.b2bUnit$=this.routingService.getParams().pipe((0,k.U)(n=>n[Y.UY.unitCode]),(0,pe.x)())}getRouterParam(t){return this.routingService.getParams().pipe((0,k.U)(n=>n[t]))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),fe=(()=>{class r{getForm(t){return this.form&&t?(this.patchData(t),this.form):(this.form||this.build(t),this.form?.reset(),this.form?.enable(),this.patchData(t),this.form)}patchData(t){this.toggleFreeze(t),this.form?.patchValue({...this.defaultValue,...t})}toggleFreeze(t){this.form?.enabled&&!1===t?.active&&this.form.disable(),this.form?.disabled&&!0===t?.active&&this.form.enable()}get defaultValue(){return{}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),G=(()=>{class r{constructor(t,n,d){this.currentItemService=t,this.routingService=n,this.formService=d,this.key$=this.currentItemService.key$,this.current$=this.currentItemService.item$,this.isInEditMode$=new z.X(!1),this.unit$=this.currentItemService.b2bUnit$,this.error$=this.key$.pipe((0,R.w)(v=>this.currentItemService.getError(v)))}save(t,n){if(t.invalid)return t.markAllAsTouched(),C.hfq.deepUpdateValueAndValidity(t),ce.E;{const d=t.value;return t.disable(),n?this.update(n,d):this.create(d)}}getForm(t){return this.formService.getForm(t)}launchDetails(t){const n=this.getDetailsRoute(),d=this.buildRouteParams(t);n&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:n,params:d})}buildRouteParams(t){return t}getRouterParam(t){return this.currentItemService.getRouterParam(t)}setEditMode(t){this.isInEditMode$.next(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(re),e.LFG(i.Znh),e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),W=(()=>{class r{constructor(){this.data$=new q.t}get(){return this.data$}add(t){return(t={...this.getDefaultMessage(t),...t}).events=new F.xQ,this.data$.next(t),t.events}close(t){t?.next({close:!0})}getDefaultMessage(t){const n={type:i.xUg.MSG_TYPE_INFO};return(!t.type||t.type===i.xUg.MSG_TYPE_INFO&&!t.timeout)&&(n.timeout=3e3),n}clear(){this.data$.next(void 0)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Xo=(()=>{class r{constructor(t,n){this.itemService=t,this.messageService=n}ngOnInit(){this.subscription=this.itemService.current$.pipe((0,pe.x)((t,n)=>t?.active===n?.active),(0,E.h)(i.jWE),(0,E.h)(t=>!1===t.active)).subscribe(t=>this.handleDisabledItems(t))}handleDisabledItems(t){this.messageService.add({message:{key:"organization.notification.disabled",params:{item:t}},type:i.xUg.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W))},r.\u0275dir=e.lG2({type:r,selectors:[["","cxOrgItemActive",""]]}),r})(),Ye=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez]}),r})();class wt{}let un=(()=>{class r{constructor(t,n){this.messageData=t,this.platformId=n,this.terminated=!1}ngOnInit(){this.message=this.messageData.message??{},this.messageTitle=this.messageData.messageTitle,this.type=this.resolveType(),this.messageIcon=this.messageData.messageIcon,this.messageData.timeout&&this.handleAutoHide()}close(){this.messageData.events?.next({close:!0})}resolveType(){return this.messageData.type&&this.messageData.type!==i.xUg.MSG_TYPE_INFO?this.messageData.type===i.xUg.MSG_TYPE_ERROR?"error":this.messageData.type===i.xUg.MSG_TYPE_WARNING?"warning":void 0:"info"}handleAutoHide(){(0,_.NF)(this.platformId)&&setTimeout(()=>{this.close()},this.messageData.timeout)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(wt),e.Y36(e.Lbi))},r.\u0275dir=e.lG2({type:r,hostVars:4,hostBindings:function(t,n){2&t&&(e.Tol(n.type),e.ekj("terminated",n.terminated))}}),r})(),ei=(()=>{class r extends un{constructor(){super(...arguments),this.closeIcon=C.e1G.CLOSE}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-notification"]],features:[e.qOj],decls:7,vars:7,consts:[[1,"inner",3,"cxFocus","esc"],[3,"type",4,"ngIf"],["type","button",1,"close",3,"click"],[3,"type"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return n.close()}),e.YNc(1,pt,1,1,"cx-icon",1),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return n.close()}),e._UZ(6,"cx-icon",3),e.qZA()()),2&t&&(e.Q6J("cxFocus",e.DdM(6,gt)),e.xp6(1),e.Q6J("ngIf",n.messageIcon),e.xp6(2),e.Oqu(e.lcZ(4,4,n.message)),e.xp6(3),e.Q6J("type",n.closeIcon))},dependencies:[_.O5,C.oJW,C.RRe,i.X$D],encapsulation:2,changeDetection:0}),r})(),ti=(()=>{class r{constructor(t){this.componentFactoryResolver=t}getComponent(t){return this.componentFactoryResolver.resolveComponentFactory(t.component||ei)}getInjector(t,n){return e.zs3.create({providers:[{provide:wt,useValue:t}],parent:n})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e._Vd))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ri=(()=>{class r{constructor(t,n){this.messageService=t,this.renderService=n,this.subscription=new Oe.w}ngAfterViewInit(){this.subscription.add(this.messageService.get().subscribe(t=>{t?this.render(t):this.vcr?.clear()}))}render(t){const n=this.vcr.createComponent(this.renderService.getComponent(t),0,this.renderService.getInjector(t,this.vcr.injector));n.injector.get(e.sBO).markForCheck(),this.subscription.add(t.events?.pipe((0,E.h)(d=>!!d.close)).subscribe(()=>this.terminate(n)))}terminate(t){t.instance.terminated=!0,t.injector.get(e.sBO).markForCheck(),setTimeout(()=>{t.destroy()},500)}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W),e.Y36(ti))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-message"]],viewQuery:function(t,n){if(1&t&&e.Gf(mt,5,e.s_b),2&t){let d;e.iGM(d=e.CRH())&&(n.vcr=d.first)}},decls:2,vars:0,consts:[["vcr",""]],template:function(t,n){1&t&&e.GkF(0,null,0)},encapsulation:2,changeDetection:0}),r})(),ni=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,C.QX1,C.oPH]}),r})(),Ze=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,ni]}),r})(),ge=(()=>{class r{constructor(t,n){this.itemService=t,this.messageService=n,this.previous=!0,this.showHint=!1,this.iconTypes=C.e1G,this.item$=this.itemService.current$.pipe((0,P.b)(d=>this.refreshMessages(d)))}closeView(t){return t.stopPropagation(),this.view.toggle(!0),setTimeout(()=>{t.target?.parentElement?.click()},500),!1}get previousLabel(){return this.previous}refreshMessages(t){void 0!==this.itemKey&&t?.code!==this.itemKey&&t?.uid!==this.itemKey&&t?.customerId!==this.itemKey&&this.messageService.clear(),this.itemKey=t?.code??t?.uid??t?.customerId}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-card"]],viewQuery:function(t,n){if(1&t&&e.Gf(C.HrZ,5,C.HrZ),2&t){let d;e.iGM(d=e.CRH())&&(n.view=d.first)}},hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",previous:"previous",subtitle:"subtitle",showHint:"showHint"},features:[e._Bn([W])],ngContentSelectors:os,decls:23,vars:18,consts:[[1,"card"],[1,"header"],[1,"title-bar"],[1,"title"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"actions"],["class","link close","routerLink","../",4,"ngIf"],[1,"main"],["detailHint",""],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["routerLink","../",1,"link","close"],["type","CLOSE",3,"click",4,"ngIf","ngIfElse"],["prevLabel",""],["type","CLOSE",3,"click"]],template:function(t,n){1&t&&(e.F$t(S),e.TgZ(0,"cx-view",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5),e.ALo(6,"cxTranslate"),e.ALo(7,"async"),e.YNc(8,_t,3,7,"button",4),e.qZA(),e.TgZ(9,"h4"),e._uU(10),e.ALo(11,"cxTranslate"),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"div",5),e.Hsn(14),e.qZA()(),e.YNc(15,p,5,5,"button",6),e.qZA(),e.TgZ(16,"div",7),e._UZ(17,"cx-org-message"),e.Hsn(18,1),e.Hsn(19,2),e.qZA()(),e._UZ(20,"router-outlet"),e.YNc(21,m,3,3,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(5),e.hij(" ",e.xi3(6,4,n.i18nRoot+".title",e.VKq(14,$,e.lcZ(7,7,n.item$)))," "),e.xp6(3),e.Q6J("ngIf",n.showHint),e.xp6(2),e.hij(" ",n.subtitle||e.xi3(11,9,n.i18nRoot+".subtitle",e.VKq(16,$,e.lcZ(12,12,n.item$)))," "),e.xp6(5),e.Q6J("ngIf",!!n.previous))},dependencies:[_.O5,C.HrZ,A.lC,A.rH,C.oJW,ri,C.k5W,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,C.aNp,A.Bz,i.LUR,C.QX1,i.bhT,Ze,C.UUf]}),r})(),Ge=(()=>{class r{constructor(t,n){this.itemService=t,this.messageService=n,this.animateBack=!0,this.form$=this.itemService.current$.pipe((0,k.U)(d=>(this.setI18nRoot(d),d||(d={}),this.itemService.getForm(d)))),this.disabled$=this.form$.pipe((0,R.w)(d=>d?.statusChanges??ce.E),(0,k.U)(d=>"DISABLED"===d))}save(t){this.itemService.key$.pipe((0,V.P)(),(0,R.w)(n=>this.itemService.save(t,n).pipe((0,N.q)(1),(0,k.U)(d=>({item:d.item,status:d.status,action:n?"update":"create"}))))).subscribe(({item:n,action:d,status:v})=>{v===h.Px.SUCCESS&&(this.itemService.launchDetails(n),this.notify(n,d)),t.enable()})}notify(t,n){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${n}`,params:{item:t}}})}setI18nRoot(t){this.i18n=this.i18nRoot+(t?".edit":".create")}back(t,n){this.animateBack&&n.closeView(t)}ngOnInit(){this.itemService.setEditMode(!0)}ngOnDestroy(){this.itemService.setEditMode(!1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",animateBack:"animateBack",subtitle:"subtitle"},ngContentSelectors:X,decls:2,vars:3,consts:[[3,"submit",4,"ngIf"],[3,"submit"],["cxOrgItemActive","",3,"previous","i18nRoot","subtitle","cxFocus"],["card",""],["actions","",1,"button","primary",3,"disabled"],["actions","","routerLink","../","type","button",1,"link"],[3,"click"],["main","",1,"details"]],template:function(t,n){1&t&&(e.F$t(cs),e.YNc(0,is,13,15,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.form$))},dependencies:[_.O5,g._Y,g.JL,g.F,A.rH,ge,Xo,C.RRe,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),ye=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[W],imports:[_.ez,g.u5,i.LUR,A.Bz,me,Ze,Ye,C.oPH]}),r})();var Fe=(()=>{return(r=Fe||(Fe={})).LINK="LINK",r.BUTTON="BUTTON",Fe;var r})();let Z=(()=>{class r{get viewType(){return this.tableType}get domainType(){return this._domainType??this.viewType}constructor(t){this.tableService=t,this.defaultTableStructure={options:{layout:C.dfC.VERTICAL_STACKED},lg:{options:{layout:C.dfC.VERTICAL}}},this.ghostData={values:new Array(10)},this.notification$=new F.xQ,this.pagination$=new z.X({pageSize:10})}key(){return"code"}getData(...t){return this.pagination$.pipe((0,R.w)(n=>this.getStructure().pipe((0,k.U)(d=>({...n,...d.options?.pagination})))),(0,R.w)(n=>this.load(n,...t)),(0,Le.O)(this.ghostData))}getStructure(){return this.tableService.buildStructure(this.viewType,this.defaultTableStructure)}view(t,n){this.pagination$.next({...t,currentPage:n})}sort(t,n){this.view(t,0)}hasGhostData(t){return t===this.ghostData}getCreateButtonType(){return Fe.LINK}onCreateButtonClick(){}getCreateButtonLabel(){return{key:"organization.add"}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Pe=(()=>{class r{constructor(t,n){this.service=t,this.organizationItemService=n,this.trapFocus=C.FS_,this.hasGhostData=!1,this.viewType=this.service.viewType,this.domainType=this.service.domainType,this.iconTypes=C.e1G,this.createButtonAllTypes=Fe,this.createButtonType=this.service.getCreateButtonType(),this.currentKey$=this.organizationItemService.key$,this.structure$=this.service.getStructure(),this.listData$=this.service.getData().pipe((0,P.b)(d=>{this.sortCode=d?.pagination?.sort,this.hasGhostData=this.service.hasGhostData(d)})),this.key=this.service.key(),this.hideAddButton=!1}getListCount(t){return t.pagination?.totalResults}browse(t,n){t&&this.service.view(t,n)}launchItem(t){this.organizationItemService.launchDetails(t)}sort(t){t&&this.service.sort({...t,sort:this.sortCode})}onCreateButtonClick(){this.service.onCreateButtonClick()}getCreateButtonLabel(){return this.service.getCreateButtonLabel()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-list"]],hostVars:4,hostBindings:function(t,n){2&t&&(e.Tol(n.viewType),e.ekj("ghost",n.hasGhostData))},inputs:{key:"key",hideAddButton:"hideAddButton"},ngContentSelectors:It,decls:9,vars:4,consts:[[3,"hideMode"],[4,"ngIf"],["emptyList",""],["listHint",""],["showButton",""],["class","list",4,"ngIf"],[1,"list"],[1,"header"],[1,"title"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],[1,"actions"],["name","sort","class","sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"structure","data","i18nRoot","currentItem","cxFocus","launch",4,"ngIf","ngIfElse"],[1,"footer"],[3,"pagination","viewPageEvent"],["name","sort",1,"sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","button primary create","routerLinkActive","disabled",3,"routerLink",4,"ngIf"],["routerLinkActive","disabled",1,"button","primary","create",3,"routerLink"],[3,"structure","data","i18nRoot","currentItem","cxFocus","launch"],[1,"instruction","is-empty"],["class","button primary create",3,"click",4,"ngIf"],[1,"button","primary","create",3,"click"]],template:function(t,n){1&t&&(e.F$t(nt),e.TgZ(0,"cx-split-view",0),e.YNc(1,oa,4,3,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,xt,3,3,"ng-template",null,2,e.W1O),e.YNc(5,ve,3,3,"ng-template",null,3,e.W1O),e.YNc(7,Et,1,1,"ng-template",null,4,e.W1O)),2&t&&(e.Q6J("hideMode",!1),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.structure$)))},dependencies:[_.sg,_.O5,A.lC,A.rH,A.Od,C._fG,C.HrZ,C.ac$,C.oJW,C.QtL,x.w9,x.jq,g.JJ,g.On,C.RRe,C.k5W,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,C.aNp,C.U$I,C.QX1,i.bhT,i.LUR,C.u3b,x.A0,g.u5,Ze,C.oPH,C.UUf]}),r})(),Q=(()=>{class r{constructor(t){this.outlet=t}get tabIndex(){return-1}get model(){return this.outlet.context}get property(){return this.model?.[this.outlet?.context?._field]}get linkable(){return void 0!==this.property&&(this.cellOptions.linkable??!0)}get cellOptions(){return this.outlet.context?._options?.cells?.[this.outlet.context?._field]??{}}get route(){return this.outlet.context._type+"Details"}get routeModel(){return this.outlet.context}get type(){return this.model._type}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;const{_field:t,_options:n,_type:d,_i18nRoot:v,...D}=this.outlet.context;return D}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C.WCT))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cell"]],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,ds,3,8,"a",0),e.YNc(1,w,2,2,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T],encapsulation:2,changeDetection:0}),r})(),Ae=(()=>{class r extends Q{constructor(t,n,d,v){super(t),this.outlet=t,this.organizationItemService=n,this.messageService=d,this.organizationSubListService=v}get isAssigned(){return this.item?.selected}toggleAssign(){const t=this.isAssigned;this.organizationItemService.key$.pipe((0,V.P)(),(0,R.w)(n=>t?this.unassign?.(n,this.link):this.assign(n,this.link)),(0,N.q)(1),(0,E.h)(n=>n.status===h.Px.SUCCESS)).subscribe(n=>this.notify(n.item,t?"unassigned":"assigned"))}assign(t,n){return this.organizationSubListService.assign?.(t,n)??ce.E}unassign(t,n){return this.organizationSubListService.unassign?.(t,n)??ce.E}get link(){return this.outlet.context.code??this.outlet.context.customerId??this.outlet.context.uid}notify(t,n){this.messageService.add({message:{key:`${this.organizationSubListService.viewType}.${n}`,params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C.WCT),e.Y36(G),e.Y36(W),e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-assign-cell"]],features:[e.qOj],decls:1,vars:1,consts:[["type","button","class","link",3,"click",4,"ngIf"],["type","button",1,"link",3,"click"]],template:function(t,n){1&t&&e.YNc(0,Pt,2,1,"button",0),2&t&&e.Q6J("ngIf",n.hasItem)},dependencies:[_.O5],encapsulation:2,changeDetection:0}),r})(),K=(()=>{class r extends Pe{constructor(){super(...arguments),this.hostClass="",this.previous=!0,this.key=this.service.key(),this.showHint=!1,this.hasGhostData=!1,this.listData$=this.currentKey$.pipe((0,R.w)(t=>this.service.getData(t)),(0,P.b)(t=>{this.hasGhostData=this.service.hasGhostData(t)})),this.dataStructure$=this.service.getStructure()}set routerKey(t){this.subKey$=this.organizationItemService.getRouterParam(t)}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-sub-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(W,5,W),2&t){let d;e.iGM(d=e.CRH())&&(n.messageService=d.first)}},hostAttrs:[1,"content-wrapper"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("ghost",n.hasGhostData)},inputs:{previous:"previous",key:"key",showHint:"showHint",routerKey:"routerKey"},features:[e.qOj],ngContentSelectors:Mt,decls:8,vars:8,consts:[[3,"previous","i18nRoot","showHint","cxFocus"],["main","",4,"ngIf"],["emptyList",""],["main",""],[4,"ngIf"],[3,"structure","data","i18nRoot","currentItem",4,"ngIf","ngIfElse"],["class","footer",4,"ngIf"],[3,"structure","data","i18nRoot","currentItem"],[1,"footer"],[3,"pagination","viewPageEvent"],[1,"is-empty"]],template:function(t,n){1&t&&(e.F$t(Bt),e.TgZ(0,"cx-org-card",0),e.Hsn(1,0,["ngProjectAs","[actions]",5,["","actions",""]]),e.Hsn(2,1,["ngProjectAs","[main]",5,["","main",""]]),e.Hsn(3,2,["ngProjectAs","[info]",5,["","info",""]]),e.YNc(4,ur,3,3,"ng-container",1),e.ALo(5,"async"),e.qZA(),e.YNc(6,j,3,3,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("previous",n.previous)("i18nRoot",n.viewType)("showHint",n.showHint)("cxFocus",e.DdM(7,Gt)),e.xp6(4),e.Q6J("ngIf",e.lcZ(5,5,n.dataStructure$)))},dependencies:[_.O5,ge,C.ac$,C.QtL,C.RRe,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,me,C.U$I,C.u3b,Ze,C.oPH]}),r})(),st=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,se,ye]}),r})();const Ue=2147483647;let we=(()=>{class r{constructor(t,n){this.itemService=t,this.messageService=n}ngOnInit(){this.subscription=this.itemService.error$.pipe((0,E.h)(t=>t)).subscribe(()=>this.handleErrorMessage())}handleErrorMessage(){this.messageService.add({message:{key:"organization.notification.notExist"},type:i.xUg.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W))},r.\u0275dir=e.lG2({type:r,selectors:[["","cxOrgItemExists",""]]}),r})(),ln=(()=>{class r extends un{constructor(t,n,d){super(t,n),this.data=t,this.platformId=n,this.messageService=d,this.cancelText={key:"organization.confirmation.cancel"},this.confirmText={key:"organization.confirmation.confirm"}}ngOnInit(){super.ngOnInit(),this.cancelText=this.messageData.cancel??this.cancelText,this.confirmText=this.messageData.confirm??this.confirmText}confirm(){this.data.events?.next({confirm:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(wt),e.Y36(e.Lbi),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-confirmation"]],features:[e.qOj],decls:14,vars:15,consts:[[1,"inner",3,"cxFocus","esc"],["class","messageTitle",4,"ngIf"],[1,"message"],[3,"type",4,"ngIf"],[1,"actions",3,"cxFocus"],[1,"button","cancel",3,"click"],[1,"button","primary","confirm",3,"click"],[1,"messageTitle"],[3,"type"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.NdJ("esc",function(){return n.close()}),e.YNc(1,_e,3,3,"p",1),e.TgZ(2,"div",2),e.YNc(3,Rt,1,1,"cx-icon",3),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"cxTranslate"),e.qZA()(),e.TgZ(7,"div",4)(8,"button",5),e.NdJ("click",function(){return n.close()}),e._uU(9),e.ALo(10,"cxTranslate"),e.qZA(),e.TgZ(11,"button",6),e.NdJ("click",function(){return n.confirm()}),e._uU(12),e.ALo(13,"cxTranslate"),e.qZA()()()),2&t&&(e.Q6J("cxFocus",e.DdM(13,lr)),e.xp6(1),e.Q6J("ngIf",n.messageTitle),e.xp6(2),e.Q6J("ngIf",n.messageIcon),e.xp6(2),e.hij(" ",e.lcZ(6,7,n.message)," "),e.xp6(2),e.Q6J("cxFocus",e.DdM(14,ps)),e.xp6(2),e.hij(" ",e.lcZ(10,9,n.cancelText)," "),e.xp6(3),e.hij(" ",e.lcZ(13,11,n.confirmText)," "))},dependencies:[_.O5,C.oJW,C.RRe,i.X$D],encapsulation:2,changeDetection:0}),r})(),dn=(()=>{class r{isItemDisabled(t){return!1===t?.active}isParentDisabled(t){return!1===(t.orgUnit||t.unit||t.parentOrgUnit)?.active&&!this.isRootUnit(t)}isRootUnit(t){return Boolean(t?.uid&&t?.name&&!t?.orgUnit&&!t?.unit&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),je=(()=>{class r{constructor(t,n,d){this.itemService=t,this.messageService=n,this.disableInfoService=d,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Oe.w}toggle(t){t.active?this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.deactivate",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deactivateTitle",params:{item:t}},confirm:{key:"organization.confirmation.disable"},component:ln}),this.subscription.add(this.confirmation.pipe((0,V.P)()).subscribe(n=>{n.close&&(this.confirmation=null),n.confirm&&(this.messageService.close(this.confirmation),this.update(t),this.confirmation=null)}))):this.update(t)}isDisabled(t){return this.disabled??(this.disableInfoService.isParentDisabled(t)||this.disableInfoService.isRootUnit(t))}update(t){this.itemService.update(t[this.key],this.getPatchedItem(t)).pipe((0,N.q)(1),(0,E.h)(n=>n.status===h.Px.SUCCESS)).subscribe(n=>this.notify({...t,...n.item}))}getPatchedItem(t){const n={};return Object.assign(n,{[this.key]:t[this.key]}),n.active=!t.active,n}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${t.active?"confirmEnabled":"confirmDisabled"}`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W),e.Y36(dn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-toggle-status"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",disabled:"disabled"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,dr,4,6,"button",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.current$))},dependencies:[_.O5,_.Ov,i.X$D],encapsulation:2}),r})(),pn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,C.QX1,C.oPH,i.GSh]}),r})(),Ke=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,Ze,pn]}),r})(),gn=(()=>{class r{constructor(t,n){this.itemService=t,this.messageService=n,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Oe.w}delete(t){this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.delete",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deleteTitle",params:{item:t}},component:ln}),this.subscription.add(this.confirmation.pipe((0,V.P)()).subscribe(n=>{n.close&&(this.confirmation=null),n.confirm&&(this.messageService.close(this.confirmation),this.confirmDelete(t),this.confirmation=null)})))}confirmDelete(t){this.itemService.delete?.(t[this.key],this.additionalParam).pipe((0,N.q)(1),(0,E.h)(n=>n.status===h.Px.SUCCESS)).subscribe(n=>this.notify({...t,...n.item}))}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.deleted`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-delete-item"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",additionalParam:"additionalParam"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"disabled","click"]],template:function(t,n){1&t&&(e.YNc(0,pr,4,6,"button",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.current$))},dependencies:[_.O5,_.Ov,i.X$D],encapsulation:2}),r})(),Gc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,Ze,pn]}),r})(),Ce=(()=>{class r{constructor(t,n){this.itemService=t,this.disableInfoService=n,this.displayCustomInfo=!1,this.current$=this.itemService.current$,this.iconTypes=C.e1G}get defaultInfoConfig(){return{disabledCreate:!1,disabledEdit:!0,disabledEnable:!0,disabledDisable:!1}}ngOnInit(){this.displayInfoConfig={...this.defaultInfoConfig,...this.displayInfoConfig}}displayDisabledCreate(t){return this.displayInfoConfig?.disabledCreate&&this.disableInfoService.isItemDisabled(t)}displayDisabledEdit(t){return this.displayInfoConfig?.disabledEdit&&this.disableInfoService.isItemDisabled(t)}displayDisabledEnable(t){return this.displayInfoConfig?.disabledEnable&&this.disableInfoService.isParentDisabled(t)}displayDisabledDisable(t){return this.displayInfoConfig?.disabledDisable&&this.disableInfoService.isRootUnit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(dn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-disable-info"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",displayInfoConfig:"displayInfoConfig",displayCustomInfo:"displayCustomInfo"},ngContentSelectors:_s,decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"]],template:function(t,n){1&t&&(e.F$t(),e.YNc(0,fr,2,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.current$))},dependencies:[_.O5,C.oJW,_.Ov,i.X$D],encapsulation:2}),r})(),De=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,C.QX1,i.LUR]}),r})(),oe=(()=>{class r extends Z{constructor(){super(...arguments),this.defaultTableStructure={options:{layout:C.dfC.VERTICAL}},this.ghostData={values:new Array(3)}}assign(t,...n){return ce.E}unassign(t,...n){return ce.E}filterSelected(t){if(!t)return t;const{pagination:n,sorts:d,values:v}=t;return{pagination:n,sorts:d,values:v.filter(D=>D.selected)}}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ke=(()=>{class r extends Q{get tabIndex(){return 0}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-active-link-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,fs,3,8,"a",0),e.YNc(1,Us,2,2,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T],encapsulation:2,changeDetection:0}),r})(),oi=(()=>{class r extends Q{get property(){if(this.budget&&this.currency)return this.budget+" "+this.currency}get budget(){return this.model.budget}get currency(){return this.model.currency?.isocode||this.model.currency}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-amount-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,hs,3,8,"a",0),e.YNc(1,vs,2,2,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T],encapsulation:2,changeDetection:0}),r})(),mn=(()=>{class r extends Q{get linkable(){return this.hasRange&&(this.cellOptions.linkable??!0)}get hasRange(){return!!this.model.startDate&&!!this.model.endDate}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-date-range-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,As,3,8,"a",0),e.YNc(1,xs,1,1,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T,i.dgE],encapsulation:2,changeDetection:0}),r})(),_n=(()=>{class r extends Q{get isTimeSpanThreshold(){return"B2BOrderThresholdTimespanPermission"===this.model.orderApprovalPermissionType?.code}get isOrderThreshold(){return"B2BOrderThresholdPermission"===this.model.orderApprovalPermissionType?.code}get isExceedPermission(){return"B2BBudgetExceededPermission"===this.model.orderApprovalPermissionType?.code}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-limit-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["threshold",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,Es,3,8,"a",0),e.YNc(1,ys,3,3,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),ii=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-roles-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],[1,"text"],["class","li",3,"innerText",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"li",3,"innerText"]],template:function(t,n){if(1&t&&(e.YNc(0,Pc,3,8,"a",0),e.YNc(1,Sr,3,2,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.sg,_.O5,_.tP,A.rH,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Me=(()=>{class r extends Q{get label(){if(void 0!==this.isActive)return this.isActive?"organization.enabled":"organization.disabled"}get isActive(){return this.model.active}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-status-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title","is-active",4,"ngIf"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,Ds,3,8,"a",0),e.YNc(1,Ts,1,1,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Te=(()=>{class r extends Q{get property(){return this.model.unit?.name??this.model.orgUnit?.name}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cell"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],["text",""],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,n){if(1&t&&(e.YNc(0,xr,3,8,"a",0),e.YNc(1,bs,2,2,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",n.linkable)("ngIfElse",d)}},dependencies:[_.O5,_.tP,A.rH,i.l2T],encapsulation:2,changeDetection:0}),r})();var T=(()=>{return(r=T||(T={})).BUDGET="orgBudget",r.BUDGET_ASSIGNED_COST_CENTERS="orgBudgetAssignedCostCenters",r.COST_CENTER="orgCostCenter",r.COST_CENTER_BUDGETS="orgCostCenterBudgets",r.COST_CENTER_ASSIGNED_BUDGETS="orgCostCenterAssignedBudgets",r.UNIT="orgUnit",r.UNIT_USERS="orgUnitUsers",r.UNIT_CHILDREN="orgUnitChildren",r.UNIT_APPROVERS="orgUnitApprovers",r.UNIT_ASSIGNED_APPROVERS="orgUnitAssignedApprovers",r.UNIT_ADDRESS="orgUnitAddress",r.UNIT_COST_CENTERS="orgUnitCostCenters",r.USER_GROUP="orgUserGroup",r.USER_GROUP_USERS="orgUserGroupUsers",r.USER_GROUP_ASSIGNED_USERS="orgUserGroupAssignedUsers",r.USER_GROUP_PERMISSIONS="orgUserGroupPermissions",r.USER_GROUP_ASSIGNED_PERMISSIONS="orgUserGroupAssignedPermissions",r.USER="orgUser",r.USER_APPROVERS="orgUserApprovers",r.USER_ASSIGNED_APPROVERS="orgUserAssignedApprovers",r.USER_PERMISSIONS="orgUserPermissions",r.USER_ASSIGNED_PERMISSIONS="orgUserAssignedPermissions",r.USER_USER_GROUPS="orgUserUserGroups",r.USER_ASSIGNED_USER_GROUPS="orgUserAssignedUserGroups",r.PERMISSION="orgPurchaseLimit",T;var r})();let kt=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(t,n){if(1&t&&(e.YNc(0,Gs,28,28,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const d=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",n.model.name,"\n")}},dependencies:[_.O5,C.k5W,A.rH,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),ci=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.budgetService=n,this.tableType=T.BUDGET_ASSIGNED_COST_CENTERS,this._domainType=T.COST_CENTER}load(t,n){return this.budgetService.getCostCenters(n).pipe((0,E.h)(d=>Boolean(d)),(0,k.U)(d=>this.filterSelected(d)))}filterSelected({pagination:t,sorts:n,values:d}){return{pagination:t,sorts:n,values:d.filter(v=>v.active)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.tJ))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ai=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-cost-center-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:ci}])],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"cx-org-sub-list")},dependencies:[K],encapsulation:2,changeDetection:0}),r})(),Nt=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.budgetService=n}getDetailsRoute(){return"orgBudgetDetails"}getParamKey(){return Y.UY.budgetCode}getItem(t){return this.budgetService.get(t)}getError(t){return this.budgetService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.tJ))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ui=(()=>{class r extends fe{constructor(t){super(),this.datePickerService=t}build(){const t=new g.nJ({});t.setControl("code",new g.p4("",[g.kI.required,C.kal.noSpecialCharacters])),t.setControl("name",new g.p4("",g.kI.required)),t.setControl("startDate",new g.p4("",[g.kI.required,C.kal.patternValidation(n=>this.datePickerService.isValidFormat(n))])),t.setControl("endDate",new g.p4("",[g.kI.required,C.kal.patternValidation(n=>this.datePickerService.isValidFormat(n))])),t.setControl("budget",new g.p4("",[g.kI.required,C.kal.mustBePositive])),t.setControl("currency",new g.nJ({isocode:new g.p4(void 0,g.kI.required)})),t.setControl("orgUnit",new g.nJ({uid:new g.p4(void 0,g.kI.required)})),t.setValidators(C.kal.dateRange("startDate","endDate",n=>this.datePickerService.getDate(n))),this.form=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.Eo6))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ne=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.budgetService=v}load(t){return this.budgetService.loadBudget(t),this.budgetService.get(t)}update(t,n){return this.budgetService.update(t,n),this.budgetService.getLoadingStatus(n.code??"")}create(t){return this.budgetService.create(t),this.budgetService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgBudgetDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Nt),e.LFG(i.Znh),e.LFG(ui),e.LFG(h.tJ))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),li=(()=>{class r{ngOnInit(){this.model$=this.itemService.key$.pipe((0,R.w)(t=>this.itemService.load(t)),(0,Le.O)({}))}constructor(t){this.itemService=t,this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:Ne}])],decls:2,vars:3,consts:[["i18nRoot","orgBudget.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgBudget.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgBudget"],["info","","i18nRoot","orgBudget"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,Os,57,58,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.O5,ge,A.rH,A.Od,je,we,Ce,C.RRe,_.Ov,i.l2T,i.X$D,i.dgE],encapsulation:2,changeDetection:0}),r})();function ot(r,o){if(!o?.value){const t=r?.value?.replace(/\s+/g,"-").toLowerCase();o?.patchValue(t)}}let fn=(()=>{class r{constructor(t,n,d){this.itemService=t,this.unitService=n,this.currencyService=d,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,P.b)(v=>{v&&1===v.length&&this.form?.get("orgUnit.uid")?.setValue(v[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe((0,P.b)(v=>{1===v.length&&this.form?.get("currency.isocode")?.setValue(v[0]?.isocode)}))}ngOnInit(){this.unitService.loadList()}createCodeWithName(t,n){ot(t,n)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn),e.Y36(i.ieQ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:Ne},{provide:re,useExisting:Nt}])],decls:2,vars:1,consts:[["i18nRoot","orgBudget"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[1,"label-content"],[3,"control","max","required","update"],[3,"control","min","required","update"],[3,"formGroup"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["required","true","type","number","formControlName","budget","min","0",1,"form-control",3,"placeholder"],[3,"formGroup",4,"ngIf"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,Zs,42,54,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.O5,Ge,x.w9,g.Fj,g.wV,g.JJ,g.JL,g.Q7,g.qQ,g.sg,g.u,C.Ahv,C.Lr3,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})();const di={cmsComponents:{ManageBudgetsListComponent:{component:Pe,providers:[{provide:Z,useExisting:(()=>{class r extends Z{constructor(t,n){super(t),this.tableService=t,this.budgetService=n,this.tableType=T.BUDGET}load(t){return this.budgetService.getList(t).pipe((0,E.h)(i.pTN),(0,k.U)(n=>this.convertBudgets(n)))}convertBudgets({pagination:t,sorts:n,values:d}){return{pagination:t,sorts:n,values:d.map(D=>({...D,currency:D.currency?.isocode,unit:D.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.tJ))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:G,useExisting:Ne}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(Nt))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:fn},{path:`:${Y.UY.budgetCode}`,component:li,data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.details"}},children:[{path:"edit",component:fn},{path:"cost-centers",component:ai}]}]},guards:[i.a1M,h.uy]}}};function pi(){return gi}const gi={table:{[T.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:ke},active:{dataComponent:Me},amount:{dataComponent:oi},dateRange:{dataComponent:mn},unit:{dataComponent:Te}}}},[T.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:kt}},pagination:{pageSize:Ue}}}}};let mi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,se]}),r})(),qe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez]}),r})(),_i=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Ke,qe,De,C.oPH]}),r})(),fi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,ye,x.A0,i.bhT,i.LUR,g.UX,C.Fym,Ye,C.I$v]}),r})(),aa=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(di),(0,i.x2j)(pi)],imports:[st,_i,fi,mi]}),r})(),qt=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-budget-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(t,n){if(1&t&&(e.YNc(0,Pr,48,47,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const d=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",n.model.name,"\n")}},dependencies:[C.k5W,A.rH,i.X$D,i.dgE,i.l2T],encapsulation:2,changeDetection:0}),r})(),Ui=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,C.UUf,A.Bz,i.LUR,i.bhT]}),r})(),zt=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.costCenterService=n,this.budgetService=d,this.tableType=T.COST_CENTER_BUDGETS,this._domainType=T.BUDGET}load(t,n){return this.costCenterService.getBudgets(n,t)}assign(t,n){return this.costCenterService.assignBudget(t,n),this.budgetService.getLoadingStatus(n)}unassign(t,n){return this.costCenterService.unassignBudget(t,n),this.budgetService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.ht),e.LFG(h.tJ))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Un=(()=>{class r extends zt{constructor(){super(...arguments),this.tableType=T.COST_CENTER_ASSIGNED_BUDGETS}load(t,n){return super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-assigned-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Un}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),hn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:zt}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),vn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,i.LUR,A.Bz,se]}),r})(),$t=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.costCenterService=n}getParamKey(){return Y.UY.costCenterCode}getItem(t){return this.costCenterService.get(t)}getError(t){return this.costCenterService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.ht))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Sn=(()=>{class r extends fe{build(){const t=new g.nJ({});t.setControl("code",new g.p4("",[g.kI.required,C.kal.noSpecialCharacters])),t.setControl("name",new g.p4("",g.kI.required)),t.setControl("currency",new g.nJ({isocode:new g.p4(void 0,g.kI.required)})),t.setControl("unit",new g.nJ({uid:new g.p4(void 0,g.kI.required)})),this.form=t}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ze=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.costCenterService=v}load(t){return this.costCenterService.load(t),this.costCenterService.get(t)}update(t,n){return this.costCenterService.update(t,n),this.costCenterService.getLoadingStatus(n.code??"")}create(t){return this.costCenterService.create(t),this.costCenterService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgCostCenterDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($t),e.LFG(i.Znh),e.LFG(Sn),e.LFG(h.ht))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vi=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,R.w)(n=>this.itemService.load(n)),(0,Le.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:ze}])],decls:2,vars:3,consts:[["i18nRoot","orgCostCenter.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgCostCenter.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgCostCenter"],["info","","i18nRoot","orgCostCenter"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,ws,43,47,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.O5,ge,A.rH,A.Od,je,we,Ce,C.RRe,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),it=(()=>{class r{set unitKey(t){t&&(this.form?.get("unit.uid")?.setValue(t),this.form?.get("unit")?.disable())}constructor(t,n,d){this.itemService=t,this.unitService=n,this.currencyService=d,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,P.b)(v=>{v&&1===v.length&&this.form?.get("unit.uid")?.setValue(v[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe((0,P.b)(v=>{1===v.length&&this.form?.get("currency.isocode")?.setValue(v[0]?.isocode)}))}createCodeWithName(t,n){ot(t,n)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn),e.Y36(i.ieQ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-cost-center-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[e._Bn([{provide:G,useExisting:ze},{provide:re,useExisting:$t}])],decls:2,vars:1,consts:[["i18nRoot","orgCostCenter"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],["formGroupName","currency"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,br,31,47,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.O5,Ge,x.w9,g.Fj,g.JJ,g.JL,g.Q7,g.sg,g.u,g.x0,C.Ahv,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})();const Ci={cmsComponents:{ManageCostCentersListComponent:{component:Pe,providers:[{provide:Z,useExisting:(()=>{class r extends Z{constructor(t,n){super(t),this.tableService=t,this.costCenterService=n,this.tableType=T.COST_CENTER}load(t){return this.costCenterService.getList(t).pipe((0,E.h)(i.pTN),(0,k.U)(n=>this.convertCostCenters(n)))}convertCostCenters({pagination:t,sorts:n,values:d}){return{pagination:t,sorts:n,values:d.map(D=>({...D,currency:D.currency?.isocode}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.ht))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:G,useExisting:ze}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG($t))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:it},{path:`:${Y.UY.costCenterCode}`,component:vi,data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.details"}},children:[{path:"edit",component:it},{path:"budgets",data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.budgets"}},children:[{path:"",component:hi},{path:"assign",component:hn}]}]}]},guards:[i.a1M,h.uy]}}};function An(){return Cn}const Cn={table:{[T.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:ke},active:{dataComponent:Me},currency:{dataComponent:Q},unit:{dataComponent:Te}}}},[T.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:qt},actions:{dataComponent:Ae}},pagination:{pageSize:Ue}}},[T.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:qt},actions:{dataComponent:Ae}}}}}};let xi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Ke,qe,De,C.oPH]}),r})(),xn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[i.ieQ,h.qn],imports:[_.ez,A.Bz,ye,x.A0,i.bhT,i.LUR,g.UX,C.Fym,Ye]}),r})(),Ln=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(Ci),(0,i.x2j)(An)],imports:[st,xi,xn,vn,Ui]}),r})(),Jt=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.permissionService=n}getParamKey(){return Y.UY.permissionCode}getItem(t){return this.permissionService.get(t)}getError(t){return this.permissionService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.$A))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var xe=(()=>{return(r=xe||(xe={})).ORDER="B2BOrderThresholdPermission",r.TIME_SPAN="B2BOrderThresholdTimespanPermission",r.EXCEEDED="B2BBudgetExceededPermission",xe;var r})();let Li=(()=>{class r extends fe{constructor(){super(...arguments),this.subscription=new Oe.w}build(){const t=new g.nJ({});t.setControl("code",new g.p4("",[g.kI.required,C.kal.noSpecialCharacters])),t.setControl("orgUnit",new g.nJ({uid:new g.p4(void 0,g.kI.required)})),t.setControl("orderApprovalPermissionType",new g.nJ({code:new g.p4(void 0,g.kI.required)})),this.subscription.add(t.get("orderApprovalPermissionType")?.get("code")?.valueChanges.pipe((0,pe.x)(),(0,E.h)(n=>!!n)).subscribe(n=>this.amend(t,n))),this.form=t}get defaultValue(){return{orderApprovalPermissionType:{code:xe.EXCEEDED}}}amend(t,n){n===xe.EXCEEDED&&(t.removeControl("periodRange"),t.removeControl("currency"),t.removeControl("threshold")),(n===xe.TIME_SPAN||n===xe.ORDER)&&(t.get("currency")||t.setControl("currency",new g.nJ({isocode:new g.p4(void 0,g.kI.required)})),t.get("threshold")||t.setControl("threshold",new g.p4("",g.kI.required))),n===xe.ORDER&&t.removeControl("periodRange"),n===xe.TIME_SPAN&&(t.get("periodRange")||t.setControl("periodRange",new g.p4("",g.kI.required)))}ngOnDestroy(){this.subscription.unsubscribe()}patchData(t){super.patchData(t),void 0!==t?.code&&this.form?.get("orderApprovalPermissionType")?.disable()}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ct=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.permissionService=v}load(t){return this.permissionService.loadPermission(t),this.permissionService.get(t)}update(t,n){return this.permissionService.update(t,n),this.permissionService.getLoadingStatus(n.code??"")}create(t){return this.permissionService.create(t),this.permissionService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgPurchaseLimitDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Jt),e.LFG(i.Znh),e.LFG(Li),e.LFG(h.$A))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ei=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,R.w)(n=>this.itemService.load(n)),(0,Le.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:ct}])],decls:2,vars:3,consts:[["i18nRoot","orgPurchaseLimit.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgPurchaseLimit.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgPurchaseLimit",3,"disabled"],["info","","i18nRoot","orgPurchaseLimit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"],[1,"value",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,Mr,35,40,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.O5,ge,A.rH,je,we,Ce,C.RRe,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Ii=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Ke,qe,De,C.oPH]}),r})(),En=(()=>{class r{constructor(t,n,d,v){this.itemService=t,this.unitService=n,this.currencyService=d,this.permissionService=v,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,P.b)(D=>{D&&1===D.length&&this.form?.get("orgUnit.uid")?.setValue(D[0].id)})),this.currencies$=this.currencyService.getAll().pipe((0,P.b)(D=>{1===D.length&&this.form?.get("currency.isocode")?.setValue(D[0]?.isocode)})),this.types$=this.permissionService.getTypes(),this.periods=Object.keys(h.pH)}ngOnInit(){this.unitService.loadList()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn),e.Y36(i.ieQ),e.Y36(h.$A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:ct},{provide:re,useExisting:Jt}])],decls:2,vars:1,consts:[["i18nRoot","orgPurchaseLimit"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[3,"control"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","periodRange","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder",4,"ngIf"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder"],["type","number","required","","formControlName","threshold",1,"form-control",3,"placeholder"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,Ys,21,30,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.O5,x.w9,g.Fj,g.wV,g.JJ,g.JL,g.Q7,g.sg,g.u,C.Ahv,Ge,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),yi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,x.A0,i.bhT,i.LUR,g.UX,C.Fym,ye,Ye]}),r})();const Pi={cmsComponents:{ManagePermissionsListComponent:{component:Pe,providers:[{provide:Z,useExisting:(()=>{class r extends Z{constructor(t,n){super(t),this.tableService=t,this.permissionsService=n,this.tableType=T.PERMISSION}load(t){return this.permissionsService.getList(t).pipe((0,E.h)(i.pTN),(0,k.U)(n=>this.convertPermissions(n)))}convertPermissions({pagination:t,sorts:n,values:d}){return{pagination:t,sorts:n,values:d.map(D=>({...D,unit:D.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.$A))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},{provide:G,useExisting:ct}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(Jt))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:En},{path:`:${Y.UY.permissionCode}`,component:Ei,data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.details"}},children:[{path:"edit",component:En}]}]},guards:[i.a1M,h.uy]}}};function Di(){return Ti}const Ti={table:{[T.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:ke},active:{dataComponent:Me},unit:{dataComponent:Te},limit:{dataComponent:_n}}}}}};let bi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(Pi),(0,i.x2j)(Di)],imports:[st,Ii,yi]}),r})(),ue=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.orgUnitService=n}getParamKey(){return Y.UY.unitCode}getItem(t){return this.orgUnitService.get(t)}getError(t){return this.orgUnitService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),In=(()=>{class r extends fe{patchData(t){this.toggleParentUnit(t),super.patchData(t)}build(){const t=new g.nJ({});t.setControl("uid",new g.p4("",[g.kI.required,C.kal.noSpecialCharacters])),t.setControl("name",new g.p4("",g.kI.required)),t.setControl("approvalProcess",new g.nJ({code:new g.p4(null)})),this.form=t,this.toggleParentUnit()}toggleParentUnit(t){this.isRootUnit(t)?this.form?.removeControl("parentOrgUnit"):this.form?.get("parentOrgUnit")||this.form?.setControl("parentOrgUnit",new g.nJ({uid:new g.p4(null,g.kI.required)}))}isRootUnit(t){return Boolean(t?.uid&&t?.name&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$e=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.unitService=v}load(t){return this.unitService.load(t),this.unitService.get(t)}update(t,n){return this.unitService.update(t,n),this.unitService.getLoadingStatus(n.uid??"")}create(t){return this.unitService.create(t),this.unitService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUnitDetails"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ue),e.LFG(i.Znh),e.LFG(In),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Bi=(()=>{class r{constructor(t,n){this.itemService=t,this.orgUnitService=n,this.model$=this.itemService.key$.pipe((0,R.w)(d=>this.itemService.load(d)),(0,Le.O)({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUnitAllowed=!this.orgUnitService||this.orgUnitService.isUpdatingUnitAllowed()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:$e}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.details",3,"cxFocus","showHint",4,"ngIf"],["i18nRoot","orgUnit.details",3,"cxFocus","showHint"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","uid","i18nRoot","orgUnit",4,"ngIf"],["info","","i18nRoot","orgUnit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["main","",1,"link-list"],[4,"ngIf"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUnit"],[1,"value",3,"routerLink"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,oo,28,27,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.O5,ge,A.rH,A.Od,je,we,C.RRe,Ce,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Gi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Ke,qe,C.oPH,De]}),r})(),Qt=(()=>{class r{constructor(t,n){this.itemService=t,this.unitService=n,this.i18nRoot="orgUnit",this.createChildUnit=!1,this.form=this.itemService.getForm(),this.units$=this.itemService.unit$.pipe((0,P.b)(d=>{this.form?.get("parentOrgUnit.uid")?.setValue(d),this.createChildUnit&&this.form?.get("parentOrgUnit")?.disable()}),(0,R.w)(()=>this.unitService.getActiveUnitList().pipe((0,k.U)(d=>d?.filter(v=>v.id!==this.form?.value.uid)),(0,P.b)(d=>{d&&1===d.length&&this.form?.get("parentOrgUnit.uid")?.setValue(d[0]?.id)})))),this.approvalProcess$=this.unitService.getApprovalProcesses().pipe((0,E.h)(i.pTN),(0,E.h)(d=>d.length>0))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,n){ot(t,n)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",createChildUnit:"createChildUnit"},features:[e._Bn([{provide:G,useExisting:$e},{provide:re,useExisting:ue}])],decls:2,vars:2,consts:[[3,"i18nRoot"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],["formGroupName","approvalProcess",1,"full-width"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","items","placeholder"],[4,"ngIf","ngIfElse"],["parentOrgUnitNotes",""],["formGroupName","parentOrgUnit"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[1,"notes-content"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,ao,26,30,"ng-container",1),e.qZA()),2&t&&(e.Q6J("i18nRoot",n.i18nRoot),e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.O5,Ge,x.w9,g.Fj,g.JJ,g.JL,g.Q7,g.sg,g.u,g.x0,C.Ahv,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Mi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,ye,x.A0,i.bhT,i.LUR,g.UX,C.Fym,Ye]}),r})(),yn=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.unitService=n,this.item$=this.b2bUnit$.pipe((0,E.h)(d=>Boolean(d)),(0,R.w)(d=>this.key$.pipe((0,R.w)(v=>this.getItem(d,v)))))}getDetailsRoute(){return"orgUnitAddressDetails"}getParamKey(){return Y.UY.addressCode}getItem(t,n){return n?this.unitService.getAddress(t,n):(0,Ee.of)(void 0)}getError(t){return this.unitService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wc=(()=>{class r extends fe{constructor(t,n){super(),this.userAddressService=t,this.userProfileFacade=n}build(){const t=new g.nJ({});t.setControl("id",new g.p4("")),t.setControl("titleCode",new g.p4("")),t.setControl("firstName",new g.p4("",g.kI.required)),t.setControl("lastName",new g.p4("",g.kI.required)),t.setControl("line1",new g.p4("",g.kI.required)),t.setControl("line2",new g.p4("")),t.setControl("town",new g.p4("",g.kI.required)),t.setControl("country",new g.nJ({isocode:new g.p4(null,g.kI.required)})),t.setControl("region",new g.nJ({isocode:new g.p4(null,g.kI.required)})),t.setControl("postalCode",new g.p4("",g.kI.required)),t.setControl("phone",new g.p4("")),t.setControl("cellphone",new g.p4("")),this.form=t}getCountries(){return this.userAddressService.getDeliveryCountries().pipe((0,P.b)(t=>{0===Object.keys(t).length&&this.userAddressService.loadDeliveryCountries()}))}getTitles(){return this.userProfileFacade.getTitles()}getRegions(){let n,t=this.form?.get("country.isocode")?.value;return this.getForm()?.get("country.isocode")?.valueChanges.pipe((0,E.h)(d=>Boolean(d)),(0,R.w)(d=>(n=d,this.userAddressService.getRegions(d))),(0,P.b)(d=>{const v=this.form?.get("region.isocode");d&&0!==d.length?v?.enable():v?.disable(),t&&n!==t&&v?.reset(),t=n}))??(0,Ee.of)([])}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.kFJ),e.LFG(tt.aT))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yt=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.unitService=v,this.unitRouteParam$=this.routingService.getParams().pipe((0,k.U)(D=>D[Y.UY.unitCode]),(0,pe.x)())}load(t,n){return this.unitService.getAddress(t,n).pipe((0,E.h)(i.pTN))}update(t,n){return this.unitRouteParam$.pipe((0,V.P)()).subscribe(d=>{this.unitService.updateAddress(d,t,n)}),this.unitService.getAddressLoadingStatus(t)}create(t){return this.unitRouteParam$.pipe((0,V.P)()).subscribe(n=>this.unitService.createAddress(n,t)),this.unitService.getAddressLoadingStatus(t.id??"")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}delete(t,n){return this.launchList(),this.unitService.deleteAddress(n,t),this.unitService.getAddressLoadingStatus(t)}launchDetails(t){t.id?this.unitRouteParam$.pipe((0,V.P)()).subscribe(n=>{this.routingService.go({cxRoute:this.getDetailsRoute(),params:{...t,uid:n}})}):this.launchList()}launchList(){this.unitRouteParam$.pipe((0,V.P)()).subscribe(t=>{this.routingService.go({cxRoute:"orgUnitAddressList",params:{uid:t}})})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(yn),e.LFG(i.Znh),e.LFG(wc),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ri=(()=>{class r{getCountry(t){return this.userAddressService.getDeliveryCountries().pipe((0,P.b)(n=>{0===Object.keys(n).length&&this.userAddressService.loadDeliveryCountries()}),(0,k.U)(n=>n.find(d=>d.isocode===t)))}constructor(t,n,d){this.itemService=t,this.currentUnitService=n,this.userAddressService=d,this.unit$=this.currentUnitService.item$,this.model$=this.itemService.key$.pipe((0,cr.M)(this.unit$),(0,R.w)(([v,D])=>this.itemService.load(D?.uid,v)),(0,ar.d)({bufferSize:1,refCount:!0}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(ue),e.Y36(i.kFJ))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:Yt}])],decls:2,vars:3,consts:[[4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus",4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus"],["actions","","routerLink","edit",1,"link"],["actions","","key","id","i18nRoot","orgUnitAddress",3,"additionalParam"],["main","",1,"details"],[1,"property"],[1,"value"],[3,"routerLink"],[1,"property","full-width"]],template:function(t,n){1&t&&(e.YNc(0,lo,3,3,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.unit$))},dependencies:[_.O5,ge,A.rH,gn,C.RRe,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Pn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Gc,C.oPH]}),r})(),Dn=(()=>{class r extends Q{constructor(t,n){super(t),this.outlet=t,this.itemService=n,this.unitKey$=this.itemService.key$}get tabIndex(){return 0}getRouterModel(t){return{...this.outlet.context,uid:t}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C.WCT),e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-link-cell"]],features:[e.qOj],decls:4,vars:3,consts:[[4,"ngIf"],["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(t,n){1&t&&(e.YNc(0,mo,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,_o,2,2,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.unitKey$))},dependencies:[_.O5,_.tP,A.rH,_.Ov,i.l2T],encapsulation:2,changeDetection:0}),r})(),Oi=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.orgUnitService=n,this.tableType=T.UNIT_ADDRESS,this._domainType=T.UNIT_ADDRESS}load(t,n){return this.orgUnitService.getAddresses(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Tn=(()=>{class r{constructor(){this.routerKey=Y.UY.addressCode}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Oi}])],decls:4,vars:5,consts:[["key","id",1,"has-nested-view",3,"routerKey","showHint"],["actions","","routerLink","create",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("routerKey",n.routerKey)("showHint",!0),e.xp6(2),e.hij(" ",e.lcZ(3,3,"organization.create")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),bn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,A.Bz,i.bhT,se]}),r})(),Bn=(()=>{class r{constructor(t,n,d){this.itemService=t,this.formService=n,this.currentUnitService=d,this.form=this.itemService.getForm(),this.key$=this.itemService.key$,this.countries$=this.formService.getCountries(),this.titles$=this.formService.getTitles(),this.regions$=this.formService.getRegions(),this.unit$=this.currentUnitService.item$}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(wc),e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-address-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:Yt}])],decls:5,vars:12,consts:[["i18nRoot","orgUnitAddress",3,"animateBack","subtitle"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],["formGroupName","country"],[1,"label-content","required"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"control"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],[1,"full-width"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],[4,"ngIf"],["class","full-width","formGroupName","region",4,"ngIf"],["formGroupName","region",1,"full-width"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"region-select",3,"inputAttrs","searchable","clearable","items","placeholder"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.ALo(1,"async"),e.ALo(2,"cxTranslate"),e.ALo(3,"async"),e.YNc(4,ho,66,76,"ng-container",1),e.qZA()),2&t&&(e.Q6J("animateBack",!e.lcZ(1,3,n.key$))("subtitle",e.xi3(2,5,"orgUnitAddress.details.subtitle",e.VKq(10,$,e.lcZ(3,8,n.unit$)))),e.xp6(4),e.Q6J("ngIf",n.form))},dependencies:[_.O5,Ge,x.w9,g.Fj,g.JJ,g.JL,g.Q7,g.sg,g.u,g.x0,C.Ahv,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),jt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,ye,x.A0,i.bhT,i.LUR,g.UX,C.Fym]}),r})(),Gn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[bn,Pn,jt]}),r})(),Mn=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.unitService=n,this.userService=d,this.tableType=T.UNIT_APPROVERS,this._domainType=T.USER}load(t,n){return this.unitService.getUsers(n,i.KOx.APPROVER,t)}assign(t,n){return this.unitService.assignApprover(t,n,i.KOx.APPROVER),this.userService.getLoadingStatus(n)}unassign(t,n){return this.unitService.unassignApprover(t,n,i.KOx.APPROVER),this.userService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Rn=(()=>{class r extends Mn{constructor(){super(...arguments),this.tableType=T.UNIT_ASSIGNED_APPROVERS}load(t,n){return this.unitService.clearAssignedUsersList(n,i.KOx.APPROVER,t),super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),On=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Rn}])],decls:4,vars:4,consts:[[3,"showHint"],["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("showHint",!0),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Zi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Mn}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Zn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[i.LUR,A.Bz,se]}),r})(),Fn=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.orgUnitService=n,this.tableType=T.UNIT_CHILDREN,this._domainType=T.UNIT}load(t,n){return this.orgUnitService.getChildUnits(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Fi=(()=>{class r{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,Ee.of)({active:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-children"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Fn}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitChildren",3,"displayInfoConfig"]],template:function(t,n){if(1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e.ALo(2,"async"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-disable-info",2),e.qZA()),2&t){let d;e.Q6J("showHint",!0),e.xp6(1),e.ekj("disabled",!(null!=(d=e.lcZ(2,5,n.unit$))&&d.active)),e.xp6(2),e.hij(" ",e.lcZ(4,7,"organization.create")," "),e.xp6(2),e.Q6J("displayInfoConfig",e.DdM(9,Zt))}},dependencies:[A.rH,K,Ce,i.X$D,_.Ov],encapsulation:2,changeDetection:0}),r})(),wn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,i.LUR,A.Bz,se,_.ez,De]}),r})(),kn=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.unitService=n,this.tableType=T.UNIT_COST_CENTERS,this._domainType=T.COST_CENTER}load(t,n){return this.unitService.getCostCenters(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wi=(()=>{class r{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,Ee.of)({active:!0})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cost-centers"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:kn}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitCostCenters",3,"displayInfoConfig"]],template:function(t,n){if(1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e.ALo(2,"async"),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e._UZ(5,"cx-org-disable-info",2),e.qZA()),2&t){let d;e.Q6J("showHint",!0),e.xp6(1),e.ekj("disabled",!(null!=(d=e.lcZ(2,5,n.unit$))&&d.active)),e.xp6(2),e.hij(" ",e.lcZ(4,7,"organization.create")," "),e.xp6(2),e.Q6J("displayInfoConfig",e.DdM(9,Zt))}},dependencies:[A.rH,K,Ce,i.X$D,_.Ov],encapsulation:2,changeDetection:0}),r})(),Nn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[i.LUR,A.Bz,se,_.ez,De]}),r})(),qn=(()=>{class r extends Q{constructor(t,n,d){super(t),this.outlet=t,this.itemService=n,this.b2bUserService=d,this.unitKey$=this.itemService.key$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed()}getRouterModel(t){return{...this.outlet.context,uid:t}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C.WCT),e.Y36(G),e.Y36(h.o4))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-link-cell"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,So,4,8,"a",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",n.isUpdatingUserAllowed&&n.hasItem&&e.lcZ(1,1,n.unitKey$))},dependencies:[_.O5,A.rH,_.Ov,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),ki=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.unitService=n,this.tableType=T.UNIT_USERS,this._domainType=T.USER}load(t,n){return this.unitService.getUsers(n,i.KOx.CUSTOMER,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),zn=(()=>{class r{constructor(t,n){this.currentUnitService=t,this.b2bUserService=n,this.routerKey=Y.UY.userCode,this.unit$=this.currentUnitService?this.currentUnitService.item$:(0,Ee.of)({active:!0}),this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue),e.Y36(h.o4))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:ki}])],decls:3,vars:5,consts:[["key","customerId",3,"routerKey","showHint"],["actions","","class","link","routerLink","create",3,"disabled",4,"ngIf"],["info","","i18nRoot","orgUnitUsers",3,"displayInfoConfig"],["actions","","routerLink","create",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0),e.YNc(1,Ao,4,7,"a",1),e._UZ(2,"cx-org-disable-info",2),e.qZA()),2&t&&(e.Q6J("routerKey",n.routerKey)("showHint",!0),e.xp6(1),e.Q6J("ngIf",n.isUpdatingUserAllowed),e.xp6(1),e.Q6J("displayInfoConfig",e.DdM(4,Zt)))},dependencies:[_.O5,A.rH,K,Ce,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),$n=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,A.Bz,i.bhT,se,De]}),r})(),Ni=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.b2bUserService=n}getDetailsRoute(){return"orgUnitUserList"}getParamKey(){return Y.UY.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Kt=(()=>{class r extends fe{constructor(t){super(),this.userService=t,this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}getForm(t){return this.form=null,super.getForm(t)}build(){const t=new g.nJ({});this.availableRoles.forEach(n=>t.addControl(n,new g.p4)),this.availableRights.forEach(n=>t.addControl(n,new g.p4)),this.form=t}patchData(t){super.patchData(t),t&&t.roles?.forEach(n=>{this.form?.get(n)?.setValue(!0)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Jn=(()=>{class r extends G{constructor(t,n,d,v,D){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.unitService=v,this.b2bUserService=D}save(t,n){return t.get("orgUnit")?.enable(),super.save(t,n)}load(t){return this.b2bUserService.get(t)}update(t,n){return this.b2bUserService.getLoadingStatus(t)}create(t){return this.b2bUserService.getLoadingStatus("")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ni),e.LFG(i.Znh),e.LFG(Kt),e.LFG(h.qn),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Vt=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.b2bUserService=n,this.name$=this.item$.pipe((0,k.U)(d=>d?.name))}getParamKey(){return Y.UY.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Qn=(()=>{class r extends fe{constructor(){super(...arguments),this.featureConfigService=(0,e.f3M)(i.Ru9,{optional:!0})}build(){const t=new g.nJ({});t.setControl("customerId",new g.p4("")),t.setControl("titleCode",new g.p4("")),t.setControl("firstName",new g.p4("",g.kI.required)),t.setControl("lastName",new g.p4("",g.kI.required)),t.setControl("email",new g.p4("",[g.kI.required,C.kal.emailValidator])),t.setControl("orgUnit",new g.nJ({uid:new g.p4(void 0,g.kI.required)})),t.setControl("roles",new g.vC([])),t.setControl("isAssignedToApprovers",new g.p4(!1)),t.get("roles")?.valueChanges.subscribe(n=>{n.includes(i.KOx.APPROVER)?t.get("isAssignedToApprovers")?.enable():(t.get("isAssignedToApprovers")?.disable(),t.get("isAssignedToApprovers")?.reset())}),this.form=t}patchData(t){if(super.patchData(t),t){const n=this.form?.get("roles");t.roles?.forEach(d=>{n.value.includes(d)||n.push(new g.p4(d))}),this.featureConfigService?.isLevel("6.7")&&this.form?.get("email")?.setValue(t?.displayUid)}}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),be=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.userService=v}load(t){return this.userService.load(t),this.userService.get(t)}update(t,n){return delete n.approvers,this.userService.update(t,n),this.userService.getLoadingStatus(t)}create(t){return this.userService.create(t),this.userService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserDetails"}launchDetails(t){null!==t.customerId&&super.launchDetails(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Vt),e.LFG(i.Znh),e.LFG(Qn),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qi=(()=>{class r{constructor(t,n,d,v){this.itemService=t,this.formService=n,this.userService=d,this.userItemService=v,this.form$=this.itemService.current$.pipe((0,P.b)(D=>{this.item||(this.item=D),this.item?.roles?.join()!==D?.roles?.join()&&(this.item={...this.item,...D})}),(0,k.U)(D=>this.formService.getForm(D))),this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}save(t){t.disable();const n=[...this.availableRoles,...this.availableRights].filter(d=>!!t.get(d)?.value);this.userItemService.update(this.item?.customerId??"",{roles:n}).pipe((0,N.q)(1),(0,E.h)(d=>d.status===h.Px.SUCCESS)).subscribe(d=>{this.notify({...this.item,...d.item}),t.enable()})}notify(t){this.messageService.add({message:{key:"orgUnitUserRoles.messages.rolesUpdated",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(Kt),e.Y36(h.o4),e.Y36(be))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-roles"]],viewQuery:function(t,n){if(1&t&&e.Gf(W,5,W),2&t){let d;e.iGM(d=e.CRH())&&(n.messageService=d.first)}},hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:Jn}])],decls:2,vars:3,consts:[[3,"submit",4,"ngIf"],[3,"submit"],["i18nRoot","orgUnitUserRoles",3,"previous","cxFocus"],["card",""],["actions","","routerLink","../../"],[3,"click"],["main","",1,"details",3,"formGroup"],[1,"full-width"],[1,"label-content","required"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",3,"formControlName","change"],[1,"form-check-label"]],template:function(t,n){1&t&&(e.YNc(0,Ft,18,16,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.form$))},dependencies:[_.sg,_.O5,ge,g._Y,g.Wl,g.JJ,g.JL,g.F,A.rH,g.sg,g.u,C.RRe,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Yn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,g.u5,A.Bz,i.bhT,i.LUR,g.UX,C.oPH]}),r})(),jn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[$n,Yn]}),r})();var ne=(()=>{return(r=ne||(ne={}))[r.EXPANDED=0]="EXPANDED",r[r.COLLAPSED=1]="COLLAPSED",ne;var r})();let at=(()=>{class r{constructor(){this.minimalExpanded=1,this.globalToggle$=new z.X(void 0),this.treeToggle$=new z.X(new Map)}initialize(t,n){n&&this.expandUntilActiveNode(t,n)}collapseAll(){this.globalToggle$.next(ne.COLLAPSED),this.treeToggle$.next(new Map)}expandAll(){this.globalToggle$.next(ne.EXPANDED),this.treeToggle$.next(new Map)}isExpanded(t,n){const d=this.treeToggle$.value?.get(t);return(this.globalToggle$.value!==ne.COLLAPSED||d===ne.EXPANDED)&&(d===ne.EXPANDED||(this.globalToggle$.value===ne.EXPANDED||n<this.minimalExpanded)&&d!==ne.COLLAPSED)}toggle(t){const n=this.treeToggle$.value;n.set(t.id??"",this.isExpanded(t.id??"",t.depthLevel)?ne.COLLAPSED:ne.EXPANDED),this.treeToggle$.next(n)}expandUntilActiveNode(t,n){const d=(H,ie)=>!!H.children?.find(or=>or.id===ie||d(or,ie)),v=(H,ie=[])=>(d(H,n)&&ie.push(H.id??""),H.children?.forEach(or=>{v(or,ie)}),ie),D=this.treeToggle$.value;v(t).forEach(H=>{D.get(H)!==ne.EXPANDED&&D.set(H,ne.EXPANDED)}),D!==this.treeToggle$.value&&this.treeToggle$.next(D)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ht=(()=>{class r{constructor(t,n){this.unitTreeService=t,this.orgUnitService=n,this.isUpdatingUnitAllowed=!this.orgUnitService||this.orgUnitService.isUpdatingUnitAllowed()}expandAll(){this.unitTreeService.expandAll()}collapseAll(){this.unitTreeService.collapseAll()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(at),e.Y36(h.qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-list"]],decls:8,vars:7,consts:[[3,"hideAddButton"],["actions",""],[1,"link",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-list",0),e.ynx(1,1),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.expandAll()}),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return n.collapseAll()}),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA(),e.BQk(),e.qZA()),2&t&&(e.Q6J("hideAddButton",!n.isUpdatingUnitAllowed),e.xp6(3),e.hij(" ",e.lcZ(4,3,"orgUnit.tree.expandAll")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"orgUnit.tree.collapseAll")," "))},dependencies:[Pe,i.X$D],encapsulation:2,changeDetection:0}),r})(),Kn=(()=>{class r extends Q{get depthLevel(){return this.model.depthLevel}constructor(t,n){super(t),this.outlet=t,this.unitTreeService=n}get combinedName(){return this.property?`${this.property} (${this.count})`:""}get tabIndex(){return 0}get expanded(){return this.model.expanded}get count(){return this.model.count}toggleItem(t){t.preventDefault(),t.stopPropagation(),this.unitTreeService.toggle(this.model)}get isSwitchable(){return this.count>0}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;const{_field:t,_options:n,_type:d,_i18nRoot:v,...D}=this.outlet.context;return D}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(C.WCT),e.Y36(at))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-toggle-link-cell"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Udp("--cx-depth-level",n.depthLevel)},features:[e.qOj],decls:1,vars:1,consts:[["class","hide-focus-border",3,"routerLink","tabIndex",4,"ngIf"],[1,"hide-focus-border",3,"routerLink","tabIndex"],["class","button tree-item-toggle","type","button",3,"click",4,"ngIf"],[1,"text",3,"title"],["type","button",1,"button","tree-item-toggle",3,"click"],[3,"type"]],template:function(t,n){1&t&&e.YNc(0,Eo,5,10,"a",0),2&t&&e.Q6J("ngIf",n.hasItem)},dependencies:[_.O5,A.rH,C.oJW,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),Vn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,i.bhT,i.LUR,C.QX1,Se]}),r})(),Re=(()=>{class r extends Q{constructor(t,n){super(n),this.b2bUserService=t,this.outlet=n,this.availableRoles=this.b2bUserService.getAllRoles().map(d=>d.toString()),this.availableRights=this.b2bUserService.getAllRights().map(d=>d.toString()),this.b2bUserModel=super.model}hasRight(t){return(t.roles??[]).some(n=>this.availableRights.includes(n))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.o4),e.Y36(C.WCT))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-details-cell"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"property","full-width"],[1,"value"],[4,"ngFor","ngForOf"],["class","property",4,"ngIf"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(t,n){1&t&&e.YNc(0,Mo,5,4,"ng-container",0),2&t&&e.Q6J("ngIf",n.b2bUserModel)},dependencies:[_.sg,_.O5,C.k5W,A.rH,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),zi=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(t,n){if(1&t&&(e.YNc(0,Zo,22,24,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const d=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",n.model.name,"\n")}},dependencies:[_.O5,C.k5W,A.rH,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),Ve=(()=>{class r extends ue{getParamKey(){return"childUnitCode"}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$i=(()=>{class r extends $e{constructor(t,n,d,v){super(t,n,d,v),this.currentItemService=t,this.routingService=n,this.formService=d,this.unitService=v}save(t,n){return t.get("parentOrgUnit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitChildren"}buildRouteParams(t){return{uid:t.parentOrgUnit?.uid}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ve),e.LFG(i.Znh),e.LFG(In),e.LFG(h.qn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ji=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-child-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:$e,useExisting:$i}])],decls:1,vars:1,consts:[["i18nRoot","orgUnit.children",3,"createChildUnit"]],template:function(t,n){1&t&&e._UZ(0,"cx-org-unit-form",0),2&t&&e.Q6J("createChildUnit",!0)},dependencies:[Qt],encapsulation:2,changeDetection:0}),r})(),Yi=(()=>{class r extends ze{save(t,n){return t.get("unit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitCostCenters"}buildRouteParams(t){return{uid:t.unit?.uid}}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ji=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-cost-center-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:ze,useExisting:Yi}])],decls:2,vars:3,consts:[[3,"unitKey"]],template:function(t,n){1&t&&(e._UZ(0,"cx-org-cost-center-form",0),e.ALo(1,"async")),2&t&&e.Q6J("unitKey",e.lcZ(1,1,n.unitKey$))},dependencies:[it,_.Ov],encapsulation:2,changeDetection:0}),r})(),Ki=(()=>{class r extends be{save(t,n){return t.get("orgUnit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitUserList"}buildRouteParams(t){return{uid:t.orgUnit?.uid}}launchDetails(t){const n=this.getDetailsRoute(),d=this.buildRouteParams(t);n&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:n,params:d})}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wt=(()=>{class r{set unitKey(t){t&&(this.form?.get("orgUnit.uid")?.setValue(t),this.form?.get("orgUnit")?.disable())}constructor(t,n,d,v){this.itemService=t,this.unitService=n,this.userProfileFacade=d,this.b2bUserService=v,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,P.b)(D=>{D&&1===D.length&&this.form?.get("orgUnit.uid")?.setValue(D[0]?.id)})),this.titles$=this.userProfileFacade.getTitles(),this.availableRoles=this.b2bUserService.getAllRoles(),this.availableRights=this.b2bUserService.getAllRights()}ngOnInit(){this.unitService.loadList()}updateRoles(t){const{checked:n,value:d}=t.target;n?this.roles.push(new g.p4(d)):this.roles.removeAt(this.roles.value.indexOf(d))}get roles(){return this.form?.get("roles")}get isAssignedToApprovers(){return this.form?.get("isAssignedToApprovers")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn),e.Y36(tt.aT),e.Y36(h.o4))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[e._Bn([{provide:G,useExisting:be},{provide:re,useExisting:Vt}])],decls:2,vars:1,consts:[["i18nRoot","orgUser"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],[3,"control"],["type","text","required","","formControlName","firstName",1,"form-control",3,"placeholder"],["type","text","required","","formControlName","lastName",1,"form-control",3,"placeholder"],["type","email","required","","formControlName","email",1,"form-control",3,"placeholder"],["required","true","formArrayName","roles",1,"full-width"],["class","form-check",4,"ngFor","ngForOf"],["required","true",1,"full-width"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["class","full-width",4,"ngIf"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","checked","disabled","change"],[1,"form-check-label"],[1,"full-width"],["type","checkbox","formControlName","isAssignedToApprovers",1,"form-check-input"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,ca,49,58,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.sg,_.O5,Ge,x.w9,g.Fj,g.Wl,g.JJ,g.JL,g.Q7,g.sg,g.u,g.CE,C.Ahv,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),Vi=(()=>{class r{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ue))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-unit-user-create"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:be,useExisting:Ki}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.users",3,"unitKey"]],template:function(t,n){1&t&&(e._UZ(0,"cx-org-user-form",0),e.ALo(1,"async")),2&t&&e.Q6J("unitKey",e.lcZ(1,1,n.unitKey$))},dependencies:[Wt,_.Ov],encapsulation:2,changeDetection:0}),r})(),Hi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,ye,x.A0,i.bhT,i.LUR,g.UX,C.Fym]}),r})(),Wi=(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(yn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hn=(()=>{class r extends Z{constructor(t,n,d,v){super(t),this.tableService=t,this.unitService=n,this.unitItemService=d,this.unitTreeService=v,this.tableType=T.UNIT}load(){return this.unitService.getTree().pipe((0,R.w)(t=>this.unitItemService.key$.pipe((0,k.U)(n=>(t&&this.unitTreeService.initialize(t,n),t)))),(0,R.w)(t=>this.unitTreeService.treeToggle$.pipe((0,k.U)(()=>t))),(0,k.U)(t=>this.convertListItem(t)))}convertListItem(t,n=0,d={totalResults:0}){let v=[];if(!t)return;const D={...t,count:t.children?.length??0,expanded:this.unitTreeService.isExpanded(t.id??"",n),depthLevel:n,uid:t.id??"",children:[...t.children??[]].sort((H,ie)=>(H.name??"").localeCompare(ie.name??""))};return v.push(D),d.totalResults++,D.children?.forEach(H=>{const ie=this.convertListItem(H,n+1,d)?.values;D.expanded&&ie&&ie.length>0&&(v=v.concat(ie))}),{values:v,pagination:d}}key(){return"uid"}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.qn),e.LFG($e),e.LFG(at))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Wn={cmsComponents:{ManageUnitsListComponent:{component:Ht,providers:[{provide:Z,useExisting:Hn},{provide:G,useExisting:$e}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(ue))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:Qt,canActivate:[h.nw]},{path:`:${Y.UY.unitCode}`,component:Bi,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.details"}},children:[{path:"edit",component:Qt,canActivate:[h.nw]},{path:"children",component:Fi,canActivate:[h.nw],data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.children"}},children:[{path:"create",component:Ji}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.approvers"}},children:[{path:"",component:On},{path:"assign",component:Zi}]},{path:"users",component:zn,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.users"}},children:[{path:"create",component:Vi,canActivate:[h.ds]},{path:`:${Y.UY.userCode}/roles`,component:qi,canActivate:[h.ds]}]},{path:"cost-centers",component:wi,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.costCenters"}},children:[{path:"create",component:ji}]},{path:"addresses",component:Tn,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addresses",resolver:Wi}},children:[{path:"create",component:Bn},{path:`:${Y.UY.addressCode}`,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addressDetails"}},children:[{path:"",component:Ri},{path:"edit",component:Bn}]}]}]}]},guards:[i.a1M,h.uy]}}};function Xi(){return ec}const ec={table:{[T.UNIT]:{cells:["name"],options:{layout:C.dfC.VERTICAL,cells:{name:{dataComponent:Kn},active:{dataComponent:Me},uid:{dataComponent:Q}}},[C.Bst.lg]:{cells:["name","active","uid"]}},[T.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:Ue},cells:{name:{dataComponent:Re},roles:{dataComponent:qn}}}},[T.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:Ue},cells:{name:{dataComponent:zi},active:{dataComponent:Me,linkable:!1}}}},[T.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:Re},actions:{dataComponent:Ae},orgUnit:{dataComponent:Te,linkable:!1}}}},[T.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:Ue},cells:{name:{dataComponent:Re},actions:{dataComponent:Ae},orgUnit:{dataComponent:Te,linkable:!1}}}},[T.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:kt}},pagination:{pageSize:Ue}}},[T.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:Ue},cells:{formattedAddress:{dataComponent:Dn}}}}}};let tc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(Wn),(0,i.x2j)(Xi)],imports:[A.Bz,Vn,Gi,Mi,wn,Zn,jn,Nn,Gn]}),r})(),Xt=(()=>{class r extends re{constructor(t,n){super(t),this.routingService=t,this.userGroupService=n}getParamKey(){return Y.UY.userGroupCode}getItem(t){return this.userGroupService.get(t)}getError(t){return this.userGroupService.getErrorState(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.Znh),e.LFG(h.rs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rc=(()=>{class r extends fe{build(){const t=new g.nJ({});t.setControl("uid",new g.p4("",[g.kI.required,C.kal.noSpecialCharacters])),t.setControl("name",new g.p4("",g.kI.required)),t.setControl("orgUnit",new g.nJ({uid:new g.p4(void 0,g.kI.required)})),this.form=t}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),er=(()=>{class r extends G{constructor(t,n,d,v){super(t,n,d),this.currentItemService=t,this.routingService=n,this.formService=d,this.userGroupService=v}load(t){return this.userGroupService.load(t),this.userGroupService.get(t)}update(t,n){return this.userGroupService.update(t,n),this.userGroupService.getLoadingStatus(n.uid??"")}delete(t){return this.launchList(),this.userGroupService.delete(t),this.userGroupService.getLoadingStatus(t)}create(t){return this.userGroupService.create(t),this.userGroupService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserGroupDetails"}launchList(){this.routingService.go({cxRoute:"orgUserGroup"})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Xt),e.LFG(i.Znh),e.LFG(rc),e.LFG(h.rs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),nc=(()=>{class r{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe((0,R.w)(n=>this.itemService.load(n)),(0,Le.O)({})),this.isInEditMode$=this.itemService.isInEditMode$}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:er}])],decls:2,vars:3,consts:[["i18nRoot","orgUserGroup.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUserGroup.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUserGroup"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],[4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,ko,29,33,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.O5,ge,A.rH,A.Od,gn,we,C.RRe,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),sc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Gc,qe,C.oPH]}),r})(),Xn=(()=>{class r{constructor(t,n){this.itemService=t,this.unitService=n,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe((0,P.b)(d=>{d&&1===d.length&&this.form?.get("orgUnit.uid")?.setValue(d[0]?.id)}))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,n){ot(t,n)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-form"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:er}])],decls:2,vars:1,consts:[["i18nRoot","orgUserGroup"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"placeholder","blur"],[3,"control"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-form",0),e.YNc(1,qr,23,31,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.form))},dependencies:[_.O5,x.w9,g.Fj,g.JJ,g.JL,g.Q7,g.sg,g.u,C.Ahv,Ge,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),oc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,x.A0,i.bhT,i.LUR,g.UX,C.Fym,ye]}),r})(),es=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.userGroupService=n,this.permissionService=d,this.tableType=T.USER_GROUP_PERMISSIONS,this._domainType=T.PERMISSION}load(t,n){return this.userGroupService.getAvailableOrderApprovalPermissions(n,t)}assign(t,n){return this.userGroupService.assignPermission(t,n),this.permissionService.getLoadingStatus(n)}unassign(t,n){return this.userGroupService.unassignPermission(t,n),this.permissionService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.rs),e.LFG(h.$A))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ic=(()=>{class r extends es{constructor(){super(...arguments),this.tableType=T.USER_GROUP_ASSIGNED_PERMISSIONS}load(t,n){return super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),cc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:ic}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),ac=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:es}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"a",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),uc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,A.Bz,se]}),r})(),ut=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-permission-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"]],template:function(t,n){if(1&t&&(e.YNc(0,qo,28,27,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const d=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",n.model.code,"\n")}},dependencies:[_.O5,C.k5W,A.rH,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),lc=(()=>{class r extends Z{constructor(t,n){super(t),this.tableService=t,this.userGroupService=n,this.tableType=T.USER_GROUP}key(){return"uid"}load(t){return this.userGroupService.getList(t).pipe((0,E.h)(i.pTN),(0,k.U)(n=>this.convertUserGroups(n)))}convertUserGroups({pagination:t,sorts:n,values:d}){return{pagination:t,sorts:n,values:d.map(D=>({...D,unit:D.orgUnit}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.rs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dc=(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(Xt))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),tr=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.userGroupService=n,this.userService=d,this.tableType=T.USER_GROUP_USERS,this._domainType=T.USER}load(t,n){return this.userGroupService.getAvailableOrgCustomers(n,t)}assign(t,n){return this.userGroupService.assignMember(t,n),this.userService.getLoadingStatus(n)}unassign(t,n){return this.userGroupService.unassignMember(t,n),this.userService.getLoadingStatus(n)}unassignAllMembers(t){return this.userGroupService.unassignAllMembers(t),this.userGroupService.getLoadingStatus(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.rs),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pc=(()=>{class r extends tr{constructor(){super(...arguments),this.tableType=T.USER_GROUP_ASSIGNED_USERS}load(t,n){return super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ts={cmsComponents:{ManageUserGroupsListComponent:{component:Pe,providers:[{provide:Z,useExisting:lc},{provide:G,useExisting:er}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.list",resolver:dc}}},children:[{path:"create",component:Xn},{path:`:${Y.UY.userGroupCode}`,component:nc,data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.details"}},children:[{path:"edit",component:Xn},{path:"users",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.users"}},children:[{path:"",component:(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-assigned-user-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:pc}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})()},{path:"assign",component:(()=>{class r{constructor(t,n){this.currentUserGroupService=t,this.userGroupUserListService=n}unassignAll(){this.currentUserGroupService.key$.pipe((0,V.P)(),(0,R.w)(t=>this.userGroupUserListService.unassignAllMembers(t).pipe((0,N.q)(1),(0,E.h)(n=>n.status===h.Px.SUCCESS)))).subscribe(t=>{this.notify(t.item)})}notify(t){this.subList.messageService.add({message:{key:"orgUserGroupUsers.unassignAllConfirmation",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Xt),e.Y36(tr))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-user-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(Qr,5),2&t){let d;e.iGM(d=e.CRH())&&(n.subList=d.first)}},hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:tr}])],decls:8,vars:7,consts:[[3,"previous"],["subList",""],["actions","",1,"link",3,"click"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0,1)(2,"button",2),e.NdJ("click",function(){return n.unassignAll()}),e._uU(3),e.ALo(4,"cxTranslate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6),e.ALo(7,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(3),e.hij(" ",e.lcZ(4,3,"orgUserGroupUsers.unassignAll")," "),e.xp6(3),e.hij(" ",e.lcZ(7,5,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})()}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.permissions"}},children:[{path:"",component:cc},{path:"assign",component:ac}]}]}]},guards:[i.a1M,h.uy]}}};function B(){return la}const la={table:{[T.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:Q,cells:{name:{dataComponent:ke},uid:{dataComponent:Q},unit:{dataComponent:Te}}}},[T.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Re},actions:{dataComponent:Ae}},pagination:{pageSize:Ue}}},[T.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Re},actions:{dataComponent:Ae}}}},[T.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:ut},actions:{dataComponent:Ae}}}},[T.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:ut},actions:{dataComponent:Ae}},pagination:{pageSize:Ue}}}}};let Je=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,i.LUR,A.Bz,se]}),r})(),rr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)(ts),(0,i.x2j)(B)],imports:[st,sc,oc,uc,Je]}),r})(),He=(()=>{class r extends oe{constructor(t,n){super(t),this.tableService=t,this.userService=n,this.tableType=T.USER_APPROVERS,this._domainType=T.USER_GROUP}load(t,n){return this.userService.getApprovers(n,t)}assign(t,n){return this.userService.assignApprover(t,n),this.userService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignApprover(t,n),this.userService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),mc=(()=>{class r extends He{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_APPROVERS}load(t,n){return super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_c=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:mc}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),rs=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:He}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),fc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,i.LUR,A.Bz,se]}),r})(),Uc=(()=>{class r extends fe{build(){const t=new g.nJ({});t.setControl("customerId",new g.p4("")),t.setControl("password",new g.p4("",[g.kI.required,C.kal.passwordValidator])),t.setControl("confirmPassword",new g.p4("",[g.kI.required,C.kal.passwordValidator])),t.setValidators(C.kal.passwordsMustMatch("password","confirmPassword")),this.form=t}getForm(t){return this.form=null,super.getForm(t)}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hc=(()=>{class r{constructor(t,n,d){this.itemService=t,this.formService=n,this.messageService=d,this.form$=this.itemService.current$.pipe((0,k.U)(v=>this.formService.getForm(v)))}save(t){this.itemService.current$.pipe((0,V.P)(),(0,R.w)(n=>this.itemService.save(t,t.value.customerId).pipe((0,N.q)(1),(0,E.h)(d=>d.status===h.Px.SUCCESS),(0,k.U)(d=>({...n,...d.item}))))).subscribe(n=>{this.notify(n),this.itemService.launchDetails(n)})}notify(t){this.messageService.add({message:{key:"orgUser.messages.updatePassword",params:{item:t}}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(be),e.Y36(Uc),e.Y36(W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-change-password-form"]],hostAttrs:[1,"content-wrapper"],decls:2,vars:3,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],["i18nRoot","orgUser.password",3,"previous","cxFocus"],["actions","",1,"button","primary"],["actions","","routerLink","../","type","button",1,"link"],["main","",1,"details"],[1,"full-width"],[1,"label-content"],["required","true","type","password","name","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"control"],["required","true","type","password","name","confirmPassword","formControlName","confirmPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"]],template:function(t,n){1&t&&(e.YNc(0,Yr,25,31,"form",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.form$))},dependencies:[_.O5,A.rH,g._Y,g.Fj,g.JJ,g.JL,g.Q7,g.sg,g.u,C.Ahv,ge,C.RRe,C.X84,_.Ov,i.X$D],encapsulation:2,changeDetection:0}),r})(),da=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,A.Bz,x.A0,i.bhT,i.LUR,g.UX,C.Fym,me,C.oPH,C.Ird]}),r})(),We=(()=>{class r{constructor(t,n){this.itemService=t,this.b2bUserService=n,this.model$=this.itemService.key$.pipe((0,R.w)(d=>this.itemService.load(d)),(0,Le.O)({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed(),this.availableRoles=this.b2bUserService.getAllRoles().map(d=>d.toString()),this.availableRights=this.b2bUserService.getAllRights().map(d=>d.toString())}hasRight(t){return(t.roles??[]).some(n=>this.availableRights.includes(n))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(G),e.Y36(h.o4))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-details"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:G,useExisting:be}])],decls:2,vars:3,consts:[["i18nRoot","orgUser.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUser.details",3,"cxFocus"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","customerId","i18nRoot","orgUser",4,"ngIf"],["info","","i18nRoot","orgUser"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"property","full-width"],[4,"cxFeatureLevel"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","value",3,"routerLink",4,"ngIf","ngIfElse"],["showOrgUnitValueWithoutNavigation",""],["class","link",3,"disabled","routerLink",4,"ngIf"],["main","",1,"link-list"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","customerId","i18nRoot","orgUser"],[3,"innerText",4,"ngIf"],[3,"innerText"],[1,"value",3,"routerLink"],[1,"orgUnit"],[1,"link",3,"routerLink"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(t,n){1&t&&(e.YNc(0,cn,37,27,"cx-org-card",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.model$))},dependencies:[_.sg,_.O5,ge,A.rH,A.Od,je,we,Ce,C.RRe,i.EJv,_.Ov,i.l2T,i.X$D],encapsulation:2,changeDetection:0}),r})(),lt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,me,A.Bz,i.bhT,i.LUR,Ke,qe,De,C.oPH,i.GSh]}),r})(),nr=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.userService=n,this.permissionService=d,this.tableType=T.USER_PERMISSIONS,this._domainType=T.PERMISSION}load(t,n){return this.userService.getPermissions(n,t)}assign(t,n){return this.userService.assignPermission(t,n),this.permissionService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignPermission(t,n),this.permissionService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.o4),e.LFG(h.$A))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vc=(()=>{class r extends nr{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_PERMISSIONS}load(t,n){return super.load(t,n).pipe((0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Sc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:vc}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Ac=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:nr}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Cc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,i.LUR,A.Bz,se]}),r})(),xc=(()=>{class r extends oe{constructor(t,n,d){super(t),this.tableService=t,this.userService=n,this.userGroupService=d,this.tableType=T.USER_USER_GROUPS,this._domainType=T.USER_GROUP}load(t,n){return this.userService.getUserGroups(n,t)}assign(t,n){return this.userService.assignUserGroup(t,n),this.userGroupService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignUserGroup(t,n),this.userGroupService.getLoadingStatus(n)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.o4),e.LFG(h.rs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Lc=(()=>{class r extends xc{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_USER_GROUPS}load(t,n){return super.load(t,n).pipe((0,E.h)(d=>Boolean(d)),(0,k.U)(d=>this.filterSelected(d)))}}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pa=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-assigned-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:Lc}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list")(1,"a",0),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"organization.assign")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Xe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[e._Bn([{provide:Z,useExisting:xc}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(t,n){1&t&&(e.TgZ(0,"cx-org-sub-list",0)(1,"button",1),e._uU(2),e.ALo(3,"cxTranslate"),e.qZA()()),2&t&&(e.Q6J("previous",!1),e.xp6(2),e.hij(" ",e.lcZ(3,2,"organization.done")," "))},dependencies:[A.rH,K,i.X$D],encapsulation:2,changeDetection:0}),r})(),Qe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Se,i.LUR,A.Bz,se]}),r})(),ns=(()=>{class r extends Q{}return r.\u0275fac=function(){let o;return function(n){return(o||(o=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["cx-org-user-group-details-cell"]],features:[e.qOj],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(t,n){if(1&t&&(e.YNc(0,an,21,22,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e._uU(3),e.qZA()),2&t){const d=e.MAs(1);e.xp6(2),e.Q6J("cxPopover",d)("cxPopoverOptions",e.DdM(3,Be)),e.xp6(1),e.hij(" ",null==n.model?null:n.model.name,"\n")}},dependencies:[C.k5W,A.rH,i.X$D,i.l2T],encapsulation:2,changeDetection:0}),r})(),zc=(()=>{class r extends Z{constructor(t,n){super(t),this.tableService=t,this.userService=n,this.tableType=T.USER}key(){return"customerId"}load(t){return this.userService.getList(t).pipe((0,E.h)(i.pTN),(0,k.U)(n=>this.convertUsers(n)))}convertUsers({pagination:t,sorts:n,values:d}){const v=this.userService.getAllRoles();return{pagination:t,sorts:n,values:d.map(H=>({...H,unit:H.orgUnit,roles:H.roles?.filter(ie=>v.includes(ie))}))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(C.wmr),e.LFG(h.o4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $c={cmsComponents:{ManageUsersListComponent:{component:Pe,providers:[{provide:Z,useExisting:zc},{provide:G,useExisting:be}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.list",resolver:(()=>{class r extends i.OK4{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i.D7D),e.LFG(Vt))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}},children:[{path:"create",component:Wt,canActivate:[h.ds]},{path:`:${Y.UY.userCode}`,component:We,data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.details"}},children:[{path:"edit",component:Wt,canActivate:[h.ds]},{path:"change-password",component:hc,canActivate:[h.ds]},{path:"user-groups",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.userGroups"}},children:[{path:"",component:pa},{path:"assign",component:Xe}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.approvers"}},children:[{path:"",component:_c},{path:"assign",component:rs}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.permissions"}},children:[{path:"",component:Sc},{path:"assign",component:Ac}]}]}]},guards:[i.a1M,h.uy]}}};function ga(){return Jc}const dt={dataComponent:Ae},Ec={pageSize:Ue},Jc={table:{[T.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:ke},active:{dataComponent:Me},uid:{dataComponent:Q},roles:{dataComponent:ii},unit:{dataComponent:Te}}}},[T.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Re},actions:dt}}},[T.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Re},actions:dt},pagination:Ec}},[T.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ns},actions:dt}}},[T.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ns},actions:dt},pagination:Ec}},[T.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:ut},actions:dt}}},[T.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:ut},actions:dt},pagination:Ec}}}};let Qc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[(0,i.i51)($c),(0,i.x2j)(ga)],imports:[Se,da,lt,Hi,Cc,Qe,fc]}),r})(),sr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[aa,Ln,tc,rr,Qc,bi]}),r})()},8105:(sa,ir,b)=>{b.d(ir,{$A:()=>mu,Ar:()=>Bu,BI:()=>Zu,EK:()=>pt,FA:()=>Cu,Fn:()=>Iu,IW:()=>Mu,Mi:()=>Su,NL:()=>wu,Px:()=>Xe,UA:()=>xu,Vs:()=>mt,WQ:()=>Du,Wl:()=>Eu,XK:()=>Pu,aQ:()=>m,cI:()=>Au,ds:()=>Qa,f9:()=>$,g0:()=>Gu,gL:()=>M,gW:()=>Ru,hD:()=>$a,hS:()=>_t,ht:()=>pu,i:()=>yu,l6:()=>Lu,lp:()=>Tu,nw:()=>Ja,o4:()=>ns,pH:()=>yc,qZ:()=>bu,qn:()=>za,rV:()=>Fu,rs:()=>_u,tJ:()=>du,uy:()=>ft,zb:()=>Ou});var e=b(4650),i=b(5955),_=b(2198),g=b(4850),A=b(7770),k=b(519),pe=b(7568),R=b(2994),E=b(7545),P=b(7221),V=b(4002),N=b(1709),Le=b(2986),cr=b(7168),ar=b(5778),C=b(5154),Ee=b(9309),z=b(341),ce=b(5409),q=b(1086),F=b(5254),Oe=b(8514),Y=b(6053),h=b(5359),x=b(5024),tt=b(5391);class pt{}let gt=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}create(c,l){return this.adapter.create(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}getList(c,l){return this.adapter.loadList(c,l)}getApprovers(c,l,u){return this.adapter.loadApprovers(c,l,u)}assignApprover(c,l,u){return this.adapter.assignApprover(c,l,u)}unassignApprover(c,l,u){return this.adapter.unassignApprover(c,l,u)}getPermissions(c,l,u){return this.adapter.loadPermissions(c,l,u)}assignPermission(c,l,u){return this.adapter.assignPermission(c,l,u)}unassignPermission(c,l,u){return this.adapter.unassignPermission(c,l,u)}getUserGroups(c,l,u){return this.adapter.loadUserGroups(c,l,u)}assignUserGroup(c,l,u){return this.adapter.assignUserGroup(c,l,u)}unassignUserGroup(c,l,u){return this.adapter.unassignUserGroup(c,l,u)}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(pt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class mt{}let rt=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}getList(c,l){return this.adapter.loadList(c,l)}create(c,l){return this.adapter.create(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(mt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class _t{}let U=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}getList(c,l){return this.adapter.loadList(c,l)}create(c,l){return this.adapter.create(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}getBudgets(c,l,u){return this.adapter.loadBudgets(c,l,u)}assignBudget(c,l,u){return this.adapter.assignBudget(c,l,u)}unassignBudget(c,l,u){return this.adapter.unassignBudget(c,l,u)}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(_t))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class M{}let p=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}create(c,l){return this.adapter.create(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}getList(c){return this.adapter.loadList(c)}getApprovalProcesses(c){return this.adapter.loadApprovalProcesses(c)}getTree(c){return this.adapter.loadTree(c)}getUsers(c,l,u,f){return this.adapter.loadUsers(c,l,u,f)}assignRole(c,l,u){return this.adapter.assignRole(c,l,u)}unassignRole(c,l,u){return this.adapter.unassignRole(c,l,u)}assignApprover(c,l,u,f){return this.adapter.assignApprover(c,l,u,f)}unassignApprover(c,l,u,f){return this.adapter.unassignApprover(c,l,u,f)}getAddresses(c,l){return this.adapter.loadAddresses(c,l)}createAddress(c,l,u){return this.adapter.createAddress(c,l,u)}updateAddress(c,l,u,f){return this.adapter.updateAddress(c,l,u,f)}deleteAddress(c,l,u){return this.adapter.deleteAddress(c,l,u)}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(M))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class m{}let S=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}getList(c,l){return this.adapter.loadList(c,l)}create(c,l){return this.adapter.create(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}getTypes(){return this.adapter.loadTypes()}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(m))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class ${}let os=(()=>{class a{constructor(c){this.adapter=c}get(c,l){return this.adapter.load(c,l)}getList(c,l){return this.adapter.loadList(c,l)}getAvailableOrderApprovalPermissions(c,l,u){return this.adapter.loadAvailableOrderApprovalPermissions(c,l,u)}getAvailableOrgCustomers(c,l,u){return this.adapter.loadAvailableOrgCustomers(c,l,u)}create(c,l){return this.adapter.create(c,l)}delete(c,l){return this.adapter.delete(c,l)}update(c,l,u){return this.adapter.update(c,l,u)}assignMember(c,l,u){return this.adapter.assignMember(c,l,u)}assignOrderApprovalPermission(c,l,u){return this.adapter.assignOrderApprovalPermission(c,l,u)}unassignMember(c,l,u){return this.adapter.unassignMember(c,l,u)}unassignAllMembers(c,l){return this.adapter.unassignAllMembers(c,l)}unassignOrderApprovalPermission(c,l,u){return this.adapter.unassignOrderApprovalPermission(c,l,u)}}return a.\u0275fac=function(c){return new(c||a)(e.LFG($))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),ft=(()=>{class a{constructor(c,l,u){this.userAccountFacade=c,this.routingService=l,this.globalMessageService=u}canActivate(){return this.userAccountFacade.get().pipe((0,_.h)(c=>!!c&&Object.keys(c).length>0),(0,g.U)(c=>c?.roles),(0,g.U)(c=>{const l=Array.isArray(c)&&c.includes(i.KOx.ADMIN);return l||(this.routingService.go({cxRoute:"organization"}),this.globalMessageService.add({key:"organization.notification.noSufficientPermissions"},i.xUg.MSG_TYPE_WARNING)),l}))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(Ee.gf),e.LFG(i.Znh),e.LFG(i.IWp))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})();const is="organization",X="budget-entities",Ut="budget-list",as="costCenter",he="costCenter-entities",ht="costCenter-list",vt="costCenter-assigned-budgets",us="permission",J="permission-entities",St="permission-list",At="permission-types",Ct="permission-types-list",ls="orgUnit",xt="orgUnitNode-list",ve="orgUnit-entities",Lt="orgUnit-tree",Et="orgUnit-approval-processes",nt="orgUnit-assigned-users",It="tree",yt="approvalProcesses",ae="availableOrgUnitNodes",ds="b2bUser",w="b2bUser-entities",Pt="b2bUser-list",Dt="b2bUser-approvers",Tt="b2bUser-permissions",bt="b2bUser-user-groups",ur="userGroup",j="userGroup-entities",Bt="userGroup-list",Gt="userGroup-available-order-approval-permissions",Mt="userGroup-available-org-customers",_e="addresses-entities",Rt="addresses-list",lr="[Budget] Load Budget Data",dr="[Budget] Load Budget Data Success",pr="[Budget] Load Budgets",gr="[Budget] Load Budgets Success",mr="[Budget] Create Budget",_r="[Budget] Create Budget Success",fr="[Budget] Update Budget",Ur="[Budget] Update Budget Success";class fs extends i.kPG.EntityLoadAction{constructor(s){super(X,s.budgetCode),this.payload=s,this.type=lr}}class Us extends i.kPG.EntityFailAction{constructor(s){super(X,s.budgetCode,s.error),this.payload=s,this.type="[Budget] Load Budget Data Fail"}}class Ot extends i.kPG.EntitySuccessAction{constructor(s){super(X,Array.isArray(s)?s.map(c=>c?.code??""):s?.code??""),this.payload=s,this.type=dr}}class hs extends i.kPG.EntityLoadAction{constructor(s){super(Ut,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=pr}}class vs extends i.kPG.EntityFailAction{constructor(s){super(Ut,i.kPG.serializeSearchConfig(s.params),s.error),this.payload=s,this.type="[Budget] Load Budgets Fail"}}class Ss extends i.kPG.EntitySuccessAction{constructor(s){super(Ut,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=gr}}class As extends i.kPG.EntityLoadAction{constructor(s){super(X,s.budget.code??null),this.payload=s,this.type=mr}}class Cs extends i.kPG.EntityFailAction{constructor(s){super(X,s.budgetCode,s.error),this.payload=s,this.type="[Budget] Create Budget Fail"}}class xs extends i.kPG.EntitySuccessAction{constructor(s){super(X,s.code??null,s),this.payload=s,this.type=_r}}class Ls extends i.kPG.EntityLoadAction{constructor(s){super(X,s.budget.code??""),this.payload=s,this.type=fr}}class Es extends i.kPG.EntityFailAction{constructor(s){super(X,s.budgetCode,s.error),this.payload=s,this.type="[Budget] Update Budget Fail"}}class Is extends i.kPG.EntitySuccessAction{constructor(s){super(X,s.code??"",s),this.payload=s,this.type=Ur}}const hr="[B2BUnit] Load B2BUnit Data",vr="[B2BUnit] Load B2BUnit Data Success",Sr="[B2BUnitNode] Load B2BUnitNodes",Ar="[B2BUnit] Create B2BUnitNode",Cr="[B2BUnit] Create B2BUnitNode Success",xr="[B2BUnit] Update B2BUnitNode",te="[B2BUnit] Update B2BUnitNode Success",Lr="[B2BUnitNode] Load Tree",Be="[B2BApprovalProcess] Load Approval Processes",Ie="[B2BUnit] Load Users",Er="[B2BUnit] Load Users success",ee="[B2BUnit] Assign Role",Ir="[B2BUnit] Assign Role success",yr="[B2BUnit] Unassign Role",Pr="[B2BUnit] Unassign Role success",Dr="[B2BUnit] Assign Approver",Tr="[B2BUnit] Assign Approver success",br="[B2BUnit] Unassign Approver",Br="[B2BUnit] Unassign Approver success",Gr="[B2BUnit] Create address",Mr="[B2BUnit] Update address",Rr="[B2BUnit] Delete address",Or="[B2BUnit] Load addresses success";class Zr extends i.kPG.EntityLoadAction{constructor(s){super(ve,s.orgUnitId),this.payload=s,this.type=hr}}class Hs extends i.kPG.EntityFailAction{constructor(s){super(ve,s.orgUnitId,s.error),this.payload=s,this.type="[B2BUnit] Load B2BUnit Data Fail"}}class Ws extends i.kPG.EntitySuccessAction{constructor(s){super(ve,Array.isArray(s)?s.map(c=>c?.uid??""):s?.uid??""),this.payload=s,this.type=vr}}class Xs extends i.kPG.EntityLoadAction{constructor(s){super(xt,ae),this.payload=s,this.type=Sr}}class eo extends i.kPG.EntityFailAction{constructor(s){super(xt,ae,s.error),this.payload=s,this.type="[B2BUnitNode] Load B2BUnitNodes Fail"}}class to extends i.kPG.EntitySuccessAction{constructor(s){super(xt,ae),this.payload=s,this.type="[B2BUnitNode] Load B2BUnitNodes Success"}}class ro extends i.kPG.EntityLoadAction{constructor(s){super(ve,s.unit.uid??null),this.payload=s,this.type=Ar}}class no extends i.kPG.EntityFailAction{constructor(s){super(ve,s.unitCode,s.error),this.payload=s,this.type="[B2BUnit] Create B2BUnitNode Fail"}}class so extends i.kPG.EntitySuccessAction{constructor(s){super(ve,s.uid??null,s),this.payload=s,this.type=Cr}}class oo extends i.kPG.EntityLoadAction{constructor(s){super(ve,s.unit.uid??""),this.payload=s,this.type=xr}}class io extends i.kPG.EntityFailAction{constructor(s){super(ve,s.unitCode,s.error),this.payload=s,this.type="[B2BUnit] Update B2BUnitNode Fail"}}class co extends i.kPG.EntitySuccessAction{constructor(s){super(ve,s.uid??"",s),this.payload=s,this.type=te}}class ao extends i.kPG.EntityLoadAction{constructor(s){super(Lt,It),this.payload=s,this.type=Lr}}class uo extends i.kPG.EntityFailAction{constructor(s){super(Lt,It,s.error),this.payload=s,this.type="[B2BUnitNode] Load Tree Fail"}}class lo extends i.kPG.EntitySuccessAction{constructor(s){super(Lt,It),this.payload=s,this.type="[B2BUnitNode] Load Tree Success"}}class po extends i.kPG.EntityLoadAction{constructor(s){super(Et,yt),this.payload=s,this.type=Be}}class go extends i.kPG.EntityFailAction{constructor(s){super(Et,yt,s.error),this.payload=s,this.type="[B2BApprovalProcess] Load Approval Processes Fail"}}class mo extends i.kPG.EntitySuccessAction{constructor(s){super(Et,yt),this.payload=s,this.type="[B2BApprovalProcess] Load Approval Processes Success"}}class _o extends i.kPG.EntityLoadAction{constructor(s){super(nt,i.kPG.serializeSearchConfig(s.params,`${s.orgUnitId},${s.roleId}`)),this.payload=s,this.type=Ie}}class fo extends i.kPG.EntityRemoveAction{constructor(s){super(nt,i.kPG.serializeSearchConfig(s.params,`${s.orgUnitId},${s.roleId}`)),this.payload=s,this.type="[B2BUnit] Clear Assigned Users"}}class Uo extends i.kPG.EntityFailAction{constructor(s){super(nt,i.kPG.serializeSearchConfig(s.params,`${s.orgUnitId},${s.roleId}`),s.error),this.payload=s,this.type="[B2BUnit] Load Users fail"}}class ho extends i.kPG.EntitySuccessAction{constructor(s){super(nt,i.kPG.serializeSearchConfig(s.params,`${s.orgUnitId},${s.roleId}`)),this.payload=s,this.type=Er}}class Zt extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomerId),this.payload=s,this.type=ee}}class vo extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUnit] Assign Role fail"}}class So extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.uid,s),this.payload=s,this.type=Ir}}class Ao extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomerId),this.payload=s,this.type=yr}}class Co extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUnit] Unassign Role fail"}}class xo extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.uid,s),this.payload=s,this.type=Pr}}class Ft extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomerId),this.payload=s,this.type=Dr}}class Lo extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUnit] Assign Approver fail"}}class Eo extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.uid,s),this.payload=s,this.type=Tr}}class Io extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomerId),this.payload=s,this.type=br}}class yo extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUnit] Unassign Approver fail"}}class Po extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.uid,s),this.payload=s,this.type=Br}}class Do extends i.kPG.EntityLoadAction{constructor(s){super(_e,s.address.id??null),this.payload=s,this.type=Gr}}class To extends i.kPG.EntityFailAction{constructor(s){super(_e,s.addressId,s.error),this.payload=s,this.type="[B2BUnit] Create address fail"}}class Fr extends i.kPG.EntitySuccessAction{constructor(s){super(_e,s.id??null,s),this.payload=s,this.type="[B2BUnit] Create address success"}}class bo extends i.kPG.EntityLoadAction{constructor(s){super(_e,s.address.id??""),this.payload=s,this.type=Mr}}class Bo extends i.kPG.EntityFailAction{constructor(s){super(_e,s.addressId,s.error),this.payload=s,this.type="[B2BUnit] Update address fail"}}class Go extends i.kPG.EntitySuccessAction{constructor(s){super(_e,s.id??"",s),this.payload=s,this.type="[B2BUnit] Update address success"}}class Mo extends i.kPG.EntityLoadAction{constructor(s){super(_e,s.addressId),this.payload=s,this.type=Rr}}class Ro extends i.kPG.EntityFailAction{constructor(s){super(_e,s.addressId,s.error),this.payload=s,this.type="[B2BUnit] Delete address fail"}}class Oo extends i.kPG.EntityRemoveAction{constructor(s){super(_e,s.id??""),this.payload=s,this.type="[B2BUnit] Delete address success"}}class Zo extends i.kPG.EntitySuccessAction{constructor(s){super(_e,Array.isArray(s)?s.map(c=>c?.id??""):s?.id??""),this.payload=s,this.type="[B2BUnit] Load address success"}}class Fo extends i.kPG.EntitySuccessAction{constructor(s){super(Rt,s.orgUnitId),this.payload=s,this.type=Or}}const wr="[UserGroup] Load UserGroup Data",kr="[UserGroup] Load UserGroup Data Success",Nr="[UserGroup] Load UserGroups",qr="[UserGroup] Load UserGroups Success",zr="[UserGroup] Load Permissions Data",$r="[UserGroup] Load Permissions Data Success",Jr="[UserGroup] Load Customers Data",Qr="[UserGroup] Load Customers Data Success",Yr="[UserGroup] Create UserGroup",jr="[UserGroup] Create UserGroup Success",Kr="[UserGroup] Assign Member",Vr="[UserGroup] Assign Member Success",Hr="[UserGroup] Assign Permissions",Wr="[UserGroup] Assign Permissions Success",Xr="[UserGroup] Update UserGroup",en="[UserGroup] Update UserGroup Success",tn="[UserGroup] Delete UserGroup",rn="[UserGroup] Unassign Members",nn="[UserGroup] Unassign Members Success",sn="[UserGroup] Unassign Member",on="[UserGroup] Unassign Member Success",cn="[UserGroup] Unassign Permission",an="[UserGroup] Unassign Permission Success";class re extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroupId),this.payload=s,this.type=wr}}class fe extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[UserGroup] Load UserGroup Data Fail"}}class G extends i.kPG.EntitySuccessAction{constructor(s){super(j,Array.isArray(s)?s.map(c=>c?.uid??""):s?.uid??""),this.payload=s,this.type=kr}}class Wo extends i.kPG.EntityLoadAction{constructor(s){super(Bt,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=Nr}}class W extends i.kPG.EntityFailAction{constructor(s){super(Bt,i.kPG.serializeSearchConfig(s.params),s.error),this.payload=s,this.type="[UserGroup] Load UserGroups Fail"}}class Xo extends i.kPG.EntitySuccessAction{constructor(s){super(Bt,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=qr}}let Ye=class extends i.kPG.EntityLoadAction{constructor(s){super(Gt,i.kPG.serializeSearchConfig(s.params,s.userGroupId)),this.payload=s,this.type=zr}},wt=class extends i.kPG.EntityFailAction{constructor(s){super(Gt,i.kPG.serializeSearchConfig(s.params,s.userGroupId),s.error),this.payload=s,this.type="[UserGroup] Load Permissions Data Fail"}},un=class extends i.kPG.EntitySuccessAction{constructor(s){super(Gt,i.kPG.serializeSearchConfig(s.params,s.userGroupId)),this.payload=s,this.type=$r}};class ei extends i.kPG.EntityLoadAction{constructor(s){super(Mt,i.kPG.serializeSearchConfig(s.params,s.userGroupId)),this.payload=s,this.type=Jr}}class ti extends i.kPG.EntityFailAction{constructor(s){super(Mt,i.kPG.serializeSearchConfig(s.params,s.userGroupId),s.error),this.payload=s,this.type="[UserGroup] Load Customers Data Fail"}}class ri extends i.kPG.EntitySuccessAction{constructor(s){super(Mt,i.kPG.serializeSearchConfig(s.params,s.userGroupId)),this.payload=s,this.type=Qr}}class ni extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroup.uid??null),this.payload=s,this.type=Yr}}class Ze extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[UserGroup] Create UserGroup Fail"}}class ge extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid??null,s),this.payload=s,this.type=jr}}class me extends i.kPG.EntityLoadAction{constructor(s){super(w,s.customerId),this.payload=s,this.type=Kr}}class si extends i.kPG.EntityFailAction{constructor(s){super(w,s.customerId,s.error),this.payload=s,this.type="[UserGroup] Assign Member Fail"}}class Ge extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.customerId,s),this.payload=s,this.type=Vr}}class ye extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permissionUid),this.payload=s,this.type=Hr}}class Fe extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionUid,s.error),this.payload=s,this.type="[UserGroup] Assign Permissions Fail"}}class Z extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.permissionUid,s),this.payload=s,this.type=Wr}}class Pe extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroup.uid??""),this.payload=s,this.type=Xr}}class Se extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[UserGroup] Update UserGroup Fail"}}class Q extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid??"",s),this.payload=s,this.type=en}}class Ae extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroupId),this.payload=s,this.type=tn}}class K extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[UserGroup] Delete UserGroup Fail"}}class se extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid??"",s),this.payload=s,this.type="[UserGroup] Delete UserGroup Success"}}class st extends i.kPG.EntityLoadAction{constructor(s){super(w,s.customerId),this.payload=s,this.type=sn}}class Ue extends i.kPG.EntityFailAction{constructor(s){super(w,s.customerId,s.error),this.payload=s,this.type="[UserGroup] Unassign Member Fail"}}class we extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.customerId,s),this.payload=s,this.type=on}}class ln extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroupId),this.payload=s,this.type=rn}}class dn extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[UserGroup] Unassign Members Fail"}}class je extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid??"",s),this.payload=s,this.type=nn}}class pn extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permissionUid),this.payload=s,this.type=cn}}class Ke extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionUid,s.error),this.payload=s,this.type="[UserGroup] Unassign Permission Fail"}}class gn extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.permissionUid,s),this.payload=s,this.type=an}}const Ce="[Permission] Load Permission Data",oe="[Permission] Load Permission Data Success",ke="[Permission] Load Permissions",mn="[Permission] Load Permissions Success",_n="[Permission] Create Permission",Me="[Permission] Create Permission Success",Te="[Permission] Update Permission",T="[Permission] Update Permission Success",kt="[Permission Types] Load Permission Types";class Nt extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permissionCode),this.payload=s,this.type=Ce}}class ui extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionCode,s.error),this.payload=s,this.type="[Permission] Load Permission Data Fail"}}class Ne extends i.kPG.EntitySuccessAction{constructor(s){super(J,Array.isArray(s)?s.map(c=>c?.code??""):s?.code??""),this.payload=s,this.type=oe}}class li extends i.kPG.EntityLoadAction{constructor(s){super(St,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=ke}}class ot extends i.kPG.EntityFailAction{constructor(s){super(St,i.kPG.serializeSearchConfig(s.params),s.error),this.payload=s,this.type="[Permission] Load Permissions Fail"}}class fn extends i.kPG.EntitySuccessAction{constructor(s){super(St,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=mn}}class Rc extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permission.code??null),this.payload=s,this.type=_n}}class Oc extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionCode,s.error),this.payload=s,this.type="[Permission] Create Permission Fail"}}class di extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.code??null,s),this.payload=s,this.type=Me}}class pi extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permission.code??""),this.payload=s,this.type=Te}}class gi extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionCode,s.error),this.payload=s,this.type="[Permission] Update Permission Fail"}}class mi extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.code??"",s),this.payload=s,this.type=T}}class qe extends i.kPG.EntityLoadAction{constructor(){super(Ct,At),this.type=kt}}class _i extends i.kPG.EntityFailAction{constructor(s){super(Ct,At,s.error),this.payload=s,this.type="[Permission Types] Load Permission Types Fail"}}class fi extends i.kPG.EntitySuccessAction{constructor(s){super(Ct,At),this.payload=s,this.type="[Permission Types] Load Permission Types Success"}}const qt="[CostCenter] Load CostCenter Data",zt="[CostCenter] Load CostCenter Data Success",Un="[CostCenter] Load CostCenters",hn="[CostCenter] Load CostCenters Success",vn="[CostCenter] Create CostCenter",Sn="[CostCenter] Create CostCenter Success",ze="[CostCenter] Update CostCenter",it="[CostCenter] Update CostCenter Success",Si="[CostCenter] Load Budgets",Ai="[CostCenter] Load Budgets success",An="[CostCenter] Assign Budget",Cn="[CostCenter] Assign Budget success",xn="[CostCenter] Unassign Budget",Ln="[CostCenter] Unassign Budget success";class xe extends i.kPG.EntityLoadAction{constructor(s){super(he,s.costCenterCode),this.payload=s,this.type=qt}}class Li extends i.kPG.EntityFailAction{constructor(s){super(he,s.costCenterCode,s.error),this.payload=s,this.type="[CostCenter] Load CostCenter Data Fail"}}class ct extends i.kPG.EntitySuccessAction{constructor(s){super(he,Array.isArray(s)?s.map(c=>c?.code??""):s?.code??""),this.payload=s,this.type=zt}}class Ei extends i.kPG.EntityLoadAction{constructor(s){super(ht,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=Un}}class Ii extends i.kPG.EntityFailAction{constructor(s){super(ht,i.kPG.serializeSearchConfig(s.params),s.error),this.payload=s,this.type="[CostCenter] Load CostCenters Fail"}}class En extends i.kPG.EntitySuccessAction{constructor(s){super(ht,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=hn}}class yi extends i.kPG.EntityLoadAction{constructor(s){super(he,s.costCenter.code??null),this.payload=s,this.type=vn}}class Zc extends i.kPG.EntityFailAction{constructor(s){super(he,s.costCenterCode,s.error),this.payload=s,this.type="[CostCenter] Create CostCenter Fail"}}class Fc extends i.kPG.EntitySuccessAction{constructor(s){super(he,s.code??null,s),this.payload=s,this.type=Sn}}class Pi extends i.kPG.EntityLoadAction{constructor(s){super(he,s.costCenter.code??""),this.payload=s,this.type=ze}}class Di extends i.kPG.EntityFailAction{constructor(s){super(he,s.costCenterCode,s.error),this.payload=s,this.type="[CostCenter] Update CostCenter Fail"}}class Ti extends i.kPG.EntitySuccessAction{constructor(s){super(he,s.code??"",s),this.payload=s,this.type=it}}class bi extends i.kPG.EntityLoadAction{constructor(s){super(vt,i.kPG.serializeSearchConfig(s.params,s.costCenterCode)),this.payload=s,this.type=Si}}class ue extends i.kPG.EntityFailAction{constructor(s){super(vt,i.kPG.serializeSearchConfig(s.params,s.costCenterCode),s.error),this.payload=s,this.type="[CostCenter] Load Budgets fail"}}class In extends i.kPG.EntitySuccessAction{constructor(s){super(vt,i.kPG.serializeSearchConfig(s.params,s.costCenterCode)),this.payload=s,this.type=Ai}}class $e extends i.kPG.EntityLoadAction{constructor(s){super(X,s.budgetCode),this.payload=s,this.type=An}}class Bi extends i.kPG.EntityFailAction{constructor(s){super(X,s.budgetCode,s.error),this.payload=s,this.type="[CostCenter] Assign Budget fail"}}class Gi extends i.kPG.EntitySuccessAction{constructor(s){super(X,s.code,s),this.payload=s,this.type=Cn}}class Qt extends i.kPG.EntityLoadAction{constructor(s){super(X,s.budgetCode),this.payload=s,this.type=xn}}class Mi extends i.kPG.EntityFailAction{constructor(s){super(X,s.budgetCode,s.error),this.payload=s,this.type="[CostCenter] Unassign Budget fail"}}class yn extends i.kPG.EntitySuccessAction{constructor(s){super(X,s.code,s),this.payload=s,this.type=Ln}}const Yt="[B2BUser] Load B2BUser Data",Pn="[B2BUser] Load B2BUser Data Success",Dn="[B2BUser] Create B2BUser Data",Tn="[B2BUser] Create B2BUser Data Success",bn="[B2BUser] Update B2BUser Data",jt="[B2BUser] Update B2BUser Data Success",Gn="[B2BUser] Load B2BUsers",Rn="[B2BUser] Load B2BUsers Success",On="[B2BUser] Load B2BUser Approvers",Zn="[B2BUser] Load B2BUser Approvers Success",Fn="[B2BUser] Assign B2BUser Approver",wn="[B2BUser] Assign B2BUser Approver Success",kn="[B2BUser] Unassign B2BUser Approver",Nn="[B2BUser] Unassign B2BUser Approver Success",qn="[B2BUser] Load B2BUser Permissions",zn="[B2BUser] Load B2BUser Permissions Success",$n="[B2BUser] Assign B2BUser Permission",Kt="[B2BUser] Assign B2BUser Permission Success",Jn="[B2BUser] Unassign B2BUser Permission",Qn="[B2BUser] Unassign B2BUser Permission Success",be="[B2BUser] Load B2BUser User Groups",Yn="[B2BUser] Load B2BUser User Groups Success",jn="[B2BUser] Assign B2BUser User Group",at="[B2BUser] Assign B2BUser User Group Success",Ht="[B2BUser] Unassign B2BUser User Group",Vn="[B2BUser] Unassign B2BUser User Group Success";class Re extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomerId),this.payload=s,this.type=Yt}}class zi extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUser] Load B2BUser Data Fail"}}class Ve extends i.kPG.EntitySuccessAction{constructor(s){super(w,Array.isArray(s)?s.map(c=>c?.customerId??""):s?.customerId??""),this.payload=s,this.type=Pn}}class $i extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomer.customerId??null),this.payload=s,this.type=Dn}}class Ji extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUser] Create B2BUser Data Fail"}}class Qi extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.customerId??null,s),this.payload=s,this.type=Tn}}class Yi extends i.kPG.EntityLoadAction{constructor(s){super(w,s.orgCustomer.customerId??""),this.payload=s,this.type=bn}}class ji extends i.kPG.EntityFailAction{constructor(s){super(w,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUser] Update B2BUser Data Fail"}}class kc extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.customerId??"",s),this.payload=s,this.type=jt}}class Ki extends i.kPG.EntityLoadAction{constructor(s){super(Pt,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=Gn}}class Wt extends i.kPG.EntityFailAction{constructor(s){super(Pt,i.kPG.serializeSearchConfig(s.params),s.error),this.payload=s,this.type="[B2BUser] Load B2BUsers Fail"}}class Vi extends i.kPG.EntitySuccessAction{constructor(s){super(Pt,i.kPG.serializeSearchConfig(s.params)),this.payload=s,this.type=Rn}}class Hi extends i.kPG.EntityLoadAction{constructor(s){super(Dt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=On}}class Nc extends i.kPG.EntityFailAction{constructor(s){super(Dt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId),s.error),this.payload=s,this.type="[B2BUser] Load B2BUser Approvers Fail"}}class Wi extends i.kPG.EntitySuccessAction{constructor(s){super(Dt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=Zn}}class Hn extends i.kPG.EntityLoadAction{constructor(s){super(w,s.approverId),this.payload=s,this.type=Fn}}class qc extends i.kPG.EntityFailAction{constructor(s){super(w,s.approverId),this.payload=s,this.type="[B2BUser] Assign B2BUser Approver Fail"}}class Wn extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.approverId,s),this.payload=s,this.type=wn}}class Xi extends i.kPG.EntityLoadAction{constructor(s){super(w,s.approverId),this.payload=s,this.type=kn}}class ec extends i.kPG.EntityFailAction{constructor(s){super(w,s.approverId),this.payload=s,this.type="[B2BUser] Unassign B2BUser Approver Fail"}}class tc extends i.kPG.EntitySuccessAction{constructor(s){super(w,s.approverId,s),this.payload=s,this.type=Nn}}class Xt extends i.kPG.EntityLoadAction{constructor(s){super(Tt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=qn}}class rc extends i.kPG.EntityFailAction{constructor(s){super(Tt,s.orgCustomerId,s.error),this.payload=s,this.type="[B2BUser] Load B2BUser Permissions Fail"}}class er extends i.kPG.EntitySuccessAction{constructor(s){super(Tt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=zn}}class nc extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permissionId),this.payload=s,this.type=$n}}class sc extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionId,s.error),this.payload=s,this.type="[B2BUser] Assign B2BUser Permission Fail"}}class Xn extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.permissionId,s),this.payload=s,this.type=Kt}}class oc extends i.kPG.EntityLoadAction{constructor(s){super(J,s.permissionId),this.payload=s,this.type=Jn}}class es extends i.kPG.EntityFailAction{constructor(s){super(J,s.permissionId,s.error),this.payload=s,this.type="[B2BUser] Unassign B2BUser Permission Fail"}}class ic extends i.kPG.EntitySuccessAction{constructor(s){super(J,s.permissionId,s),this.payload=s,this.type=Qn}}class cc extends i.kPG.EntityLoadAction{constructor(s){super(bt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=be}}class ac extends i.kPG.EntityFailAction{constructor(s){super(bt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId),s.error),this.payload=s,this.type="[B2BUser] Load B2BUser User Groups Fail"}}class uc extends i.kPG.EntitySuccessAction{constructor(s){super(bt,i.kPG.serializeSearchConfig(s.params,s.orgCustomerId)),this.payload=s,this.type=Yn}}class ut extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroupId),this.payload=s,this.type=jn}}class lc extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[B2BUser] Assign B2BUser User Group Fail"}}class dc extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid,s),this.payload=s,this.type=at}}class tr extends i.kPG.EntityLoadAction{constructor(s){super(j,s.userGroupId),this.payload=s,this.type=Ht}}class pc extends i.kPG.EntityFailAction{constructor(s){super(j,s.userGroupId,s.error),this.payload=s,this.type="[B2BUser] Unassign B2BUser User Group Fail"}}class gc extends i.kPG.EntitySuccessAction{constructor(s){super(j,s.uid,s),this.payload=s,this.type=Vn}}const ts="[Organization] Clear Data";class B{constructor(){this.type=ts}}const Je=(0,h.ZF)(is),rr=(0,h.P1)(Je,a=>a[us]),He=(0,h.P1)(rr,a=>a&&a.entities),_c=(0,h.P1)(rr,a=>a&&a.permissionTypes),rs=a=>(0,h.P1)(He,s=>i.kPG.entityLoaderStateSelector(s,a)),We=(0,h.P1)(Je,a=>a[ds]),lt=(0,h.P1)(We,a=>a&&a.entities),nr=a=>(0,h.P1)(lt,s=>i.kPG.entityLoaderStateSelector(s,a)),xc=(0,h.P1)(Je,a=>a[ur].entities);var Xe=(()=>{return(a=Xe||(Xe={}))[a.SUCCESS=0]="SUCCESS",a[a.ERROR=1]="ERROR",Xe;var a})();function Qe(a){return a.pipe((0,A.QV)(z.N),(0,k.G)(),(0,_.h)(([s])=>s.loading??!1),(0,g.U)(([s,c])=>({status:c.success?Xe.SUCCESS:c.error?Xe.ERROR:null,item:c.value})))}let ns=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}load(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Re({userId:l,orgCustomerId:c})),error:()=>{}})}loadList(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Ki({userId:l,params:c})),error:()=>{}})}getB2BUserValue(c){return this.store.select((a=>(0,h.P1)(nr(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}get(c){const l=this.getB2BUserState(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.load(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getB2BUserValue(c))}getList(c){return this.getUserList(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadList(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}getErrorState(c){return this.getB2BUserState(c).pipe((0,g.U)(l=>l.error??!1))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new $i({userId:l,orgCustomer:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Yi({userId:u,orgCustomerId:c,orgCustomer:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getB2BUserState(c))}loadApprovers(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Hi({userId:u,orgCustomerId:c,params:l})),error:()=>{}})}getApprovers(c,l){return this.getB2BUserApproverList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadApprovers(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}assignApprover(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Hn({userId:u,orgCustomerId:c,approverId:l})),error:()=>{}})}unassignApprover(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Xi({userId:u,orgCustomerId:c,approverId:l})),error:()=>{}})}loadPermissions(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Xt({userId:u,orgCustomerId:c,params:l})),error:()=>{}})}getPermissions(c,l){return this.getB2BUserPermissionList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadPermissions(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}assignPermission(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new nc({userId:u,orgCustomerId:c,permissionId:l})),error:()=>{}})}unassignPermission(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new oc({userId:u,orgCustomerId:c,permissionId:l})),error:()=>{}})}loadUserGroups(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new cc({userId:u,orgCustomerId:c,params:l})),error:()=>{}})}getUserGroups(c,l){return this.getB2BUserUserGroupList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadUserGroups(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}assignUserGroup(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new ut({userId:u,orgCustomerId:c,userGroupId:l})),error:()=>{}})}unassignUserGroup(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new tr({userId:u,orgCustomerId:c,userGroupId:l})),error:()=>{}})}getAllRoles(){return[i.KOx.CUSTOMER,i.KOx.MANAGER,i.KOx.APPROVER,i.KOx.ADMIN]}getAllRights(){return[i.N3Q.UNITORDERVIEWER]}getB2BUserApproverList(c,l){return this.store.select(((a,s)=>(0,h.P1)(We,lt,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.approvers,l,s,a)))(c,l))}getB2BUserPermissionList(c,l){return this.store.select(((a,s)=>(0,h.P1)(We,He,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.permissions,l,s,a)))(c,l))}getB2BUserUserGroupList(c,l){return this.store.select(((a,s)=>(0,h.P1)(We,xc,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.userGroups,l,s,a)))(c,l))}getB2BUserState(c){return this.store.select(nr(c))}getUserList(c){return this.store.select((a=>(0,h.P1)(We,s=>i.kPG.denormalizeSearch(s,a)))(c))}isUpdatingUserAllowed(){return!0}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Jc=[(()=>{class a{constructor(c,l){this.actions$=c,this.budgetConnector=l,this.logger=(0,e.f3M)(i.mQy),this.loadBudget$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(lr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,budgetCode:f})=>this.budgetConnector.get(u,f).pipe((0,g.U)(y=>new Ot([y])),(0,P.K)(y=>(0,q.of)(new Us({budgetCode:f,error:(0,i.cxH)(y,this.logger)}))))))),this.loadBudgets$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(pr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.budgetConnector.getList(u.userId,u.params).pipe((0,E.w)(f=>{const{values:y,page:L}=i.kPG.normalizeListPage(f,"code");return[new Ot(y),new Ss({page:L,params:u.params})]}),(0,P.K)(f=>(0,q.of)(new vs({params:u.params,error:(0,i.cxH)(f,this.logger)}))))))),this.createBudget$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(mr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.budgetConnector.create(u.userId,u.budget).pipe((0,E.w)(f=>[new xs(f),new B]),(0,P.K)(f=>(0,F.D)([new Cs({budgetCode:u.budget.code??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updateBudget$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(fr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.budgetConnector.update(u.userId,u.budgetCode,u.budget).pipe((0,E.w)(f=>[new Is(f),new B]),(0,P.K)(f=>(0,F.D)([new Es({budgetCode:u.budget.code??"",error:(0,i.cxH)(f,this.logger)}),new B]))))))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(rt))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),(()=>{class a{constructor(c,l){this.actions$=c,this.orgUnitConnector=l,this.logger=(0,e.f3M)(i.mQy),this.loadOrgUnit$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(hr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,orgUnitId:f})=>this.orgUnitConnector.get(u,f).pipe((0,E.w)(y=>{const{values:L,page:I}=i.kPG.normalizeListPage({values:y.addresses??[]},"id");return[new Ws([y]),new Zo(L),new Fo({page:I,orgUnitId:f})]}),(0,P.K)(y=>(0,q.of)(new Hs({orgUnitId:f,error:(0,i.cxH)(y,this.logger)}))))))),this.loadAvailableOrgUnits$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Sr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.orgUnitConnector.getList(u.userId).pipe((0,g.U)(f=>new to(f)),(0,P.K)(f=>(0,q.of)(new eo({error:(0,i.cxH)(f,this.logger)}))))))),this.createUnit$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ar),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.orgUnitConnector.create(u.userId,u.unit).pipe((0,E.w)(f=>[new so(f),new B]),(0,P.K)(f=>(0,F.D)([new no({unitCode:u.unit.uid??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updateUnit$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(xr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.orgUnitConnector.update(u.userId,u.unitCode,u.unit).pipe((0,E.w)(f=>[new co(u.unit),new B]),(0,P.K)(f=>(0,F.D)([new io({unitCode:u.unit.uid??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.loadTree$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Lr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u})=>this.orgUnitConnector.getTree(u).pipe((0,g.U)(f=>new lo(f)),(0,P.K)(f=>(0,q.of)(new uo({error:(0,i.cxH)(f,this.logger)}))))))),this.loadApprovalProcesses$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Be),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u})=>this.orgUnitConnector.getApprovalProcesses(u).pipe((0,g.U)(f=>new mo(f)),(0,P.K)(f=>(0,q.of)(new go({error:(0,i.cxH)(f,this.logger)}))))))),this.loadUsers$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ie),(0,g.U)(u=>u.payload),(0,V.v)(({orgUnitId:u,roleId:f,params:y})=>i.kPG.serializeParams([u,f],y)),(0,N.zg)(u=>u.pipe((0,E.w)(({userId:f,orgUnitId:y,roleId:L,params:I})=>this.orgUnitConnector.getUsers(f,y,L,I).pipe((0,E.w)(O=>{const{values:le,page:de}=i.kPG.normalizeListPage(O,"customerId");return[new Ve(le),new ho({orgUnitId:y,roleId:L,page:de,params:I})]}),(0,P.K)(O=>(0,q.of)(new Uo({orgUnitId:y,roleId:L,params:I,error:(0,i.cxH)(O,this.logger)}))))))))),this.assignRoleToUser=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(ee),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,orgCustomerId:f,roleId:y})=>this.orgUnitConnector.assignRole(u,f,y).pipe((0,g.U)(()=>new So({uid:f,roleId:y,selected:!0})),(0,P.K)(L=>(0,q.of)(new vo({orgCustomerId:f,error:(0,i.cxH)(L,this.logger)}))))))),this.unassignRoleToUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(yr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,orgCustomerId:f,roleId:y})=>this.orgUnitConnector.unassignRole(u,f,y).pipe((0,g.U)(()=>new xo({uid:f,roleId:y,selected:!1})),(0,P.K)(L=>(0,q.of)(new Co({orgCustomerId:f,error:(0,i.cxH)(L,this.logger)}))))))),this.assignApprover=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Dr),(0,g.U)(u=>u.payload),(0,N.zg)(({userId:u,orgUnitId:f,orgCustomerId:y,roleId:L})=>this.orgUnitConnector.assignApprover(u,f,y,L).pipe((0,E.w)(()=>[new Eo({uid:y,roleId:L,selected:!0}),new B]),(0,P.K)(I=>(0,F.D)([new Lo({orgCustomerId:y,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.unassignApprover=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(br),(0,g.U)(u=>u.payload),(0,N.zg)(({userId:u,orgUnitId:f,orgCustomerId:y,roleId:L})=>this.orgUnitConnector.unassignApprover(u,f,y,L).pipe((0,E.w)(()=>[new Po({uid:y,roleId:L,selected:!1}),new B]),(0,P.K)(I=>(0,F.D)([new yo({orgCustomerId:y,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.createAddress$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Gr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.orgUnitConnector.createAddress(u.userId,u.orgUnitId,u.address).pipe((0,E.w)(f=>[new Fr(f),new Fr({id:void 0}),new B]),(0,P.K)(f=>(0,F.D)([new To({addressId:u.address.id??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updateAddress$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Mr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,orgUnitId:f,addressId:y,address:L})=>this.orgUnitConnector.updateAddress(u,f,y,L).pipe((0,E.w)(()=>[new Go(L),new B]),(0,P.K)(I=>(0,F.D)([new Bo({addressId:L.id??"",error:(0,i.cxH)(I,this.logger)}),new B])))))),this.deleteAddress$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Rr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.orgUnitConnector.deleteAddress(u.userId,u.orgUnitId,u.addressId).pipe((0,E.w)(()=>[new Oo({id:u.addressId}),new B]),(0,P.K)(f=>(0,F.D)([new Ro({addressId:u.addressId,error:(0,i.cxH)(f,this.logger)}),new B]))))))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(p))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),(()=>{class a{constructor(c,l){this.actions$=c,this.userGroupConnector=l,this.logger=(0,e.f3M)(i.mQy),this.loadUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(wr),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,userGroupId:f})=>this.userGroupConnector.get(u,f).pipe((0,g.U)(y=>new G([y])),(0,P.K)(y=>(0,q.of)(new fe({userGroupId:f,error:(0,i.cxH)(y,this.logger)}))))))),this.loadUserGroups$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Nr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.userGroupConnector.getList(u.userId,u.params).pipe((0,E.w)(f=>{const{values:y,page:L}=i.kPG.normalizeListPage(f,"uid");return[new G(y),new Xo({page:L,params:u.params})]}),(0,P.K)(f=>(0,q.of)(new W({params:u.params,error:(0,i.cxH)(f,this.logger)}))))))),this.loadAvailableOrderApprovalPermissions$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(zr),(0,g.U)(u=>u.payload),(0,V.v)(({userGroupId:u,params:f})=>i.kPG.serializeParams(u,f)),(0,N.zg)(u=>u.pipe((0,E.w)(f=>this.userGroupConnector.getAvailableOrderApprovalPermissions(f.userId,f.userGroupId,f.params).pipe((0,E.w)(y=>{const{values:L,page:I}=i.kPG.normalizeListPage(y,"code");return[new Ne(L),new un({userGroupId:f.userGroupId,page:I,params:f.params})]}),(0,P.K)(y=>(0,q.of)(new wt({userGroupId:f.userGroupId,params:f.params,error:(0,i.cxH)(y,this.logger)}))))))))),this.loadAvailableOrgCustomers$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Jr),(0,g.U)(u=>u.payload),(0,V.v)(({userGroupId:u,params:f})=>i.kPG.serializeParams(u,f)),(0,N.zg)(u=>u.pipe((0,E.w)(f=>this.userGroupConnector.getAvailableOrgCustomers(f.userId,f.userGroupId,f.params).pipe((0,E.w)(y=>{const{values:L,page:I}=i.kPG.normalizeListPage(y,"customerId");return[new Ve(L),new ri({userGroupId:f.userGroupId,page:I,params:f.params})]}),(0,P.K)(y=>(0,q.of)(new ti({userGroupId:f.userGroupId,params:f.params,error:(0,i.cxH)(y,this.logger)}))))))))),this.createUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Yr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.userGroupConnector.create(u.userId,u.userGroup).pipe((0,E.w)(f=>[new ge(f),new B]),(0,P.K)(f=>(0,F.D)([new Ze({userGroupId:u.userGroup.uid??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updateUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Xr),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.userGroupConnector.update(u.userId,u.userGroupId,u.userGroup).pipe((0,E.w)(()=>[new Q(u.userGroup),new B]),(0,P.K)(f=>(0,F.D)([new Se({userGroupId:u.userGroup.uid??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.deleteUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(tn),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.userGroupConnector.delete(u.userId,u.userGroupId).pipe((0,E.w)(f=>[new se(f),new B]),(0,P.K)(f=>(0,F.D)([new K({userGroupId:u.userGroupId,error:(0,i.cxH)(f,this.logger)}),new B])))))),this.assignPermissionToUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Hr),(0,g.U)(u=>u.payload),(0,N.zg)(u=>this.userGroupConnector.assignOrderApprovalPermission(u.userId,u.userGroupId,u.permissionUid).pipe((0,E.w)(f=>[new Z({permissionUid:f.id,selected:f.selected}),new B]),(0,P.K)(f=>(0,F.D)([new Fe({userGroupId:u.userGroupId,permissionUid:u.permissionUid,error:(0,i.cxH)(f,this.logger)}),new B])))))),this.assignMemberUnitUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Kr),(0,g.U)(u=>u.payload),(0,N.zg)(u=>this.userGroupConnector.assignMember(u.userId,u.userGroupId,u.customerId).pipe((0,E.w)(()=>[new Ge({customerId:u.customerId,selected:!0}),new B]),(0,P.K)(f=>(0,F.D)([new si({userGroupId:u.userGroupId,customerId:u.customerId,error:(0,i.cxH)(f,this.logger)}),new B])))))),this.unassignMemberFromUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(sn),(0,g.U)(u=>u.payload),(0,N.zg)(u=>this.userGroupConnector.unassignMember(u.userId,u.userGroupId,u.customerId).pipe((0,E.w)(()=>[new we({customerId:u.customerId,selected:!1}),new B]),(0,P.K)(f=>(0,F.D)([new Ue({userGroupId:u.userGroupId,customerId:u.customerId,error:(0,i.cxH)(f,this.logger)}),new B])))))),this.unassignPermissionFromUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(cn),(0,g.U)(u=>u.payload),(0,N.zg)(u=>this.userGroupConnector.unassignOrderApprovalPermission(u.userId,u.userGroupId,u.permissionUid).pipe((0,E.w)(f=>[new gn({permissionUid:f.id,selected:f.selected}),new B]),(0,P.K)(f=>(0,F.D)([new Ke({userGroupId:u.userGroupId,permissionUid:u.permissionUid,error:(0,i.cxH)(f,this.logger)}),new B])))))),this.unassignAllMembersFromUserGroup$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(rn),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.userGroupConnector.unassignAllMembers(u.userId,u.userGroupId).pipe((0,E.w)(()=>[new je({selected:!1}),new B]),(0,P.K)(f=>(0,F.D)([new dn({userGroupId:u.userGroupId,error:(0,i.cxH)(f,this.logger)}),new B]))))))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(os))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),(()=>{class a{constructor(c,l){this.actions$=c,this.permissionConnector=l,this.logger=(0,e.f3M)(i.mQy),this.loadPermission$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ce),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,permissionCode:f})=>this.permissionConnector.get(u,f).pipe((0,g.U)(y=>new Ne([y])),(0,P.K)(y=>(0,q.of)(new ui({permissionCode:f,error:(0,i.cxH)(y,this.logger)}))))))),this.loadPermissions$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(ke),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.permissionConnector.getList(u.userId,u.params).pipe((0,E.w)(f=>{const{values:y,page:L}=i.kPG.normalizeListPage(f,"code");return[new Ne(y),new fn({page:L,params:u.params})]}),(0,P.K)(f=>(0,q.of)(new ot({params:u.params,error:(0,i.cxH)(f,this.logger)}))))))),this.createPermission$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(_n),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.permissionConnector.create(u.userId,u.permission).pipe((0,E.w)(f=>[new di(f),new B]),(0,P.K)(f=>(0,F.D)([new Oc({permissionCode:u.permission.code??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updatePermission$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Te),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.permissionConnector.update(u.userId,u.permissionCode,u.permission).pipe((0,E.w)(f=>[new mi(f),new B]),(0,P.K)(f=>(0,F.D)([new gi({permissionCode:u.permission.code??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.loadPermissionTypes$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(kt),(0,E.w)(()=>this.permissionConnector.getTypes().pipe((0,g.U)(u=>new fi(u)),(0,P.K)(u=>(0,q.of)(new _i({error:(0,i.cxH)(u,this.logger)})))))))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(S))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),(()=>{class a{constructor(c,l){this.actions$=c,this.costCenterConnector=l,this.logger=(0,e.f3M)(i.mQy),this.loadCostCenter$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(qt),(0,g.U)(u=>u.payload),(0,E.w)(({userId:u,costCenterCode:f})=>this.costCenterConnector.get(u,f).pipe((0,g.U)(y=>new ct([y])),(0,P.K)(y=>(0,q.of)(new Li({costCenterCode:f,error:(0,i.cxH)(y,this.logger)}))))))),this.loadCostCenters$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Un),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.costCenterConnector.getList(u.userId,u.params).pipe((0,E.w)(f=>{const{values:y,page:L}=i.kPG.normalizeListPage(f,"code");return[new ct(y),new En({page:L,params:u.params})]}),(0,P.K)(f=>(0,q.of)(new Ii({params:u.params,error:(0,i.cxH)(f,this.logger)}))))))),this.createCostCenter$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(vn),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.costCenterConnector.create(u.userId,u.costCenter).pipe((0,E.w)(f=>[new Fc(f),new B]),(0,P.K)(f=>(0,F.D)([new Zc({costCenterCode:u.costCenter.code??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.updateCostCenter$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(ze),(0,g.U)(u=>u.payload),(0,E.w)(u=>this.costCenterConnector.update(u.userId,u.costCenterCode,u.costCenter).pipe((0,E.w)(f=>[new Ti(f),new B]),(0,P.K)(f=>(0,F.D)([new Di({costCenterCode:u.costCenter.code??"",error:(0,i.cxH)(f,this.logger)}),new B])))))),this.loadAssignedBudgets$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Si),(0,g.U)(u=>u.payload),(0,V.v)(({costCenterCode:u,params:f})=>i.kPG.serializeParams(u,f)),(0,N.zg)(u=>u.pipe((0,E.w)(({userId:f,costCenterCode:y,params:L})=>this.costCenterConnector.getBudgets(f,y,L).pipe((0,E.w)(I=>{const{values:O,page:le}=i.kPG.normalizeListPage(I,"code");return[new Ot(O),new In({costCenterCode:y,page:le,params:L})]}),(0,P.K)(I=>(0,q.of)(new ue({costCenterCode:y,params:L,error:(0,i.cxH)(I,this.logger)}))))))))),this.assignBudgetToCostCenter$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(An),(0,g.U)(u=>u.payload),(0,N.zg)(({userId:u,costCenterCode:f,budgetCode:y})=>this.costCenterConnector.assignBudget(u,f,y).pipe((0,E.w)(()=>[new Gi({code:y,selected:!0}),new B]),(0,P.K)(L=>(0,F.D)([new Bi({budgetCode:y,error:(0,i.cxH)(L,this.logger)}),new B])))))),this.unassignBudgetToCostCenter$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(xn),(0,g.U)(u=>u.payload),(0,N.zg)(({userId:u,costCenterCode:f,budgetCode:y})=>this.costCenterConnector.unassignBudget(u,f,y).pipe((0,E.w)(()=>[new yn({code:y,selected:!1}),new B]),(0,P.K)(L=>(0,F.D)([new Mi({budgetCode:y,error:(0,i.cxH)(L,this.logger)}),new B]))))))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(U))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),(()=>{class a{constructor(c,l,u,f,y){this.actions$=c,this.b2bUserConnector=l,this.routingService=u,this.userAccountFacade=f,this.userIdService=y,this.logger=(0,e.f3M)(i.mQy),this.loadB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Yt),(0,g.U)(L=>L.payload),(0,E.w)(({userId:L,orgCustomerId:I})=>this.b2bUserConnector.get(L,I).pipe((0,g.U)(O=>new Ve([O])),(0,P.K)(O=>(0,q.of)(new zi({orgCustomerId:I,error:(0,i.cxH)(O,this.logger)}))))))),this.createB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Dn),(0,g.U)(L=>L.payload),(0,E.w)(({userId:L,orgCustomer:I})=>this.b2bUserConnector.create(L,I).pipe((0,E.w)(O=>{const le=I.isAssignedToApprovers;return this.routingService.getRouterState().pipe((0,Le.q)(1),(0,R.b)(de=>this.redirectToDetails(de,O)),(0,E.w)(()=>{const de=[new Qi(O),new Qi({customerId:void 0}),new B];return le&&de.splice(1,0,new Ft({userId:L,orgUnitId:I.orgUnit?.uid??"",orgCustomerId:O.customerId??"",roleId:i.KOx.APPROVER})),de}))}),(0,P.K)(O=>(0,F.D)([new Ji({orgCustomerId:I.customerId??"",error:(0,i.cxH)(O,this.logger)}),new B])))))),this.updateB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(bn),(0,g.U)(L=>L.payload),(0,E.w)(({userId:L,orgCustomerId:I,orgCustomer:O})=>{const le=O.isAssignedToApprovers;return this.b2bUserConnector.update(L,I,O).pipe((0,E.w)(de=>{const Ya=[new kc(O)];return le&&Ya.push(new Ft({userId:L,orgUnitId:O.orgUnit?.uid??"",orgCustomerId:I,roleId:i.KOx.APPROVER})),Ya}),(0,P.K)(de=>(0,F.D)([new ji({orgCustomerId:O.customerId??"",error:(0,i.cxH)(de,this.logger)}),new B])))}))),this.checkSelfEmailUpdate$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(jt),(0,g.U)(L=>L.payload),(0,cr.M)(this.userAccountFacade.get(),this.userIdService.getUserId()),(0,E.w)(([L,I])=>{const O=L.customerId===I?.customerId&&L.email!==I?.displayUid;return O&&this.routingService.go({cxRoute:"login"}),O?[new i.uQL.Logout]:[new B]}))),this.loadB2BUsers$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Gn),(0,g.U)(L=>L.payload),(0,E.w)(L=>this.b2bUserConnector.getList(L.userId,L.params).pipe((0,E.w)(I=>{const{values:O,page:le}=i.kPG.normalizeListPage(I,"customerId");return[new Ve(O),new Vi({page:le,params:L.params})]}),(0,P.K)(I=>(0,q.of)(new Wt({params:L.params,error:(0,i.cxH)(I,this.logger)}))))))),this.loadB2BUserApprovers$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(On),(0,g.U)(L=>L.payload),(0,V.v)(({orgCustomerId:L,params:I})=>i.kPG.serializeParams(L,I)),(0,N.zg)(L=>L.pipe((0,E.w)(I=>this.b2bUserConnector.getApprovers(I.userId,I.orgCustomerId,I.params).pipe((0,E.w)(O=>{const{values:le,page:de}=i.kPG.normalizeListPage(O,"customerId");return[new Ve(le),new Wi({orgCustomerId:I.orgCustomerId,page:de,params:I.params})]}),(0,P.K)(O=>(0,q.of)(new Nc({orgCustomerId:I.orgCustomerId,params:I.params,error:(0,i.cxH)(O,this.logger)}))))))))),this.loadB2BUserPermissions$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(qn),(0,g.U)(L=>L.payload),(0,V.v)(({orgCustomerId:L,params:I})=>i.kPG.serializeParams(L,I)),(0,N.zg)(L=>L.pipe((0,E.w)(I=>this.b2bUserConnector.getPermissions(I.userId,I.orgCustomerId,I.params).pipe((0,E.w)(O=>{const{values:le,page:de}=i.kPG.normalizeListPage(O,"code");return[new Ne(le),new er({orgCustomerId:I.orgCustomerId,page:de,params:I.params})]}),(0,P.K)(O=>(0,q.of)(new rc({orgCustomerId:I.orgCustomerId,params:I.params,error:(0,i.cxH)(O,this.logger)}))))))))),this.loadB2BUserUserGroups$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(be),(0,g.U)(L=>L.payload),(0,V.v)(({orgCustomerId:L,params:I})=>i.kPG.serializeParams(L,I)),(0,N.zg)(L=>L.pipe((0,E.w)(I=>this.b2bUserConnector.getUserGroups(I.userId,I.orgCustomerId,I.params).pipe((0,E.w)(O=>{const{values:le,page:de}=i.kPG.normalizeListPage(O,"uid");return[new G(le),new uc({orgCustomerId:I.orgCustomerId,page:de,params:I.params})]}),(0,P.K)(O=>(0,q.of)(new ac({orgCustomerId:I.orgCustomerId,params:I.params,error:(0,i.cxH)(O,this.logger)}))))))))),this.assignApproverToB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Fn),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.assignApprover(L.userId,L.orgCustomerId,L.approverId).pipe((0,E.w)(I=>[new Wn({approverId:L.approverId,selected:I.selected})]),(0,P.K)(I=>(0,F.D)([new qc({orgCustomerId:L.orgCustomerId,approverId:L.approverId,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.unassignApproverFromB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(kn),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.unassignApprover(L.userId,L.orgCustomerId,L.approverId).pipe((0,E.w)(I=>[new tc({approverId:L.approverId,selected:I.selected})]),(0,P.K)(I=>(0,F.D)([new ec({orgCustomerId:L.orgCustomerId,approverId:L.approverId,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.assignPermissionToB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)($n),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.assignPermission(L.userId,L.orgCustomerId,L.permissionId).pipe((0,E.w)(I=>[new Xn({permissionId:I.id,selected:I.selected}),new B]),(0,P.K)(I=>(0,F.D)([new sc({orgCustomerId:L.orgCustomerId,permissionId:L.permissionId,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.unassignPermissionFromB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Jn),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.unassignPermission(L.userId,L.orgCustomerId,L.permissionId).pipe((0,E.w)(I=>[new ic({permissionId:I.id,selected:I.selected}),new B]),(0,P.K)(I=>(0,F.D)([new es({orgCustomerId:L.orgCustomerId,permissionId:L.permissionId,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.assignUserGroupToB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(jn),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.assignUserGroup(L.userId,L.orgCustomerId,L.userGroupId).pipe((0,E.w)(I=>[new dc({uid:I.id,selected:I.selected}),new B]),(0,P.K)(I=>(0,F.D)([new lc({orgCustomerId:L.orgCustomerId,userGroupId:L.userGroupId,error:(0,i.cxH)(I,this.logger)}),new B])))))),this.unassignUserGroupFromB2BUser$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ht),(0,g.U)(L=>L.payload),(0,N.zg)(L=>this.b2bUserConnector.unassignUserGroup(L.userId,L.orgCustomerId,L.userGroupId).pipe((0,E.w)(()=>[new gc({uid:L.userGroupId,selected:!1}),new B]),(0,P.K)(I=>(0,F.D)([new pc({orgCustomerId:L.orgCustomerId,userGroupId:L.userGroupId,error:(0,i.cxH)(I,this.logger)}),new B]))))))}redirectToDetails(c,l){"/organization/units"!==c?.state?.context?.id&&this.routingService.go({cxRoute:"orgUserDetails",params:l})}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(x.eX),e.LFG(gt),e.LFG(i.Znh),e.LFG(Ee.gf),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})()],Qc=void 0,sr=void 0;function ma(a=Qc,s){switch(s.type){case Pn:case Tn:case jt:return s.payload;case Ir:case Tr:return{...a,selected:s.payload?.selected,roles:[...a?.roles||[],s.payload?.roleId]};case Pr:case Br:return{...a,selected:s.payload?.selected,roles:[...a?.roles||[]].filter(c=>c!==s.payload?.roleId)};case wn:case Nn:case Vr:case on:case nn:return{...a,...s.payload}}return a}function _a(a=sr,s){return s.type===Rn?s.payload.page:a}function fa(a=sr,s){return s.type===Zn?s.payload.page:a}function Ua(a=sr,s){return s.type===zn?s.payload.page:a}function ha(a=sr,s){return s.type===Yn?s.payload.page:a}const r=void 0,o=void 0;function t(a=r,s){switch(s.type){case dr:case _r:case Ur:return s.payload;case Ln:case Cn:return{...a,...s.payload}}return a}function n(a=o,s){return s.type===gr?s.payload.page:a}const d=void 0,v=void 0;function D(a=d,s){switch(s.type){case zt:case Sn:case it:return s.payload}return a}function H(a=v,s){return s.type===hn?s.payload.page:a}function ie(a=v,s){return s.type===Ai?s.payload.page:a}const or=void 0,Yc=void 0;function Ka(a=or,s){switch(s.type){case vr:case Cr:return s.payload;case te:return{...a,...s.payload}}return a}function Va(a=Yc,s){return s.type===Er?s.payload.page:a}function Ha(a=Yc,s){return s.type===Or?s.payload.page:a}const Wa=void 0,Xa=void 0;function eu(a=Wa,s){switch(s.type){case oe:case Me:case T:return s.payload;case Wr:case an:case Kt:case Qn:return{...a,...s.payload}}return a}function tu(a=Xa,s){return s.type===mn?s.payload.page:a}const ru=void 0,jc=void 0;function nu(a=ru,s){switch(s.type){case kr:case jr:case en:return s.payload;case at:case Vn:return{...a,...s.payload}}return a}function su(a=jc,s){return s.type===qr?s.payload.page:a}function ou(a=jc,s){return s.type===$r?s.payload.page:a}function iu(a=jc,s){return s.type===Qr?s.payload.page:a}const va=new e.OlP("OrganizationReducers"),au={provide:va,useFactory:function cu(){return{budget:(0,h.UY)({entities:i.kPG.entityLoaderReducer(X,t),list:i.kPG.entityLoaderReducer(Ut,n)}),[us]:(0,h.UY)({entities:i.kPG.entityLoaderReducer(J,eu),list:i.kPG.entityLoaderReducer(St,tu),permissionTypes:i.kPG.entityLoaderReducer(Ct)}),[ls]:(0,h.UY)({entities:i.kPG.entityLoaderReducer(ve,Ka),availableOrgUnitNodes:i.kPG.entityLoaderReducer(xt),tree:i.kPG.entityLoaderReducer(Lt),approvalProcesses:i.kPG.entityLoaderReducer(Et),users:i.kPG.entityLoaderReducer(nt,Va),addressList:i.kPG.entityLoaderReducer(Rt,Ha),addressEntities:i.kPG.entityLoaderReducer(_e)}),[ur]:(0,h.UY)({entities:i.kPG.entityLoaderReducer(j,nu),list:i.kPG.entityLoaderReducer(Bt,su),permissions:i.kPG.entityLoaderReducer(Gt,ou),customers:i.kPG.entityLoaderReducer(Mt,iu)}),[as]:(0,h.UY)({entities:i.kPG.entityLoaderReducer(he,D),list:i.kPG.entityLoaderReducer(ht,H),budgets:i.kPG.entityLoaderReducer(vt,ie)}),[ds]:(0,h.UY)({entities:i.kPG.entityLoaderReducer(w,ma),list:i.kPG.entityLoaderReducer(Pt,_a),approvers:i.kPG.entityLoaderReducer(Dt,fa),permissions:i.kPG.entityLoaderReducer(Tt,Ua),userGroups:i.kPG.entityLoaderReducer(bt,ha)})}}},lu=[function uu(a){return function(s,c){return c.type===ts&&(s=void 0),c.type===i.uQL.LOGOUT&&(s=void 0),c.type===i.dO9.LANGUAGE_CHANGE&&(s=void 0),a(s,c)}}],Kc=(0,h.P1)(Je,a=>a.budget),Vc=(0,h.P1)(Kc,a=>a&&a.entities),Hc=a=>(0,h.P1)(Vc,s=>i.kPG.entityLoaderStateSelector(s,a)),et=(0,h.P1)(Je,a=>a[ls]),Ca=(0,h.P1)(et,a=>a&&a.availableOrgUnitNodes),Wc=(0,h.P1)(et,a=>a&&a.entities),xa=(0,h.P1)(et,a=>a&&a.tree),La=(0,h.P1)(et,a=>a&&a.addressEntities),Ea=(0,h.P1)(et,a=>a&&a.approvalProcesses),Xc=a=>(0,h.P1)(Wc,s=>i.kPG.entityLoaderStateSelector(s,a)),ss=(0,h.P1)(Je,a=>a[ur]),ea=(0,h.P1)(ss,a=>a&&a.entities),ta=a=>(0,h.P1)(ea,s=>i.kPG.entityLoaderStateSelector(s,a)),Ic=(0,h.P1)(Je,a=>a[as]),ra=(0,h.P1)(Ic,a=>a&&a.entities),na=a=>(0,h.P1)(ra,s=>i.kPG.entityLoaderStateSelector(s,a));let du=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}loadBudget(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new fs({userId:l,budgetCode:c})),error:()=>{}})}loadBudgets(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new hs({userId:l,params:c})),error:()=>{}})}getBudgetState(c){return this.store.select(Hc(c))}getBudgetValue(c){return this.store.select((a=>(0,h.P1)(Hc(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}getBudgetList(c){return this.store.select((a=>(0,h.P1)(Kc,s=>i.kPG.denormalizeSearch(s,a)))(c))}get(c){const l=this.getBudgetState(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadBudget(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getBudgetValue(c))}getList(c){return this.getBudgetList(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadBudgets(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}getCostCenters(c){return this.get(c).pipe((0,g.U)(l=>({values:l.costCenters??[]})))}getErrorState(c){return this.getBudgetState(c).pipe((0,g.U)(l=>l.error??!1))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new As({userId:l,budget:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Ls({userId:u,budgetCode:c,budget:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getBudgetState(c))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),pu=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}load(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new xe({userId:l,costCenterCode:c})),error:()=>{}})}loadList(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Ei({userId:l,params:c})),error:()=>{}})}getCostCenter(c){return this.store.select(na(c))}getCostCenterValue(c){return this.store.select((a=>(0,h.P1)(na(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}getCostCenterList(c){return this.store.select((a=>(0,h.P1)(Ic,s=>i.kPG.denormalizeSearch(s,a)))(c))}getBudgetList(c,l){return this.store.select(((a,s)=>(0,h.P1)(Ic,Vc,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.budgets,l,s,a)))(c,l))}get(c){const l=this.getCostCenter(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.load(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getCostCenterValue(c))}getList(c){return this.getCostCenterList(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadList(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}getCostCenterState(c){return this.store.select((a=>(0,h.P1)(ra,s=>i.kPG.entityLoaderStateSelector(s,a)))(c))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new yi({userId:l,costCenter:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Pi({userId:u,costCenterCode:c,costCenter:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getCostCenter(c))}loadBudgets(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new bi({userId:u,costCenterCode:c,params:l})),error:()=>{}})}getBudgets(c,l){return this.getBudgetList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadBudgets(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}assignBudget(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new $e({userId:u,costCenterCode:c,budgetCode:l})),error:()=>{}})}unassignBudget(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Qt({userId:u,costCenterCode:c,budgetCode:l})),error:()=>{}})}getErrorState(c){return this.getCostCenterState(c).pipe((0,g.U)(l=>l.error??!1))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),za=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}clearAssignedUsersList(c,l,u){this.store.dispatch(new fo({orgUnitId:c,roleId:l,params:u}))}load(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Zr({userId:l,orgUnitId:c})),error:()=>{}})}loadList(){this.userIdService.takeUserId(!0).subscribe({next:c=>this.store.dispatch(new Xs({userId:c})),error:()=>{}})}loadTree(){this.userIdService.takeUserId(!0).subscribe({next:c=>this.store.dispatch(new ao({userId:c})),error:()=>{}})}loadApprovalProcesses(){this.userIdService.takeUserId(!0).subscribe({next:c=>this.store.dispatch(new po({userId:c})),error:()=>{}})}loadUsers(c,l,u){this.userIdService.takeUserId(!0).subscribe({next:f=>this.store.dispatch(new _o({userId:f,orgUnitId:c,roleId:l,params:u})),error:()=>{}})}loadAddresses(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Zr({userId:l,orgUnitId:c})),error:()=>{}})}getOrgUnit(c){return this.store.select(Xc(c))}getOrgUnitValue(c){return this.store.select((a=>(0,h.P1)(Xc(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}getTreeState(){return this.store.select((0,h.P1)(xa,a=>i.kPG.entityLoaderStateSelector(a,It)))}getOrgUnitsList(){return this.store.select((0,h.P1)(Ca,a=>i.kPG.entityLoaderStateSelector(a,ae)))}getAddressesState(c){return this.store.select(((a,s)=>(0,h.P1)(et,c=>i.kPG.denormalizeCustomB2BSearch(c.addressList,c.addressEntities,s,a)))(c))}getAddressState(c){return this.store.select((a=>(0,h.P1)(La,s=>i.kPG.entityLoaderStateSelector(s,a)))(c))}getAssignedUsers(c,l,u){return this.store.select(((a,s,c)=>(0,h.P1)(et,lt,(l,u)=>i.kPG.denormalizeCustomB2BSearch(l.users,u,c,`${a},${s}`)))(c,l,u))}getApprovalProcessesList(){return this.store.select((0,h.P1)(Ea,a=>i.kPG.entityLoaderStateSelector(a,yt)))}get(c){const l=this.getOrgUnit(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.load(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getOrgUnitValue(c))}getCostCenters(c){return this.get(c).pipe((0,g.U)(l=>({values:l.costCenters??[]})))}findUnitChildrenInTree(c,l){return l.id===c?l.children??[]:(l.children??[]).flatMap(u=>this.findUnitChildrenInTree(c,u))}getChildUnits(c){return this.getTree().pipe((0,g.U)(l=>({values:l?this.findUnitChildrenInTree(c,l):[]})))}getTree(){return this.getTreeState().pipe((0,A.QV)(z.N),(0,R.b)(c=>{c.loading||c.success||c.error||this.loadTree()}),(0,_.h)(c=>Boolean(c.success||c.error)),(0,g.U)(c=>c.value))}getApprovalProcesses(){return this.getApprovalProcessesList().pipe((0,A.QV)(z.N),(0,R.b)(c=>{c.loading||c.success||c.error||this.loadApprovalProcesses()}),(0,_.h)(c=>Boolean(c.success||c.error)),(0,g.U)(c=>c.value))}getList(){return this.getOrgUnitsList().pipe((0,A.QV)(z.N),(0,R.b)(c=>{c.loading||c.success||c.error||this.loadList()}),(0,_.h)(c=>Boolean(c.success||c.error)),(0,g.U)(c=>c.value))}getActiveUnitList(){return this.getList().pipe((0,g.U)(c=>c?.filter(l=>l.active)),(0,g.U)(c=>c?.sort(this.sortUnitList)))}sortUnitList(c,l){return(c.id??"").toLowerCase()<(l.id??"").toLowerCase()?-1:(c.id??"").toLowerCase()>(l.id??"").toLowerCase()?1:0}getUsers(c,l,u){return this.getAssignedUsers(c,l,u).pipe((0,A.QV)(z.N),(0,R.b)(f=>{f.loading||f.success||f.error||this.loadUsers(c,l,u)}),(0,_.h)(f=>Boolean(f.success||f.error)),(0,g.U)(f=>f.value))}getErrorState(c){return this.getOrgUnitState(c).pipe((0,g.U)(l=>l.error??!1))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new ro({userId:l,unit:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new oo({userId:u,unitCode:c,unit:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getOrgUnit(c))}assignRole(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Zt({userId:u,orgCustomerId:c,roleId:l})),error:()=>{}})}unassignRole(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Ao({userId:u,orgCustomerId:c,roleId:l})),error:()=>{}})}assignApprover(c,l,u){this.userIdService.takeUserId(!0).subscribe({next:f=>this.store.dispatch(new Ft({orgUnitId:c,userId:f,orgCustomerId:l,roleId:u})),error:()=>{}})}unassignApprover(c,l,u){this.userIdService.takeUserId(!0).subscribe({next:f=>this.store.dispatch(new Io({orgUnitId:c,userId:f,orgCustomerId:l,roleId:u})),error:()=>{}})}createAddress(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Do({userId:u,orgUnitId:c,address:l})),error:()=>{}})}getAddresses(c){return this.getAddressesState(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadAddresses(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}getAddress(c,l){return this.getAddressState(l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadAddresses(c)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}updateAddress(c,l,u){this.userIdService.takeUserId(!0).subscribe({next:f=>this.store.dispatch(new bo({userId:f,orgUnitId:c,addressId:l,address:u})),error:()=>{}})}getAddressLoadingStatus(c){return Qe(this.getAddressState(c))}deleteAddress(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Mo({userId:u,orgUnitId:c,addressId:l})),error:()=>{}})}getOrgUnitState(c){return this.store.select((a=>(0,h.P1)(Wc,s=>i.kPG.entityLoaderStateSelector(s,a)))(c))}isUpdatingUnitAllowed(){return!0}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),$a=(()=>{class a extends i.FRf{constructor(c,l,u,f){super(),this.contentPageMetaResolver=c,this.translation=l,this.semanticPath=u,this.routingService=f,this.pageTemplate="CompanyPageTemplate",this.pageType=i.GV4.CONTENT_PAGE,this.ORGANIZATION_TRANSLATION_KEY="organization.breadcrumb",this.ORGANIZATION_SEMANTIC_ROUTE="organization",this.organizationPageBreadcrumb$=(0,Oe.P)(()=>this.routingService.getRouterState()).pipe((0,g.U)(y=>y?.state?.semanticRoute),(0,ar.x)(),(0,E.w)(y=>y===this.ORGANIZATION_SEMANTIC_ROUTE?(0,q.of)([]):this.translation.translate(this.ORGANIZATION_TRANSLATION_KEY).pipe((0,g.U)(L=>[{label:L,link:this.semanticPath.get(this.ORGANIZATION_SEMANTIC_ROUTE)}])))),this.breadcrumbs$=(0,Y.aj)([this.organizationPageBreadcrumb$,(0,Oe.P)(()=>this.contentPageMetaResolver.resolveBreadcrumbs())]).pipe((0,g.U)(([y,L=[]])=>{const[I,...O]=L;return[I,...y,...O]}),(0,C.d)({bufferSize:1,refCount:!0}))}resolveTitle(){return this.contentPageMetaResolver.resolveTitle()}resolveDescription(){return this.contentPageMetaResolver.resolveDescription()}resolveRobots(){return this.contentPageMetaResolver.resolveRobots()}resolveBreadcrumbs(){return this.breadcrumbs$}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(i.vc1),e.LFG(i.D7D),e.LFG(i.hCH),e.LFG(i.Znh))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),gu=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:i.FRf,useExisting:$a,multi:!0}]}),a})(),mu=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}loadPermission(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Nt({userId:l,permissionCode:c})),error:()=>{}})}loadPermissions(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new li({userId:l,params:c})),error:()=>{}})}loadPermissionTypes(){this.userIdService.takeUserId(!0).subscribe({next:()=>this.store.dispatch(new qe),error:()=>{}})}getPermission(c){return this.store.select(rs(c))}getPermissionValue(c){return this.store.select((a=>(0,h.P1)(rs(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}getPermissionList(c){return this.store.select((a=>(0,h.P1)(rr,s=>i.kPG.denormalizeSearch(s,a)))(c))}getPermissionTypeList(){return this.store.select((0,h.P1)(_c,a=>i.kPG.entityLoaderStateSelector(a,At)))}get(c){const l=this.getPermission(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadPermission(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getPermissionValue(c))}getTypes(){return this.getPermissionTypeList().pipe((0,A.QV)(z.N),(0,R.b)(c=>{c.loading||c.success||c.error||this.loadPermissionTypes()}),(0,_.h)(c=>Boolean(c.success||c.error)),(0,g.U)(c=>c.value))}getList(c){return this.getPermissionList(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadPermissions(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Rc({userId:l,permission:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new pi({userId:u,permissionCode:c,permission:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getPermission(c))}getPermissionState(c){return this.store.select((a=>(0,h.P1)(He,s=>i.kPG.entityLoaderStateSelector(s,a)))(c))}getErrorState(c){return this.getPermissionState(c).pipe((0,g.U)(l=>l.error??!1))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),_u=(()=>{class a{constructor(c,l){this.store=c,this.userIdService=l}load(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new re({userId:l,userGroupId:c})),error:()=>{}})}loadList(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Wo({userId:l,params:c})),error:()=>{}})}getUserGroup(c){return this.store.select(ta(c))}getUserGroupValue(c){return this.store.select((a=>(0,h.P1)(ta(a),s=>i.kPG.loaderValueSelector(s)))(c)).pipe((0,_.h)(l=>Boolean(l)))}getUserGroupList(c){return this.store.select((a=>(0,h.P1)(ss,s=>i.kPG.denormalizeSearch(s,a)))(c))}getAvailableOrgCustomersList(c,l){return this.store.select(((a,s)=>(0,h.P1)(ss,lt,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.customers,l,s,a)))(c,l))}getAvailableOrderApprovalPermissionsList(c,l){return this.store.select(((a,s)=>(0,h.P1)(ss,He,(c,l)=>i.kPG.denormalizeCustomB2BSearch(c.permissions,l,s,a)))(c,l))}get(c){const l=this.getUserGroup(c).pipe((0,pe.e)(0),(0,R.b)(u=>{u.loading||u.success||u.error||this.load(c)}));return(0,ce.g)(()=>l.subscribe(),()=>this.getUserGroupValue(c))}getList(c){return this.getUserGroupList(c).pipe((0,A.QV)(z.N),(0,R.b)(l=>{l.loading||l.success||l.error||this.loadList(c)}),(0,_.h)(l=>Boolean(l.success||l.error)),(0,g.U)(l=>l.value))}create(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new ni({userId:l,userGroup:c})),error:()=>{}})}update(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Pe({userId:u,userGroupId:c,userGroup:l})),error:()=>{}})}getLoadingStatus(c){return Qe(this.getUserGroup(c))}delete(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new Ae({userId:l,userGroupId:c})),error:()=>{}})}loadAvailableOrgCustomers(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new ei({userId:u,userGroupId:c,params:l})),error:()=>{}})}loadAvailableOrderApprovalPermissions(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new Ye({userId:u,userGroupId:c,params:l})),error:()=>{}})}getAvailableOrgCustomers(c,l){return this.getAvailableOrgCustomersList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadAvailableOrgCustomers(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}getAvailableOrderApprovalPermissions(c,l){return this.getAvailableOrderApprovalPermissionsList(c,l).pipe((0,A.QV)(z.N),(0,R.b)(u=>{u.loading||u.success||u.error||this.loadAvailableOrderApprovalPermissions(c,l)}),(0,_.h)(u=>Boolean(u.success||u.error)),(0,g.U)(u=>u.value))}assignMember(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new me({userId:u,userGroupId:c,customerId:l})),error:()=>{}})}unassignMember(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new st({userId:u,userGroupId:c,customerId:l})),error:()=>{}})}unassignAllMembers(c){this.userIdService.takeUserId(!0).subscribe({next:l=>this.store.dispatch(new ln({userId:l,userGroupId:c})),error:()=>{}})}assignPermission(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new ye({userId:u,userGroupId:c,permissionUid:l})),error:()=>{}})}unassignPermission(c,l){this.userIdService.takeUserId(!0).subscribe({next:u=>this.store.dispatch(new pn({userId:u,userGroupId:c,permissionUid:l})),error:()=>{}})}getUserGroupState(c){return this.store.select((a=>(0,h.P1)(ea,s=>i.kPG.entityLoaderStateSelector(s,a)))(c))}getErrorState(c){return this.getUserGroupState(c).pipe((0,g.U)(l=>l.error??!1))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(h.yh),e.LFG(i.XBV))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Ja=(()=>{class a{constructor(c,l,u,f){this.globalMessageService=c,this.orgUnitService=l,this.semanticPathService=u,this.router=f}canActivate(){return this.orgUnitService.isUpdatingUnitAllowed()||(this.globalMessageService.add({key:"organization.notification.notExist"},i.xUg.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(i.IWp),e.LFG(za),e.LFG(i.hCH),e.LFG(tt.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),Qa=(()=>{class a{constructor(c,l,u,f){this.globalMessageService=c,this.b2bUserService=l,this.semanticPathService=u,this.router=f}canActivate(){return this.b2bUserService.isUpdatingUserAllowed()||(this.globalMessageService.add({key:"organization.notification.notExist"},i.xUg.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}}return a.\u0275fac=function(c){return new(c||a)(e.LFG(i.IWp),e.LFG(ns),e.LFG(i.hCH),e.LFG(tt.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac}),a})(),fu=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[ft,Qa,Ja]}),a})(),Uu=(()=>{class a extends i.kck{constructor(){super(...arguments),this.responseStatus=i.sdw.BAD_REQUEST,this.costCenterMask=/ambiguous unique keys \{code\=(.*)\} for model B2BCostCenterModel/,this.unitMask=/ambiguous unique keys \{uid\=(.*)\} for model B2BUnitModel/,this.permissionMask=/Approval Permission with code\: (.*) already exists\./,this.unknownMask=/Model saving error\./}hasMatch(c){return super.hasMatch(c)&&this.matchMask(c)}handleError(c,l){this.getErrors(l).forEach(({message:u})=>{u&&(this.handleOrganizationConflict(u,this.costCenterMask,"costCenter"),this.handleOrganizationConflict(u,this.unitMask,"unit"),this.handleOrganizationConflict(u,this.permissionMask,"permission"),this.handleOrganizationConflict(u,this.unknownMask,"unknown"))})}matchMask(c){return this.getErrors(c).some(l=>[this.costCenterMask,this.unitMask,this.permissionMask,this.unknownMask].some(u=>u.test(l.message??"")))}handleOrganizationConflict(c,l,u){const f=c.match(l);f&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${u}`,params:{code:f?.[1]}},i.xUg.MSG_TYPE_ERROR)}getErrors(c){return(c.error?.errors||[]).filter(l=>"ModelSavingError"===l.type||"DuplicateUidError"===l.type)}getPriority(){return 0}}return a.\u0275fac=function(){let s;return function(l){return(s||(s=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),hu=(()=>{class a extends i.kck{constructor(){super(...arguments),this.responseStatus=i.sdw.CONFLICT,this.budgetMask=/Budget with code \[(.*)\] already exists/,this.userMask=/User already exists/,this.userGroupMask=/Member Permission with the same id already exists/,this.unitMask=/Organizational unit with uid \[(.*)\] already exists/}hasMatch(c){return super.hasMatch(c)&&this.matchMask(c)}handleError(c,l){return this.getErrors(l).forEach(({message:u})=>{u&&(this.handleConflict(u,this.budgetMask,"budget"),this.handleConflict(u,this.userMask,"user",c?.body?.email),this.handleConflict(u,this.userGroupMask,"userGroup",c?.body?.uid),this.handleConflict(u,this.unitMask,"unit"))})}matchMask(c){return this.getErrors(c).some(l=>[this.budgetMask,this.userMask,this.userGroupMask,this.unitMask].some(u=>u.test(l.message??"")))}handleConflict(c,l,u,f){const y=c.match(l);y&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${u}`,params:{code:y?.[1]??f}},i.xUg.MSG_TYPE_ERROR)}getErrors(c){return(c.error?.errors||[]).filter(l=>"AlreadyExistsError"===l.type)}getPriority(){return 0}}return a.\u0275fac=function(){let s;return function(l){return(s||(s=e.n5z(a)))(l||a)}}(),a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),vu=(()=>{class a{}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[au],imports:[h.Aw.forFeature(is,va,{metaReducers:lu}),x.sQ.forFeature(Jc)]}),a})(),Su=(()=>{class a{static forRoot(){return{ngModule:a,providers:[rt,p,os,S,U,gt]}}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[{provide:i.kck,useExisting:hu,multi:!0},{provide:i.kck,useExisting:Uu,multi:!0}],imports:[gu,vu,fu]}),a})();const Au=new e.OlP("B2BUserNormalizer"),Cu=new e.OlP("B2BUserSerializer"),xu=new e.OlP("UserListNormalizer"),Lu=new e.OlP("BudgetNormalizer"),Eu=new e.OlP("BudgetsListNormalizer"),Iu=new e.OlP("BudgetSerializer"),yu=new e.OlP("B2BUnitNodeNormalizer"),Pu=new e.OlP("B2BUnitNodeListNormalizer"),Du=new e.OlP("B2BUnitNormalizer"),Tu=new e.OlP("B2BUnitSerializer"),bu=new e.OlP("B2BUnitApprovalProcessNormalizer"),Bu=new e.OlP("PermissionNormalizer"),Gu=new e.OlP("PermissionsListNormalizer"),Mu=new e.OlP("PermissionTypeNormalizer"),Ru=new e.OlP("PermissionTypesListNormalizer"),Ou=new e.OlP("PermissionSerializer"),Zu=new e.OlP("UserGroupNormalizer"),Fu=new e.OlP("UserGroupSerializer"),wu=new e.OlP("UserGroupListNormalizer");var yc=(()=>{return(a=yc||(yc={})).DAY="DAY",a.WEEK="WEEK",a.MONTH="MONTH",a.QUARTER="QUARTER",a.YEAR="YEAR",yc;var a})()},7685:(sa,ir,b)=>{b.d(ir,{a:()=>_t});var e=b(4650),i=b(3914),_=b(8105),g=b(529),A=b(5955),k=b(6895);let pe=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getBudgetEndpoint(p,m)).pipe(this.converter.pipeable(_.l6))}loadList(p,m){return this.http.get(this.getBudgetsEndpoint(p,m)).pipe(this.converter.pipeable(_.Wl))}create(p,m){const S=this.converter.convert(m,_.Fn);return this.http.post(this.getBudgetsEndpoint(p),S).pipe(this.converter.pipeable(_.l6))}update(p,m,S){const $=this.converter.convert(S,_.Fn);return this.http.patch(this.getBudgetEndpoint(p,m),$).pipe(this.converter.pipeable(_.l6))}getBudgetEndpoint(p,m){return this.occEndpoints.buildUrl("budget",{urlParams:{userId:p,budgetCode:m}})}getBudgetsEndpoint(p,m){return this.occEndpoints.buildUrl("budgets",{urlParams:{userId:p},queryParams:m})}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})(),R=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getCostCenterEndpoint(p,m)).pipe(this.converter.pipeable(A.m2B))}loadList(p,m){return this.http.get(this.getAllCostCentersEndpoint(p,m)).pipe(this.converter.pipeable(A.M$E))}create(p,m){return m=this.converter.convert(m,A.XwO),this.http.post(this.getCostCentersEndpoint(p),m).pipe(this.converter.pipeable(A.m2B))}update(p,m,S){return S=this.converter.convert(S,A.XwO),this.http.patch(this.getCostCenterEndpoint(p,m),S).pipe(this.converter.pipeable(A.m2B))}loadBudgets(p,m,S){return this.http.get(this.getBudgetsEndpoint(p,m,S)).pipe(this.converter.pipeable(_.Wl))}assignBudget(p,m,S){return this.http.post(this.getBudgetsEndpoint(p,m,{budgetCode:S}),null)}unassignBudget(p,m,S){return this.http.delete(this.getBudgetEndpoint(p,m,S))}getCostCenterEndpoint(p,m){return this.occEndpoints.buildUrl("costCenter",{urlParams:{userId:p,costCenterCode:m}})}getCostCentersEndpoint(p,m){return this.occEndpoints.buildUrl("costCenters",{urlParams:{userId:p},queryParams:m})}getAllCostCentersEndpoint(p,m){return this.occEndpoints.buildUrl("costCentersAll",{urlParams:{userId:p},queryParams:m})}getBudgetsEndpoint(p,m,S){return this.occEndpoints.buildUrl("costCenterBudgets",{urlParams:{userId:p,costCenterCode:m},queryParams:S})}getBudgetEndpoint(p,m,S){return this.occEndpoints.buildUrl("costCenterBudget",{urlParams:{userId:p,costCenterCode:m,budgetCode:S}})}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})(),E=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getOrgUnitEndpoint(p,m)).pipe(this.converter.pipeable(_.WQ))}create(p,m){return this.http.post(this.getOrgUnitsEndpoint(p),m).pipe(this.converter.pipeable(_.WQ))}update(p,m,S){return S=this.converter.convert(S,_.lp),this.http.patch(this.getOrgUnitEndpoint(p,m),S).pipe(this.converter.pipeable(_.WQ))}loadTree(p){return this.http.get(this.getOrgUnitsTreeEndpoint(p)).pipe(this.converter.pipeable(_.i))}loadList(p){return this.http.get(this.getAvailableOrgUnitsEndpoint(p)).pipe(this.converter.pipeable(_.XK))}loadApprovalProcesses(p){return this.http.get(this.getOrgUnitsApprovalProcessesEndpoint(p)).pipe(this.converter.pipeable(_.qZ))}loadUsers(p,m,S,$){return this.http.get(this.getUsersEndpoint(p,m,S,$)).pipe(this.converter.pipeable(_.UA))}assignRole(p,m,S){return this.http.post(this.getRolesEndpoint(p,m,{roleId:S}),null)}unassignRole(p,m,S){return this.http.delete(this.getRoleEndpoint(p,m,S))}assignApprover(p,m,S,$){return this.http.post(this.getApproversEndpoint(p,m,S,{roleId:$}),null)}unassignApprover(p,m,S,$){return this.http.delete(this.getApproverEndpoint(p,m,S,$))}loadAddresses(p,m){return this.http.get(this.getAddressesEndpoint(p,m)).pipe(this.converter.pipeable(A.RzO))}createAddress(p,m,S){return S=this.converter.convert(S,A.O9k),this.http.post(this.getAddressesEndpoint(p,m),S).pipe(this.converter.pipeable(A.jo8))}updateAddress(p,m,S,$){return $=this.converter.convert($,A.O9k),this.http.patch(this.getAddressEndpoint(p,m,S),$).pipe(this.converter.pipeable(A.jo8))}deleteAddress(p,m,S){return this.http.delete(this.getAddressEndpoint(p,m,S)).pipe(this.converter.pipeable(A.jo8))}getOrgUnitEndpoint(p,m){return this.occEndpoints.buildUrl("orgUnit",{urlParams:{userId:p,orgUnitId:m}})}getOrgUnitsEndpoint(p){return this.occEndpoints.buildUrl("orgUnits",{urlParams:{userId:p}})}getAvailableOrgUnitsEndpoint(p){return this.occEndpoints.buildUrl("orgUnitsAvailable",{urlParams:{userId:p}})}getOrgUnitsTreeEndpoint(p){return this.occEndpoints.buildUrl("orgUnitsTree",{urlParams:{userId:p}})}getOrgUnitsApprovalProcessesEndpoint(p){return this.occEndpoints.buildUrl("orgUnitsApprovalProcesses",{urlParams:{userId:p}})}getUsersEndpoint(p,m,S,$){return this.occEndpoints.buildUrl("orgUnitUsers",{urlParams:{userId:p,orgUnitId:m,roleId:S},queryParams:$})}getRolesEndpoint(p,m,S){return this.occEndpoints.buildUrl("orgUnitUserRoles",{urlParams:{userId:p,orgCustomerId:m},queryParams:S})}getRoleEndpoint(p,m,S){return this.occEndpoints.buildUrl("orgUnitUserRole",{urlParams:{userId:p,orgCustomerId:m,roleId:S}})}getApproversEndpoint(p,m,S,$){return this.occEndpoints.buildUrl("orgUnitApprovers",{urlParams:{userId:p,orgUnitId:m,orgCustomerId:S},queryParams:$})}getApproverEndpoint(p,m,S,$){return this.occEndpoints.buildUrl("orgUnitApprover",{urlParams:{userId:p,orgUnitId:m,orgCustomerId:S,roleId:$}})}getAddressesEndpoint(p,m){return this.occEndpoints.buildUrl("orgUnitsAddresses",{urlParams:{userId:p,orgUnitId:m}})}getAddressEndpoint(p,m,S){return this.occEndpoints.buildUrl("orgUnitsAddress",{urlParams:{userId:p,orgUnitId:m,addressId:S}})}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})(),P=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getUserGroupEndpoint(p,m)).pipe(this.converter.pipeable(_.BI))}loadList(p,m){return this.http.get(this.getUserGroupsEndpoint(p,m)).pipe(this.converter.pipeable(_.NL))}loadAvailableOrderApprovalPermissions(p,m,S){return this.http.get(this.getPermissionsEndpoint(p,m,S)).pipe(this.converter.pipeable(_.g0))}loadAvailableOrgCustomers(p,m,S){return this.http.get(this.getAvailableCustomersEndpoint(p,m,S)).pipe(this.converter.pipeable(_.UA))}create(p,m){return m=this.converter.convert(m,_.rV),this.http.post(this.getUserGroupsEndpoint(p),m).pipe(this.converter.pipeable(_.BI))}delete(p,m){return this.http.delete(this.getUserGroupEndpoint(p,m)).pipe(this.converter.pipeable(_.BI))}update(p,m,S){return S=this.converter.convert(S,_.rV),this.http.patch(this.getUserGroupEndpoint(p,m),S).pipe(this.converter.pipeable(_.BI))}assignMember(p,m,S){return this.http.post(this.getMembersEndpoint(p,m,{orgCustomerId:S}),null)}assignOrderApprovalPermission(p,m,S){return this.http.post(this.getOrderApprovalPermissionsEndpoint(p,m,{orderApprovalPermissionCode:S}),null)}unassignMember(p,m,S){return this.http.delete(this.getMemberEndpoint(p,m,S))}unassignAllMembers(p,m){return this.http.delete(this.getMembersEndpoint(p,m))}unassignOrderApprovalPermission(p,m,S){return this.http.delete(this.getOrderApprovalPermissionEndpoint(p,m,S))}getUserGroupEndpoint(p,m){return this.occEndpoints.buildUrl("userGroup",{urlParams:{userId:p,userGroupId:m}})}getUserGroupsEndpoint(p,m){return this.occEndpoints.buildUrl("userGroups",{urlParams:{userId:p},queryParams:m})}getAvailableCustomersEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupAvailableOrgCustomers",{urlParams:{userId:p,userGroupId:m},queryParams:S})}getPermissionsEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupAvailableOrderApprovalPermissions",{urlParams:{userId:p,userGroupId:m},queryParams:S})}getMemberEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupMember",{urlParams:{userId:p,userGroupId:m,orgCustomerId:S}})}getMembersEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupMembers",{urlParams:{userId:p,userGroupId:m},queryParams:S})}getOrderApprovalPermissionsEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermissions",{urlParams:{userId:p,userGroupId:m},queryParams:S})}getOrderApprovalPermissionEndpoint(p,m,S){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermission",{urlParams:{userId:p,userGroupId:m,orderApprovalPermissionCode:S}})}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})(),V=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getPermissionEndpoint(p,m)).pipe(this.converter.pipeable(_.Ar))}loadList(p,m){return this.http.get(this.getPermissionsEndpoint(p,m)).pipe(this.converter.pipeable(_.g0))}create(p,m){return m=this.converter.convert(m,_.zb),this.http.post(this.getPermissionsEndpoint(p),m).pipe(this.converter.pipeable(_.Ar))}update(p,m,S){return S=this.converter.convert(S,_.zb),this.http.patch(this.getPermissionEndpoint(p,m),S).pipe(this.converter.pipeable(_.Ar))}loadTypes(){return this.http.get(this.getPermissionTypesEndpoint()).pipe(this.converter.pipeable(_.gW))}getPermissionEndpoint(p,m){return this.occEndpoints.buildUrl("permission",{urlParams:{userId:p,orderApprovalPermissionCode:m}})}getPermissionsEndpoint(p,m){return this.occEndpoints.buildUrl("permissions",{urlParams:{userId:p},queryParams:m})}getPermissionTypesEndpoint(){return this.occEndpoints.buildUrl("orderApprovalPermissionTypes")}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})(),N=(()=>{class U{constructor(p,m,S){this.http=p,this.occEndpoints=m,this.converter=S}load(p,m){return this.http.get(this.getB2BUserEndpoint(p,m)).pipe(this.converter.pipeable(_.cI))}loadList(p,m){return this.http.get(this.getB2BUsersEndpoint(p,m)).pipe(this.converter.pipeable(_.UA))}create(p,m){return m=this.converter.convert(m,_.FA),this.http.post(this.getB2BUsersEndpoint(p),m).pipe(this.converter.pipeable(_.cI))}update(p,m,S){return S=this.converter.convert(S,_.FA),this.http.patch(this.getB2BUserEndpoint(p,m),S).pipe(this.converter.pipeable(_.cI))}loadApprovers(p,m,S){return this.http.get(this.getApproversEndpoint(p,m,S)).pipe(this.converter.pipeable(_.UA))}assignApprover(p,m,S){return this.http.post(this.getApproverEndpoint(p,m,S),null)}unassignApprover(p,m,S){return this.http.delete(this.getApproverEndpoint(p,m,S))}loadPermissions(p,m,S){return this.http.get(this.getPermissionsEndpoint(p,m,S)).pipe(this.converter.pipeable(_.g0))}assignPermission(p,m,S){return this.http.post(this.getPermissionEndpoint(p,m,S),null)}unassignPermission(p,m,S){return this.http.delete(this.getPermissionEndpoint(p,m,S))}loadUserGroups(p,m,S){return this.http.get(this.getUserGroupsEndpoint(p,m,S)).pipe(this.converter.pipeable(_.NL))}assignUserGroup(p,m,S){return this.http.post(this.getUserGroupEndpoint(p,m,S),null)}unassignUserGroup(p,m,S){return this.http.delete(this.getUserGroupEndpoint(p,m,S))}getB2BUserEndpoint(p,m){return this.occEndpoints.buildUrl("b2bUser",{urlParams:{userId:p,orgCustomerId:m}})}getB2BUsersEndpoint(p,m){return this.occEndpoints.buildUrl("b2bUsers",{urlParams:{userId:p},queryParams:m})}getApproverEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserApprover",{urlParams:{userId:p,orgCustomerId:m,approverId:S}})}getApproversEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserApprovers",{urlParams:{userId:p,orgCustomerId:m},queryParams:S})}getPermissionEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserPermission",{urlParams:{userId:p,orgCustomerId:m,premissionId:S}})}getPermissionsEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserPermissions",{urlParams:{userId:p,orgCustomerId:m},queryParams:S})}getUserGroupEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserUserGroup",{urlParams:{userId:p,orgCustomerId:m,userGroupId:S}})}getUserGroupsEndpoint(p,m,S){return this.occEndpoints.buildUrl("b2bUserUserGroups",{urlParams:{userId:p,orgCustomerId:m},queryParams:S})}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(g.eN),e.LFG(A.Lz0),e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac}),U})();const Le={backend:{occ:{endpoints:{budgets:"/users/${userId}/budgets",budget:"/users/${userId}/budgets/${budgetCode}",orgUnitsAvailable:"/users/${userId}/availableOrgUnitNodes",orgUnitsTree:"/users/${userId}/orgUnitsRootNodeTree",orgUnitsApprovalProcesses:"/users/${userId}/orgUnitsAvailableApprovalProcesses",orgUnits:"/users/${userId}/orgUnits",orgUnit:"/users/${userId}/orgUnits/${orgUnitId}",orgUnitUsers:"/users/${userId}/orgUnits/${orgUnitId}/availableUsers/${roleId}",orgUnitApprovers:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles",orgUnitApprover:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitUserRoles:"/users/${userId}/orgCustomers/${orgCustomerId}/roles",orgUnitUserRole:"/users/${userId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitsAddresses:"/users/${userId}/orgUnits/${orgUnitId}/addresses",orgUnitsAddress:"/users/${userId}/orgUnits/${orgUnitId}/addresses/${addressId}",userGroups:"/users/${userId}/orgUnitUserGroups",userGroup:"/users/${userId}/orgUnitUserGroups/${userGroupId}",userGroupAvailableOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrderApprovalPermissions",userGroupAvailableOrgCustomers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrgCustomers",userGroupMembers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members",userGroupMember:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members/${orgCustomerId}",userGroupOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions",userGroupOrderApprovalPermission:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions/${orderApprovalPermissionCode}",costCenters:"/costcenters",costCenter:"/costcenters/${costCenterCode}",costCentersAll:"/costcentersall",costCenterBudgets:"/costcenters/${costCenterCode}/budgets",costCenterBudget:"/costcenters/${costCenterCode}/budgets/${budgetCode}",permissions:"/users/${userId}/orderApprovalPermissions",permission:"/users/${userId}/orderApprovalPermissions/${orderApprovalPermissionCode}",orderApprovalPermissionTypes:"/orderApprovalPermissionTypes",b2bUsers:"/users/${userId}/orgCustomers",b2bUser:"/users/${userId}/orgCustomers/${orgCustomerId}",b2bUserApprovers:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers",b2bUserApprover:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers/${approverId}",b2bUserUserGroups:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups",b2bUserUserGroup:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups/${userGroupId}",b2bUserPermissions:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions",b2bUserPermission:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions/${premissionId}"}}}};let cr=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m={...p}),p.startDate&&(m.startDate=A.IMh.convertDateToDatetime(p.startDate)),p.endDate&&(m.endDate=A.IMh.convertDateToDatetime(p.endDate,!0)),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),ar=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m={...p}),m.email=p?.uid,m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),C=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m={...p}),delete m.isAssignedToApprovers,!1===m.active&&(m.roles=[]),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Ee=(()=>{class U{constructor(p){this.converter=p}convert(p,m){return void 0===m&&(m={...p}),m.values=p.budgets?.map(S=>({...this.converter.convert(S,_.l6)}))??[],m}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),z=(()=>{class U{convert(p,m){return void 0===m&&(m={...p}),p.startDate&&(m.startDate=A.IMh.convertDatetimeToDate(p.startDate)),p.endDate&&(m.endDate=A.IMh.convertDatetimeToDate(p.endDate)),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),ce=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m=[...p.approvalProcesses]),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),q=(()=>{class U{convert(p,m){return void 0===m&&(m=[...p.unitNodes]),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),F=(()=>{class U{convert(p,m){return void 0===m&&(m={...p}),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Oe=(()=>{class U{convert(p,m){return void 0===m&&(m={...p}),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Y=(()=>{class U{constructor(p){this.converter=p}convert(p,m){return void 0===m&&(m={...p}),m.values=p.orderApprovalPermissions?.map(S=>({...this.converter.convert(S,_.Ar)}))??[],m}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),h=(()=>{class U{convert(p,m){return void 0===m&&(m={...p}),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),x=(()=>{class U{constructor(p){this.converter=p}convert(p,m){return m=p.orderApprovalPermissionTypes?.map(S=>this.converter.convert(S,_.IW)),m??[]}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),tt=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m={...p}),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),pt=(()=>{class U{constructor(p){this.converter=p}convert(p,m){return void 0===m&&(m={...p}),m.values=p.orgUnitUserGroups.map(S=>({...this.converter.convert(S,_.BI)})),m}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),gt=(()=>{class U{constructor(){}convert(p,m){return void 0===m&&(m={...p}),m}}return U.\u0275fac=function(p){return new(p||U)},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),mt=(()=>{class U{constructor(p){this.converter=p}convert(p,m){return void 0===m&&(m={...p}),m.values=p.users.map(S=>({...this.converter.convert(S,_.cI)})),m}}return U.\u0275fac=function(p){return new(p||U)(e.LFG(A.IXI))},U.\u0275prov=e.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),rt=(()=>{class U{}return U.\u0275fac=function(p){return new(p||U)},U.\u0275mod=e.oAB({type:U}),U.\u0275inj=e.cJS({providers:[(0,A.i51)(Le),{provide:_.Vs,useClass:pe},{provide:_.l6,useExisting:z,multi:!0},{provide:_.Fn,useExisting:cr,multi:!0},{provide:_.Wl,useExisting:Ee,multi:!0},{provide:_.gL,useClass:E},{provide:_.WQ,useExisting:Oe,multi:!0},{provide:_.i,useExisting:F,multi:!0},{provide:_.XK,useExisting:q,multi:!0},{provide:_.qZ,useExisting:ce,multi:!0},{provide:_.f9,useClass:P},{provide:_.BI,useExisting:gt,multi:!0},{provide:_.NL,useExisting:pt,multi:!0},{provide:_.aQ,useClass:V},{provide:_.Ar,useExisting:h,multi:!0},{provide:_.g0,useExisting:Y,multi:!0},{provide:_.IW,useExisting:tt,multi:!0},{provide:_.gW,useExisting:x,multi:!0},{provide:_.hS,useClass:R},{provide:_.EK,useClass:N},{provide:_.cI,useExisting:ar,multi:!0},{provide:_.FA,useExisting:C,multi:!0},{provide:_.UA,useExisting:mt,multi:!0}],imports:[k.ez,A.nWM]}),U})(),_t=(()=>{class U{}return U.\u0275fac=function(p){return new(p||U)},U.\u0275mod=e.oAB({type:U}),U.\u0275inj=e.cJS({imports:[_.Mi.forRoot(),rt,i.tVB]}),U})()}}]);